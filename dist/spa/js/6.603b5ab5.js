(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[6],{"5a91":function(t,e,a){},6995:function(t,e,a){"use strict";var i=a("db2e"),s=a.n(i);s.a},db2e:function(t,e,a){},e1f5:function(t,e,a){"use strict";var i=a("5a91"),s=a.n(i);s.a},f840:function(t,e,a){"use strict";a.r(e);var i,s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-page",{staticClass:"q-pa-sm edx-background"},[a("q-card",{staticClass:"bg-transparent no-shadow no-border"},[a("q-card-section",{staticClass:"q-pa-none"},[a("div",{staticClass:"row q-col-gutter-sm "},[a("div",{staticClass:"col-md-2 col-sm-12 col-xs-12"},[a("q-item",{staticClass:"q-pa-none q-ml-xs",staticStyle:{"background-color":"#fff"}},[a("q-item-section",{staticClass:" q-pa-lg q-mr-none text-white",staticStyle:{"background-color":"#fff"},attrs:{side:""}},[a("q-icon",{staticClass:"edx-green",attrs:{name:"monetization_on",size:"35px"}})],1),a("q-item-section",{staticClass:"q-ml-none"},[a("q-item-label",{staticClass:"text-grey-7"},[t._v("Total PD")]),t.barInfo.totalAmount?a("q-item-label",{staticClass:"text-dark text-h6 text-weight-bolder"},[a("div",[t._v("$ "+t._s(t.barInfo.totalAmount.total.toFixed(2)))])]):t._e(),t.barInfo.totalAmount?a("q-item-label",[a("div",{staticClass:"fs-1",class:t.barInfo.totalAmount.preliminary>0?"edx-green":"edx-red"},[t._v("$ "+t._s(t.barInfo.totalAmount.preliminary.toFixed(2)))])]):t._e()],1)],1)],1),a("div",{staticClass:"col-md-2 col-sm-12 col-xs-12"},[a("q-item",{staticClass:"q-pa-none q-ml-xs",staticStyle:{"background-color":"#fff"}},[a("q-item-section",{staticClass:" q-pa-lg q-mr-none text-white",staticStyle:{"background-color":"#fff"},attrs:{side:""}},[a("q-icon",{staticClass:"edx-red",attrs:{name:"monetization_on",size:"35px"}})],1),t.barInfo.usedBalance?a("q-item-section",{staticClass:"q-ml-none"},[a("q-item-label",{staticClass:"text-grey-7"},[t._v("Used PD")]),a("q-item-label",{staticClass:"text-dark text-h6 text-weight-bolder"},[t._v("$ "+t._s(t.barInfo.usedBalance.toFixed(2))+" ")])],1):t._e()],1)],1),a("div",{staticClass:"col-md-2 col-sm-12 col-xs-12"},[a("q-item",{staticClass:"q-pa-none q-ml-xs",staticStyle:{"background-color":"#fff"}},[a("q-item-section",{staticClass:" q-pa-lg q-mr-none text-white",staticStyle:{"background-color":"#fff"},attrs:{side:""}},[a("q-icon",{staticClass:"edx-orange",attrs:{name:"monetization_on",size:"35px"}})],1),a("q-item-section",{staticClass:"q-ml-none"},[a("q-item-label",{staticClass:"text-grey-7"},[t._v("Remaining PD")]),t.barInfo.remainingBalance?a("q-item-label",{staticClass:"text-dark text-h6 text-weight-bolder"},[a("div",[t._v("$ "+t._s(t.barInfo.remainingBalance.total.toFixed(2)))])]):t._e(),t.barInfo.remainingBalance?a("q-item-label",[a("div",{staticClass:"fs-1",class:t.barInfo.remainingBalance.preliminary>0?"edx-green":"edx-red"},[t._v("$ "+t._s(t.barInfo.remainingBalance.preliminary.toFixed(2)))])]):t._e()],1)],1)],1)])])],1),a("div",{staticClass:"q-pa-sm q-mt-sm q-gutter-sm"},[a("div",{staticClass:"edx-header-parent"},[a("span",{staticClass:"edx-header-text"},[t._v(t._s(t.schoolName))])]),a("q-card",[a("q-tabs",{staticClass:"text-grey",attrs:{dense:"","active-color":"primary","indicator-color":"primary",align:"left","narrow-indicator":""},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[a("q-tab",{attrs:{name:"1",label:"Title I"}}),a("q-tab",{attrs:{name:"2",label:"Title II"}}),a("q-tab",{attrs:{name:"3",label:"Title III"}}),a("q-tab",{attrs:{name:"4",label:"Title IV"}}),a("q-tab",{attrs:{name:"5",label:"ESSER"}}),a("q-tab",{attrs:{name:"6",label:"GEER"}})],1),a("q-separator"),a("q-tab-panels",{staticClass:"tab-panels-parent",attrs:{animated:""},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[a("q-tab-panel",{staticClass:"q-p-sm",attrs:{name:"1"}},[a("ActivityTableTitle",{attrs:{title:1,barInfo:t.barInfo}})],1),a("q-tab-panel",{staticClass:"q-p-sm",attrs:{name:"2"}},[a("ActivityTableTitle",{attrs:{title:2,barInfo:t.barInfo}})],1),a("q-tab-panel",{staticClass:"q-p-sm",attrs:{name:"3"}},[a("ActivityTableTitle",{attrs:{title:3,barInfo:t.barInfo}})],1),a("q-tab-panel",{staticClass:"q-p-sm",attrs:{name:"4"}},[a("ActivityTableTitle",{attrs:{title:4,barInfo:t.barInfo}})],1),a("q-tab-panel",{staticClass:"q-p-sm",attrs:{name:"5"}},[a("ActivityTableTitle",{attrs:{title:5,barInfo:t.barInfo}})],1),a("q-tab-panel",{staticClass:"q-p-sm",attrs:{name:"6"}},[a("ActivityTableTitle",{attrs:{title:6,barInfo:t.barInfo}})],1)],1)],1)],1)],1)},n=[],o=(a("7f7f"),a("bc3a")),l=a.n(o),d=a("a1bc"),r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("q-table",{staticClass:"overflow-auto my-sticky-column-table",attrs:{data:t.data,columns:t.columns,loading:t.loading,pagination:t.pagination},on:{"update:pagination":function(e){t.pagination=e}},scopedSlots:t._u([{key:"loading",fn:function(){return[a("q-inner-loading",{attrs:{showing:"",color:"primary"}})]},proxy:!0},{key:"top-right",fn:function(e){return[a("q-input",{staticClass:"q-mr-md",staticStyle:{"min-width":"250px","max-width":"250px"},attrs:{disable:t.showRemainingBalance,outlines:"",dense:"",placeholder:"Search"},on:{keyup:t.keyUpFilter,keydown:t.keyDownFilter},scopedSlots:t._u([{key:"append",fn:function(){return[a("q-icon",{attrs:{name:"search"}})]},proxy:!0}],null,!0),model:{value:t.filter,callback:function(e){t.filter=e},expression:"filter"}}),a("q-btn",{staticClass:"q-mr-md edx-add-btn",attrs:{square:"",size:"13px","text-color":"white",icon:"add","no-caps":""},on:{click:t.openNewActivityPopup}},[t._v("\n                Add\n            ")]),a("q-btn",{staticClass:"edx-excel-btn",attrs:{round:"",icon:"mdi-file-excel-box",size:"10px","text-color":"white","no-caps":""},on:{click:t.exportTable}},[a("q-tooltip",{attrs:{"content-class":"edx-tooltip"}},[t._v("Export to Excel")])],1),a("q-btn",{staticClass:"edx-ledger-balance-btn q-ml-md",attrs:{round:"",size:"10px",icon:"price_check","no-caps":"",flat:""},on:{click:function(e){t.showRemainingBalance=!0}}},[a("q-tooltip",{attrs:{"content-class":"edx-tooltip"}},[t._v("View Ledger Balances")])],1),"list"===t.mode?a("q-btn",{staticClass:"q-ml-md",attrs:{flat:"",round:"",dense:"",icon:e.inFullscreen?"fullscreen_exit":"fullscreen"},on:{click:e.toggleFullscreen}},[a("q-tooltip",{attrs:{"content-class":"edx-tooltip",disable:t.$q.platform.is.mobile}},[t._v("\n                    "+t._s(e.inFullscreen?"Exit Fullscreen":"Toggle Fullscreen")+"\n                ")])],1):t._e(),a("div",{staticClass:"q-pa-sm q-gutter-sm"},[a("q-dialog",{attrs:{persistent:""},model:{value:t.confirm,callback:function(e){t.confirm=e},expression:"confirm"}},[a("q-card",[a("q-card-section",{staticClass:"row items-center"},[a("span",{staticClass:"q-ml-sm"},[t._v("Are you sure to delete this item?")])]),a("q-card-actions",{attrs:{align:"right"}},[a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"No, thanks",color:"primary"}}),a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{label:"Yes",color:"edx-delete-btn"},on:{click:t.deleteItem}})],1)],1)],1),a("q-dialog",{attrs:{persistent:""},model:{value:t.confirmAttendeeModal,callback:function(e){t.confirmAttendeeModal=e},expression:"confirmAttendeeModal"}},[a("q-card",[a("q-card-section",{staticClass:"row items-center"},[a("span",{staticClass:"q-ml-sm"},[t._v("Are you sure to delete this?")])]),a("q-card-actions",{attrs:{align:"right"}},[a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"No, thanks",color:"primary"}}),a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{label:"Yes",color:"edx-delete-btn"},on:{click:t.deleteAttendee}})],1)],1)],1),a("q-dialog",{model:{value:t.addParticipantModal,callback:function(e){t.addParticipantModal=e},expression:"addParticipantModal"}},[a("q-card",{staticStyle:{width:"550px","max-width":"80vw"}},[a("q-card-section",{staticClass:"row",staticStyle:{width:"500px",display:"flex","align-items":"center"}},[a("q-icon",{staticClass:"text-blue q-mr-sm",staticStyle:{"font-size":"2em"},attrs:{name:"perm_identity"}}),a("span",{staticClass:"text-h6",staticStyle:{"line-height":"2.5rem"}},[t._v("Create New Attendee")])],1),a("q-card-section",{staticClass:"scroll q-pt-none q-pb-none",staticStyle:{"max-height":"60vh"}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("q-input",{attrs:{outlined:"",label:"First Name"},model:{value:t.addNewAttendee.firstName,callback:function(e){t.$set(t.addNewAttendee,"firstName",e)},expression:"addNewAttendee.firstName"}})],1),a("div",{staticClass:"col-12 q-mt-sm"},[a("q-input",{attrs:{outlined:"",label:"Last Name"},model:{value:t.addNewAttendee.lastName,callback:function(e){t.$set(t.addNewAttendee,"lastName",e)},expression:"addNewAttendee.lastName"}})],1),a("div",{staticClass:"col-12 q-mt-sm"},[a("q-input",{attrs:{outlined:"",label:"Email"},model:{value:t.addNewAttendee.email,callback:function(e){t.$set(t.addNewAttendee,"email",e)},expression:"addNewAttendee.email"}})],1)])]),a("q-card-actions",{staticClass:"row justify-end"},[a("div",[a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"Cancel",color:"primary"}}),a("q-btn",{attrs:{flat:"",label:"Add",color:"primary"},on:{click:t.addParticipant}})],1)])],1)],1),a("q-dialog",{attrs:{persistent:""},model:{value:t.confirmTeacherModal,callback:function(e){t.confirmTeacherModal=e},expression:"confirmTeacherModal"}},[a("q-card",[a("q-card-section",{staticClass:"row items-center"},[a("span",{staticClass:"q-ml-sm"},[t._v("Are you sure to delete this item?")])]),a("q-card-actions",{attrs:{align:"right"}},[a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"No, thanks",color:"primary"}}),a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{label:"Yes",color:"edx-delete-btn"},on:{click:t.deleteTeacherItem}})],1)],1)],1),a("q-dialog",{attrs:{persistent:""},model:{value:t.confirmDate,callback:function(e){t.confirmDate=e},expression:"confirmDate"}},[a("q-card",[a("q-card-section",{staticClass:"row items-center"},[a("span",{staticClass:"q-ml-sm"},[t._v("Are you sure to delete this item?")])]),a("q-card-actions",{attrs:{align:"right"}},[a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"No, thanks",color:"primary"}}),a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{label:"Yes",color:"edx-delete-btn"},on:{click:t.deleteDate}})],1)],1)],1)],1)]}},{key:"body",fn:function(e){return[a("q-tr",{staticClass:"cursor-pointer",attrs:{props:e},on:{click:function(a){return t.openActivityPopup(e.row,e.rowIndex)}}},[e.row.online_uni?a("q-td",{key:"online",attrs:{props:e}},[a("span",{staticClass:"material-icons cursor-pointer",class:t.activityTypeIconColor(e.row.online_uni.id)},[t._v("\n                        "+t._s(t.activityTypeIcon(e.row.online_uni.id))+"\n                        "),a("q-tooltip",{attrs:{"content-class":"edx-tooltip",anchor:"top middle",self:"bottom middle",offset:[10,10],"transition-show":"flip-right","transition-hide":"flip-left"}},[a("strong",[t._v(t._s(e.row.online_uni.label))])])],1)]):t._e(),a("q-td",{key:"provider",attrs:{props:e}},[e.row.provider?a("div",[t._v("\n                        "+t._s(e.row.provider.label)+"\n                    ")]):t._e()]),a("q-td",{key:"status",attrs:{props:e}},[a("q-icon",{class:t.activityStatusIconColor(e.row.status_uni.id),attrs:{name:t.activityStatusIcon(e.row.status_uni.id)}},[a("q-tooltip",{attrs:{"content-class":"edx-tooltip",anchor:"top middle",self:"bottom middle",offset:[10,10],"transition-show":"flip-right","transition-hide":"flip-left"}},[a("strong",[t._v(t._s(e.row.status_uni.label))])])],1)],1),a("q-td",{key:"approvals",attrs:{props:e}},[a("q-icon",{class:t.approvalStatusIconColor(e.row.approval_status_uni.id),attrs:{name:t.approvalStatusIcon(e.row.approval_status_uni.id)}},[a("q-tooltip",{attrs:{"content-class":"edx-tooltip",anchor:"top middle",self:"bottom middle",offset:[10,10],"transition-show":"flip-right","transition-hide":"flip-left"}},[a("strong",[t._v("\n                                "+t._s(e.row.approval_status_uni.label)+"\n                            ")])])],1),a("q-icon",{class:t.approvalTypeIconColor(e.row.approval_type_uni.id),attrs:{name:t.approvalTypeIcon(e.row.approval_type_uni.id)}},[a("q-tooltip",{attrs:{"content-class":"edx-tooltip",anchor:"top middle",self:"bottom middle",offset:[10,10],"transition-show":"flip-right","transition-hide":"flip-left"}},[a("strong",[t._v(t._s(t.approvalType(e.row.approval_type_uni.id)))])])],1)],1),a("q-td",{key:"PDActivity",attrs:{props:e}},[a("span",{staticClass:"inline-span table-text"},[t._v(t._s(e.row.activity))])]),a("q-td",{key:"dateOfActivity",style:{maxWidth:"200px",width:"200px"},attrs:{props:e}},[a("span",[t._v("\n                        "+t._s(e.row.activity_date)+"\n                    ")]),a("span",{staticClass:"q-ml-sm"},[e.row.repeat?a("q-icon",{staticClass:"edx-icon-multi",attrs:{name:t.multi}}):t._e(),e.row.multi?a("q-icon",{staticClass:"edx-icon-repeat",attrs:{name:t.repeat}}):t._e()],1)]),a("q-td",{key:"noAttending",attrs:{props:e}},[a("div",[t._v("\n                        "+t._s(e.row.no_attending)+"\n                        "),a("span",{staticClass:"q-ml-sm"},[a("q-icon",{staticClass:"edx-icon-attendee-summary",attrs:{name:t.attendeeSummary}})],1)])]),a("q-td",{key:"amount",attrs:{props:e}},[a("div",[t._v("$ "+t._s(e.row.amount))])]),a("q-td",{key:"type",attrs:{props:e}},[a("q-chip",{attrs:{square:"",color:"edx-bg-pd"}},[a("span",[t._v("PD")]),a("q-tooltip",{attrs:{"content-class":"edx-tooltip",anchor:"top middle",self:"bottom middle",offset:[10,10],"transition-show":"flip-right","transition-hide":"flip-left"}},[a("strong",[t._v("Professional Development")])])],1)],1),a("q-td",{key:"grossPD",staticClass:"mw-100",attrs:{props:e}},[a("div",[t._v("$ "+t._s((parseFloat(e.row.amount)+parseFloat(e.row.amount*e.row.percentage/100)).toFixed(2)))])]),a("q-td",{key:"actions",attrs:{props:e}},[a("q-fab",{attrs:{padding:"xs",color:"edx-action-btn",icon:t.qFab,"active-icon":t.qFavOpen,direction:"left"},on:{click:function(t){t.stopPropagation()}}},[a("q-fab-action",{staticClass:"q-mr-sm",attrs:{icon:t.duplicateIcon,color:"edx-duplicate-btn",size:"sm","no-caps":"",round:""},on:{click:function(a){return t.openDuplicatePopup(e.row)}}},[a("q-tooltip",{attrs:{"content-class":"edx-tooltip",anchor:"top middle",self:"bottom middle",offset:[10,10],"transition-show":"flip-right","transition-hide":"flip-left"}},[a("strong",[t._v("Duplicate")])])],1),a("q-fab-action",{attrs:{icon:t.deleteIcon,color:"edx-delete-btn",size:"sm","no-caps":"",round:""},on:{click:function(a){return t.openDeleteModal(e.row)}}},[a("q-tooltip",{attrs:{"content-class":"edx-tooltip",anchor:"top middle",self:"bottom middle",offset:[10,10],"transition-show":"flip-right","transition-hide":"flip-left"}},[a("strong",[t._v("Delete")])])],1)],1)],1)],1)]}},{key:"bottom",fn:function(){return[a("div",{staticClass:"q-pa-md flex flex-center"},[a("q-pagination",{attrs:{"max-pages":6,max:t.pages,"direction-links":!0,color:"edx-pagination"},on:{click:function(e){return t.changePagination(t.current)}},model:{value:t.current,callback:function(e){t.current=e},expression:"current"}}),a("div",{staticClass:"row justify-center items-center"},[a("span",{staticClass:"q-mr-md"},[t._v("Rows Per page")]),a("q-select",{attrs:{dense:"",outlined:"",options:t.rowsPerPageArr},on:{input:t.changeRowsPerPage},model:{value:t.pagination.rowsPerPage,callback:function(e){t.$set(t.pagination,"rowsPerPage",e)},expression:"pagination.rowsPerPage"}})],1)],1)]},proxy:!0}])}),a("dialog-draggable",{attrs:{width:850,modelDialog:t.isShowActivityPopup,title:"Professional Development Details",icon:"calendar_today"},on:{onHide:function(e){t.isShowActivityPopup=!1}}},[a("div",{staticClass:"q-pa-md scroll",staticStyle:{"max-height":"70vh"}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-5 q-pr-lg"},[a("div",{staticClass:"q-mb-md"},[a("div",{staticClass:"text-subtitle2 q-mb-sm"},[t._v("Activity Name")]),a("q-input",{attrs:{outlined:"",dense:"",autofocus:""},model:{value:t.editedItem.activity,callback:function(e){t.$set(t.editedItem,"activity",e)},expression:"editedItem.activity"}})],1),a("div",{staticClass:"q-mb-md"},[a("div",{staticClass:"text-subtitle2 q-mb-sm"},[t._v("Activity Description")]),a("q-input",{attrs:{type:"textarea",outlined:"",dense:"",autofocus:"",rows:"2"},model:{value:t.editedItem.description,callback:function(e){t.$set(t.editedItem,"description",e)},expression:"editedItem.description"}})],1),a("div",{staticClass:"q-mb-md"},[a("div",{staticClass:"text-subtitle2 q-mb-sm"},[t._v("Campus")]),a("q-select",{attrs:{outlined:"",dense:"","input-debounce":"0",options:t.optionsCampus},scopedSlots:t._u([{key:"no-option",fn:function(){return[a("q-item",[a("q-item-section",{staticClass:"text-grey"},[t._v("\n                                    No results\n                                    ")])],1)]},proxy:!0}]),model:{value:t.editedItem.campus,callback:function(e){t.$set(t.editedItem,"campus",e)},expression:"editedItem.campus"}})],1),a("div",{staticClass:"q-mb-md"},[a("div",{staticClass:"text-subtitle2 q-mb-sm"},[t._v("Provider")]),a("q-select",{attrs:{dense:"",outlined:"","use-input":"","hide-selected":"","fill-input":"","input-debounce":"0",options:t.optionsSupplier},on:{filter:t.filterSupplier},scopedSlots:t._u([{key:"no-option",fn:function(){return[a("q-item",[a("q-item-section",{staticClass:"text-grey"},[t._v("\n                                    No results\n                                    ")])],1)]},proxy:!0}]),model:{value:t.editedItem.provider,callback:function(e){t.$set(t.editedItem,"provider",e)},expression:"editedItem.provider"}})],1),a("div",{staticClass:"row"},[t.editedItem.qtyOptions&&!t.isOptimizeOrders&&3!=t.editedItem.qtyOptions.id?a("div",{staticClass:"col-md-3 q-pr-sm"},[a("div",{staticClass:"text-subtitle2 q-mb-sm"},[t._v("\n                                "+t._s(t.editedItem.qtyOptions.label)+"\n                            ")]),a("div",{staticClass:"h-popup w-100"},[t._v("\n                                 "+t._s(t.editedItem.quantity)+"\n                            ")]),a("q-popup-edit",{attrs:{title:"Update Quantity",buttons:""},model:{value:t.editedItem.quantity,callback:function(e){t.$set(t.editedItem,"quantity",e)},expression:"editedItem.quantity"}},[a("q-select",{staticClass:"q-mb-sm",attrs:{options:t.options,dense:"",outlined:""},model:{value:t.editedItem.qtyOptions,callback:function(e){t.$set(t.editedItem,"qtyOptions",e)},expression:"editedItem.qtyOptions"}}),t.editedItem.qtyOptions&&3!=t.editedItem.qtyOptions.id?a("q-input",{staticClass:"q-mb-sm",attrs:{type:"number",dense:"",autofocus:"",outlined:""},model:{value:t.editedItem.quantity,callback:function(e){t.$set(t.editedItem,"quantity",e)},expression:"editedItem.quantity"}}):t._e(),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-8"},[a("q-input",{staticClass:"q-mb-sm q-pr-sm",attrs:{prefix:"$",type:"number",dense:"",autofocus:"",outlined:""},model:{value:t.editedItem.amount,callback:function(e){t.$set(t.editedItem,"amount",e)},expression:"editedItem.amount"}})],1),a("div",{staticClass:"col-md-4"},[a("q-input",{staticClass:"q-mb-sm",attrs:{prefix:"%",type:"number",dense:"",autofocus:"",outlined:""},model:{value:t.editedItem.percentage,callback:function(e){t.$set(t.editedItem,"percentage",e)},expression:"editedItem.percentage"}})],1)])],1)],1):t._e(),a("div",{staticClass:"col-md-4 q-pr-sm"},[a("div",{staticClass:"text-subtitle2 q-mb-sm"},[t._v("Amount")]),a("q-input",{staticClass:"q-mb-md",attrs:{prefix:"$",standout:t.isOptimizeOrders,readonly:t.isOptimizeOrders,outlined:!t.isOptimizeOrders,type:"text",dense:"",autofocus:""},model:{value:t.editedItem.amount,callback:function(e){t.$set(t.editedItem,"amount",e)},expression:"editedItem.amount"}}),t.isOptimizeOrders?t._e():a("q-popup-edit",{attrs:{title:"Update Quantity",buttons:""},model:{value:t.editedItem.quantity,callback:function(e){t.$set(t.editedItem,"quantity",e)},expression:"editedItem.quantity"}},[a("q-select",{staticClass:"q-mb-sm",attrs:{options:t.options,dense:"",outlined:""},model:{value:t.editedItem.qtyOptions,callback:function(e){t.$set(t.editedItem,"qtyOptions",e)},expression:"editedItem.qtyOptions"}}),t.editedItem.qtyOptions&&3!=t.editedItem.qtyOptions.id?a("q-input",{staticClass:"q-mb-sm",attrs:{type:"number",dense:"",autofocus:"",outlined:""},model:{value:t.editedItem.quantity,callback:function(e){t.$set(t.editedItem,"quantity",e)},expression:"editedItem.quantity"}}):t._e(),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-8"},[a("q-input",{staticClass:"q-mb-sm q-pr-sm",attrs:{prefix:"$",type:"number",dense:"",autofocus:"",outlined:""},model:{value:t.editedItem.amount,callback:function(e){t.$set(t.editedItem,"amount",e)},expression:"editedItem.amount"}})],1),a("div",{staticClass:"col-md-4"},[a("q-input",{staticClass:"q-mb-sm",attrs:{prefix:"%",type:"number",dense:"",autofocus:"",outlined:""},model:{value:t.editedItem.percentage,callback:function(e){t.$set(t.editedItem,"percentage",e)},expression:"editedItem.percentage"}})],1)])],1)],1),a("div",{staticClass:"col-md-4"},[a("div",{staticClass:"text-subtitle2 q-mb-sm"},[t._v("Charge")]),a("q-input",{staticClass:"q-mb-md",attrs:{prefix:"$",standout:"",readonly:"",type:"text",dense:"",autofocus:""},model:{value:t.charge,callback:function(e){t.charge=e},expression:"charge"}})],1),a("div",{staticClass:"col-md-1 q-pr-sm"},[a("div",{staticClass:"itemize-order-parent"},[a("q-tooltip",{attrs:{anchor:"top middle",self:"bottom middle",offset:[10,10],"transition-show":"flip-right","transition-hide":"flip-left"}},[t._v("\n                                    Itemize Order\n                                ")]),a("q-btn",{staticClass:"edx-white",class:t.isOptimizeOrders?"edx-bg-green":"edx-bg-gray",attrs:{round:"",icon:"format_list_numbered"},on:{click:t.openItemizationModal}})],1)])])]),a("div",{staticClass:"col-md-7 q-pl-md"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-2 q-pr-sm q-mb-md"},[a("div",{staticClass:"text-subtitle2 q-mb-sm"},[t._v("Category")]),a("div",{staticClass:"row cursor-pointer h-popup"},[a("q-chip",{attrs:{square:"",color:"edx-bg-pd"}},[a("span",[t._v("PD")]),a("q-tooltip",{attrs:{"content-class":"edx-tooltip",anchor:"top middle",self:"bottom middle",offset:[10,10],"transition-show":"flip-right","transition-hide":"flip-left"}},[a("strong",[t._v("Professional Development")])])],1)],1)]),t.optionsFundSource.length?a("div",{staticClass:"col-md-6 q-pr-sm q-mb-md"},[a("div",{staticClass:"text-subtitle2 q-mb-sm"},[t._v("Fund Source")]),a("div",{staticClass:"row cursor-pointer h-popup"},[t.editedItem.fund_source?a("div",[a("q-chip",{class:t.fundSourceColor(t.editedItem.fund_source.abbr),attrs:{square:""}},[a("span",[t._v(t._s(t.editedItem.fund_source.abbr))]),a("q-tooltip",{attrs:{anchor:"top middle",self:"bottom middle",offset:[10,10],"transition-show":"flip-right","transition-hide":"flip-left"}},[a("strong",[t._v(t._s(t.editedItem.fund_source.label))])])],1)],1):t._e(),a("q-popup-edit",{attrs:{buttons:""},model:{value:t.editedItem.fund_source,callback:function(e){t.$set(t.editedItem,"fund_source",e)},expression:"editedItem.fund_source"}},[a("div",{staticClass:"text-subtitle2"},[t._v("Fund Source")]),a("div",{staticClass:"row q-mb-sm q-mt-sm"},[a("div",{staticClass:"col-md-12 q-pr-sm q-mb-md"},[a("div",{staticClass:"text-subtitle2 q-mb-sm"}),a("div",{staticClass:"row cursor-pointer h-popup"},[a("q-select",{staticClass:"w-100",attrs:{options:t.optionsFundSource,outlined:"",dense:""},model:{value:t.editedItem.fund_source,callback:function(e){t.$set(t.editedItem,"fund_source",e)},expression:"editedItem.fund_source"}})],1)])])])],1)]):t._e()]),a("div",{staticClass:"q-mb-md"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-5"},[a("div",{staticClass:"text-subtitle2 q-mb-sm"},[t._v("Tracking Category")]),a("q-select",{attrs:{outlined:"",dense:"","input-debounce":"0",options:t.optionsCategoryTracking},scopedSlots:t._u([{key:"no-option",fn:function(){return[a("q-item",[a("q-item-section",{staticClass:"text-grey"},[t._v("\n                                            No results\n                                            ")])],1)]},proxy:!0}]),model:{value:t.editedItem.tracking_category_uni,callback:function(e){t.$set(t.editedItem,"tracking_category_uni",e)},expression:"editedItem.tracking_category_uni"}})],1)])]),a("div",{staticClass:"q-mb-md"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-7"},[a("div",{staticClass:"text-subtitle2 q-mb-sm"},[t._v("Approval Status")]),t.editedItem.approval_status_uni?a("div",{staticClass:"row h-popup"},[a("div",{staticClass:"row"},[a("div",{staticClass:"q-mr-md cursor-pointer"},[a("q-icon",{staticClass:"q-mr-sm",class:t.approvalStatusIconColor(t.editedItem.approval_status_uni.id),attrs:{name:t.approvalStatusIcon(t.editedItem.approval_status_uni.id)}}),a("span",[t._v(t._s(t.editedItem.approval_status_uni.label))])],1),a("div",{staticClass:"cursor-pointer"},[a("q-icon",{staticClass:"q-mr-sm",class:t.approvalTypeIconColor(t.editedItem.approval_type_uni.id),attrs:{name:t.approvalTypeIcon(t.editedItem.approval_type_uni.id)}}),a("span",[t._v(t._s(t.approvalType(t.editedItem.approval_type_uni.id)))])],1),a("q-popup-edit",{attrs:{title:"Approvals",buttons:""},model:{value:t.editedItem.approval_status_uni,callback:function(e){t.$set(t.editedItem,"approval_status_uni",e)},expression:"editedItem.approval_status_uni"}},[a("div",{staticStyle:{width:"450px !important","max-width":"450px !important"}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-4"},[a("q-select",{attrs:{dense:"",outlined:"",options:t.approval},model:{value:t.editedItem.approval_status_uni,callback:function(e){t.$set(t.editedItem,"approval_status_uni",e)},expression:"editedItem.approval_status_uni"}})],1),t.editedItem.approval_type_uni?a("div",{staticClass:"col-md-7 q-ml-md"},[a("q-option-group",{attrs:{options:t.optionsApp,label:"Notifications",type:"radio"},model:{value:t.editedItem.approval_type_uni.id,callback:function(e){t.$set(t.editedItem.approval_type_uni,"id",e)},expression:"editedItem.approval_type_uni.id"}}),a("q-input",{staticClass:"q-mt-md q-mb-lg",attrs:{disable:4!==t.editedItem.approval_type_uni.id,dense:"",outlined:"",label:"Approver Name"},model:{value:t.editedItem.approver,callback:function(e){t.$set(t.editedItem,"approver",e)},expression:"editedItem.approver"}})],1):t._e(),a("q-separator")],1)])])],1)]):t._e()]),a("div",{staticClass:"col-md-4"},[a("div",{staticClass:"text-subtitle2 q-mb-sm"},[t._v("Activity Type")]),t.editedItem.online_uni?a("div",{staticClass:"h-popup cursor-pointer"},[a("span",{staticClass:"material-icons q-mr-sm",class:t.activityTypeIconColor(t.editedItem.online_uni.id)},[t._v("\n                                        "+t._s(t.activityTypeIcon(t.editedItem.online_uni.id))+"\n                                    ")]),a("span",[t._v(t._s(t.editedItem.online_uni.label))])]):t._e(),a("q-popup-edit",{attrs:{title:"Activity Type",buttons:""},model:{value:t.editedItem.online_uni,callback:function(e){t.$set(t.editedItem,"online_uni",e)},expression:"editedItem.online_uni"}},[a("q-select",{attrs:{dense:"",outlined:"",options:t.online},model:{value:t.editedItem.online_uni,callback:function(e){t.$set(t.editedItem,"online_uni",e)},expression:"editedItem.online_uni"}})],1)],1)])]),a("div",{staticClass:"q-mb-md"},[a("div",{staticClass:"row"},[t.editedItem.status_uni?a("div",{staticClass:"col-md-5"},[a("div",{staticClass:"text-subtitle2 q-mb-sm"},[t._v("Activity Status")]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12"},[a("div",{staticClass:"h-popup cursor-pointer"},[a("q-icon",{staticClass:"q-mr-sm",class:t.activityStatusIconColor(t.editedItem.status_uni.id),staticStyle:{"font-size":"1.5em"},attrs:{name:t.activityStatusIcon(t.editedItem.status_uni.id)}}),a("span",[t._v(t._s(t.editedItem.status_uni.label))])],1),a("q-popup-edit",{attrs:{title:"Activity Status",buttons:""},model:{value:t.editedItem.status_uni,callback:function(e){t.$set(t.editedItem,"status_uni",e)},expression:"editedItem.status_uni"}},[a("q-select",{attrs:{outlined:"",dense:"","input-debounce":"0",options:t.optionsStatus},scopedSlots:t._u([{key:"no-option",fn:function(){return[a("q-item",[a("q-item-section",{staticClass:"text-grey"},[t._v("\n                                                        No results\n                                                        ")])],1)]},proxy:!0}],null,!1,990659855),model:{value:t.editedItem.status_uni,callback:function(e){t.$set(t.editedItem,"status_uni",e)},expression:"editedItem.status_uni"}})],1)],1)])]):t._e(),a("div",{staticClass:"col-md-5"},[a("div",{staticClass:"text-subtitle2 q-mb-sm"},[t._v("Documents and Tasks")]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12"},[a("div",{staticClass:"h-popup cursor-pointer"},[a("q-icon",{staticClass:"edx-folder q-mr-sm",staticStyle:{"font-size":"2em"},attrs:{name:"folder"},on:{click:t.openDocumentsModal}})],1)])])])])]),a("div",{directives:[{name:"show",rawName:"v-show",value:t.editedItem.status_uni&&"Completed"==t.editedItem.status_uni.label,expression:"editedItem.status_uni && editedItem.status_uni.label == 'Completed' "}],staticClass:"row"},[a("div",{staticClass:"col-md-12"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-4 q-pr-sm"},[a("div",{staticClass:"text-subtitle2 q-mb-sm"},[t._v("Completed On")]),a("q-input",{staticClass:"q-mb-md",attrs:{outlined:"",dense:""},scopedSlots:t._u([{key:"append",fn:function(){return[a("q-icon",{staticClass:"cursor-pointer",attrs:{name:"event"}},[a("q-popup-proxy",{attrs:{"transition-show":"scale","transition-hide":"scale"}},[a("q-date",{attrs:{color:"edx-pagination"},model:{value:t.editedItem.completed_date,callback:function(e){t.$set(t.editedItem,"completed_date",e)},expression:"editedItem.completed_date"}},[a("div",{staticClass:"row items-center justify-end"},[a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{label:"Close",color:"primary",flat:""}})],1)])],1)],1)]},proxy:!0}]),model:{value:t.editedItem.completed_date,callback:function(e){t.$set(t.editedItem,"completed_date",e)},expression:"editedItem.completed_date"}})],1),t.editedItem.billing?a("div",{staticClass:"col-md-4"},[a("div",{staticClass:"text-subtitle2 q-mb-sm"},[t._v("Billing Status")]),a("div",{staticClass:"h-popup"},[a("div",{staticClass:"cursor-pointer"},[a("q-icon",{staticStyle:{"font-size":"1.7em",color:"#4daf4f"},attrs:{name:"not_listed_location"}}),t._v(t._s(t.editedItem.billing.label))],1),a("q-popup-edit",{attrs:{title:"Billing Status",buttons:""},model:{value:t.editedItem.billing,callback:function(e){t.$set(t.editedItem,"billing",e)},expression:"editedItem.billing"}},[a("q-select",{attrs:{outlined:"",dense:"","input-debounce":"0",options:t.optionsBilling},scopedSlots:t._u([{key:"no-option",fn:function(){return[a("q-item",[a("q-item-section",{staticClass:"text-grey"},[t._v("\n                                                        No results\n                                                        ")])],1)]},proxy:!0}],null,!1,990659855),model:{value:t.editedItem.billing,callback:function(e){t.$set(t.editedItem,"billing",e)},expression:"editedItem.billing"}})],1)],1)]):t._e()])])])]),a("div",{directives:[{name:"show",rawName:"v-show",value:!t.isDuplicate&&t.isEdit,expression:"!isDuplicate && isEdit"}],staticClass:"col-md-12 q-mt-lg"},[a("DateOfActivityTable",{attrs:{dateOfActivity:t.dateOfActivityTableData},on:{openEditPopup:t.openEditSchedulePopup,openDeletePopup:t.openDeleteDate}}),a("div",{staticClass:"q-ml-md q-mt-md q-mb-md"},[a("q-btn",{attrs:{icon:"add",color:"blue",round:""},on:{click:t.addDate}})],1)],1),a("div",{staticClass:"col-md-12 q-mt-md"},[a("div",{staticClass:"row"},[!t.isDuplicate&&t.isEdit?a("div",{staticClass:"col-md-3"},[a("div",{staticClass:"text-subtitle1 row justify-start items-center"},[a("q-icon",{staticClass:"edx-icon-attendee-summary q-mr-sm",attrs:{name:t.attendeeSummary}}),t._v("\n                                Attendee Summary:\n                            ")],1),t.editedItem.noAttendingArr&&t.editedItem.noAttendingArr.attendeesData.length?a("div",{staticClass:"cursor-pointer q-mt-md",on:{click:function(e){return t.showAttendingDialog()}}},t._l(t.editedItem.noAttendingArr.attendeesData,(function(e,i){return a("div",{key:i},[a("div",[e.all?a("span",[t._v("All")]):a("span",[t._v(t._s(e.no))]),a("span",{staticClass:"q-ml-sm"},[t._v(t._s(e.type.label))])])])})),0):a("div",{staticClass:"cursor-pointer",on:{click:function(e){return t.showAttendingDialog()}}},[t._v("No Attendees found.")])]):t._e(),a("div",{staticClass:"q-pl-md",class:t.isDuplicate||!t.isEdit?"col-md-12":"col-md-9"},[a("div",{staticClass:"text-subtitle2 q-mb-sm"},[t._v("Note")]),a("q-input",{attrs:{dense:"",outlined:"",type:"textarea"},model:{value:t.editedItem.note,callback:function(e){t.$set(t.editedItem,"note",e)},expression:"editedItem.note"}})],1)])])])]),a("q-card-actions",{attrs:{align:"right"}},[a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"Cancel",color:"primary"}}),t.isEdit&&!t.isDuplicate?a("q-btn",{attrs:{loading:t.btnLoading,flat:"",label:"Save",color:"primary"},on:{click:t.editActivity}}):t._e(),t.isEdit||t.isDuplicate?t._e():a("q-btn",{attrs:{loading:t.btnLoading,flat:"",label:"Add",color:"primary"},on:{click:t.addActivity}}),t.isDuplicate&&!t.isEdit?a("q-btn",{attrs:{loading:t.btnLoading,flat:"",label:"Duplicate",color:"primary"},on:{click:t.duplicateItem}}):t._e()],1)],1),a("dialog-draggable",{attrs:{width:500,modelDialog:t.isShowAttendingDialog,title:"Activity Attendees",icon:"people_alt"},on:{onHide:function(e){t.isShowAttendingDialog=!1}}},[a("q-card-section",[a("div",[a("q-table",{staticClass:"overflow-auto my-sticky-column-table",attrs:{data:t.editedItem.noAttendingArr&&t.editedItem.noAttendingArr.attendeesData,columns:t.attendeesColumn,"row-key":"id","hide-bottom":"",pagination:t.paginationAttendee},on:{"update:pagination":function(e){t.paginationAttendee=e}},scopedSlots:t._u([{key:"body",fn:function(e){return[a("q-tr",{attrs:{props:e}},[a("q-td",{key:"no",attrs:{props:e}},[a("q-input",{attrs:{type:"number",dense:"",outlined:"",readonly:e.row.all},on:{input:function(a){return t.selfTitleTeacherCount(e.row.no)}},model:{value:e.row.no,callback:function(a){t.$set(e.row,"no",a)},expression:"props.row.no"}})],1),a("q-td",{key:"type",staticStyle:{width:"200px"},attrs:{props:e}},[a("q-select",{attrs:{dense:"",outlined:"",options:t.teachersTypeArr},on:{input:function(a){return t.changeType(e.row.type)}},model:{value:e.row.type,callback:function(a){t.$set(e.row,"type",a)},expression:"props.row.type"}})],1),a("q-td",{key:"all",attrs:{props:e}},[a("q-checkbox",{model:{value:e.row.all,callback:function(a){t.$set(e.row,"all",a)},expression:"props.row.all"}})],1),a("q-td",{key:"attendeeList",staticClass:"row",staticStyle:{width:"100px"},attrs:{props:e}},[a("div",{on:{click:function(a){e.expand=!e.expand,t.getParticipiant(e.row)}}},[a("q-btn",{attrs:{color:"blue",round:"",dense:"",icon:"perm_identity"}})],1),a("q-btn",{attrs:{icon:"delete_forever",color:"edx-delete-btn",round:"",dense:""},on:{click:function(a){return t.openAttendeDeleteModal(e.row)}}})],1)],1),a("q-tr",{directives:[{name:"show",rawName:"v-show",value:e.expand,expression:"props.expand"}],attrs:{props:e}},[a("q-td",{staticClass:"q-td--no-hover",attrs:{colspan:"100%"}},[a("q-input",{staticClass:"q-mt-lg q-mb-sm",attrs:{outlined:"",dense:"",label:"Search"},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.openAddParticipantPopup(e)},input:t.searchParticipant},scopedSlots:t._u([{key:"prepend",fn:function(){return[a("q-icon",{attrs:{name:"search"}})]},proxy:!0}],null,!0),model:{value:t.attendingSearch,callback:function(e){t.attendingSearch=e},expression:"attendingSearch"}}),a("q-list",{staticClass:"q-mb-lg",staticStyle:{height:"195px","overflow-y":"scroll"},attrs:{bordered:"",separator:""}},[t._l(t.attendingTeacherList,(function(e,i){return a("q-item",{key:i},[a("q-item-section",[a("div",{staticClass:"w-100 row justify-between items-center",on:{click:function(a){return t.addAttendee(e)}}},[a("div",{staticClass:"text-subtitle2"},[t._v("\n                                            "+t._s(e.first_name)+"\n                                            "+t._s(e.last_name)+"\n                                            "+t._s(e.email)+"\n                                        ")]),a("q-btn",{attrs:{icon:"delete_forever",color:"edx-delete-btn",size:"sm","no-caps":""},on:{click:function(a){return t.openDeleteTeacherModal(e)}}})],1)])],1)})),t.attendingTeacherList.length?t._e():a("div",[a("p",{staticClass:"q-mt-md q-ml-md"},[a("q-icon",{staticStyle:{"font-size":"1.5em"},attrs:{name:"warning"}}),t._v("\n                                        No matching records found \n                                    ")],1)])],2)],1)],1)]}}])}),t.editedItem.noAttendingArr?a("div",[t.editedItem.noAttendingArr.attendeesData.length<t.teachersTypeArr.length?a("q-btn",{staticClass:"q-mt-md",attrs:{round:"",dense:"",color:"secondary",icon:"add"},on:{click:t.addAttRow}}):t._e()],1):t._e()],1)]),a("q-card-actions",{staticClass:"row justify-end"},[a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"Cancel",color:"primary"}}),a("q-btn",{attrs:{flat:"",label:"Confirm",color:"primary"},on:{click:t.confirmNoAttending}})],1)],1),a("dialog-draggable",{attrs:{width:600,modelDialog:t.isShowAddDate,title:"Schedule Activity",icon:"calendar_today"},on:{onHide:function(e){t.isShowAddDate=!1}}},[a("q-card-section",{staticClass:"scroll q-pt-none q-pb-none q-pr-none q-pl-none",staticStyle:{"max-height":"60vh"}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("div",{staticClass:"q-mt-sm q-mb-md"},[a("q-separator",{staticClass:"q-mt-md q-mb-md"}),a("div",{staticClass:"row q-mt-lg"},[a("div",{staticClass:"col-3 q-pr-md row items-center justify-end"},[t._v("Start date:")]),a("div",{staticClass:"col-3"},[a("q-input",{attrs:{readonly:t.tempDateOfActivity.is_full_day,outlined:"",dense:""},scopedSlots:t._u([{key:"append",fn:function(){return[a("q-icon",{staticClass:"cursor-pointer",attrs:{name:"event"}},[a("q-popup-proxy",{attrs:{"transition-show":"scale","transition-hide":"scale"}},[a("q-date",{attrs:{color:"edx-pagination",disabled:t.tempDateOfActivity.is_full_day,readonly:t.tempDateOfActivity.is_full_day},model:{value:t.tempDateOfActivity.startdate,callback:function(e){t.$set(t.tempDateOfActivity,"startdate",e)},expression:"tempDateOfActivity.startdate"}},[a("div",{staticClass:"row items-center justify-end"},[a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{label:"Close",color:"primary",flat:""}})],1)])],1)],1)]},proxy:!0}]),model:{value:t.tempDateOfActivity.startdate,callback:function(e){t.$set(t.tempDateOfActivity,"startdate",e)},expression:"tempDateOfActivity.startdate"}})],1),a("div",{staticClass:"col-2 q-pr-md row items-center justify-end"},[t._v("End date:")]),a("div",{staticClass:"col-3"},[a("q-input",{attrs:{readonly:t.tempDateOfActivity.is_full_day,outlined:"",dense:""},scopedSlots:t._u([{key:"append",fn:function(){return[a("q-icon",{staticClass:"cursor-pointer",attrs:{name:"event"}},[a("q-popup-proxy",{attrs:{"transition-show":"scale","transition-hide":"scale"}},[a("q-date",{attrs:{color:"edx-pagination",disabled:t.tempDateOfActivity.is_full_day,readonly:t.tempDateOfActivity.is_full_day},model:{value:t.tempDateOfActivity.endDate,callback:function(e){t.$set(t.tempDateOfActivity,"endDate",e)},expression:"tempDateOfActivity.endDate"}},[a("div",{staticClass:"row items-center justify-end"},[a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{label:"Close",color:"primary",flat:""}})],1)])],1)],1)]},proxy:!0}]),model:{value:t.tempDateOfActivity.endDate,callback:function(e){t.$set(t.tempDateOfActivity,"endDate",e)},expression:"tempDateOfActivity.endDate"}})],1)]),a("div",{staticClass:"row q-mt-md q-mt-md"},[a("div",{staticClass:"col-3 q-pr-md row items-center justify-end"},[t._v("Start time:")]),a("div",{staticClass:"col-3"},[a("q-input",{attrs:{readonly:t.tempDateOfActivity.is_full_day,outlined:"",dense:""},scopedSlots:t._u([{key:"append",fn:function(){return[a("q-icon",{staticClass:"cursor-pointer",attrs:{name:"access_time"}},[a("q-popup-proxy",{attrs:{"transition-show":"scale","transition-hide":"scale"}},[a("q-time",{attrs:{disabled:t.tempDateOfActivity.is_full_day,readonly:t.tempDateOfActivity.is_full_day},model:{value:t.tempDateOfActivity.time1,callback:function(e){t.$set(t.tempDateOfActivity,"time1",e)},expression:"tempDateOfActivity.time1"}},[a("div",{staticClass:"row items-center justify-end"},[a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{label:"Close",color:"primary",flat:""}})],1)])],1)],1)]},proxy:!0}]),model:{value:t.tempDateOfActivity.time1,callback:function(e){t.$set(t.tempDateOfActivity,"time1",e)},expression:"tempDateOfActivity.time1"}})],1),a("div",{staticClass:"col-2 q-pr-md row items-center justify-end"},[t._v("End time:")]),a("div",{staticClass:"col-3"},[a("q-input",{attrs:{readonly:t.tempDateOfActivity.is_full_day,outlined:"",dense:""},scopedSlots:t._u([{key:"append",fn:function(){return[a("q-icon",{staticClass:"cursor-pointer",attrs:{name:"access_time"}},[a("q-popup-proxy",{attrs:{"transition-show":"scale","transition-hide":"scale"}},[a("q-time",{attrs:{disabled:t.tempDateOfActivity.is_full_day,readonly:t.tempDateOfActivity.is_full_day},model:{value:t.tempDateOfActivity.time2,callback:function(e){t.$set(t.tempDateOfActivity,"time2",e)},expression:"tempDateOfActivity.time2"}},[a("div",{staticClass:"row items-center justify-end"},[a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{label:"Close",color:"primary",flat:""}})],1)])],1)],1)]},proxy:!0}]),model:{value:t.tempDateOfActivity.time2,callback:function(e){t.$set(t.tempDateOfActivity,"time2",e)},expression:"tempDateOfActivity.time2"}})],1),a("div",{staticClass:"col-4 q-pl-lg q-mt-md"},[a("span",{staticClass:"q-ml-md"},[a("q-checkbox",{attrs:{label:"All day event"},model:{value:t.tempDateOfActivity.is_full_day,callback:function(e){t.$set(t.tempDateOfActivity,"is_full_day",e)},expression:"tempDateOfActivity.is_full_day"}})],1)])]),a("q-separator",{staticClass:"q-mt-md q-mb-md"}),a("div",{staticClass:"row q-pr-lg q-pl-lg"},[a("div",{staticClass:"col-md-12 q-mb-md"},[a("div",{staticClass:"text-subtitle2 q-mb-sm"},[t._v("Location: ")]),a("q-input",{attrs:{outlined:"",dense:""},model:{value:t.tempDateOfActivity.location,callback:function(e){t.$set(t.tempDateOfActivity,"location",e)},expression:"tempDateOfActivity.location"}})],1),a("div",{staticClass:"col-md-12"},[a("div",{staticClass:"text-subtitle2 q-mb-sm"},[t._v("Note: ")]),a("q-input",{attrs:{outlined:"",type:"textarea",dense:""},model:{value:t.tempDateOfActivity.note,callback:function(e){t.$set(t.tempDateOfActivity,"note",e)},expression:"tempDateOfActivity.note"}})],1)]),a("q-separator",{staticClass:"q-mt-md q-mb-md"}),a("div",{staticClass:"row"},[a("div",{staticClass:"col-3 text-right q-pr-md"},[a("q-checkbox",{attrs:{label:"Repeat"},model:{value:t.tempDateOfActivity.repeat,callback:function(e){t.$set(t.tempDateOfActivity,"repeat",e)},expression:"tempDateOfActivity.repeat"}})],1)]),t.tempDateOfActivity.repeat?a("div",[a("div",{staticClass:"row q-mt-md"},[a("div",{staticClass:"col-3 q-pr-md row items-center justify-end"},[t._v("\n                            Repeats:\n                            ")]),a("div",{staticClass:"col-3"},[a("q-select",{attrs:{dense:"",outlined:"",options:t.selectOptionsDayWeekMonth},model:{value:t.tempDateOfActivity.repeats,callback:function(e){t.$set(t.tempDateOfActivity,"repeats",e)},expression:"tempDateOfActivity.repeats"}})],1)]),a("div",{staticClass:"row q-mt-md"},[a("div",{staticClass:"col-3 q-pr-md row items-center justify-end"},[t._v("Every:")]),a("div",{staticClass:"col-2"},[a("q-input",{attrs:{outlined:"",dense:""},model:{value:t.tempDateOfActivity.repeatEvery,callback:function(e){t.$set(t.tempDateOfActivity,"repeatEvery",e)},expression:"tempDateOfActivity.repeatEvery"}})],1),a("div",{staticClass:"col-2 row items-center justify-start q-pl-sm"},[a("span",[t._v(t._s(t.tempDateOfActivity.repeats.clean)+"(s)")])])]),a("div",{staticClass:"row q-mt-md"},[a("div",{staticClass:"col-3 q-pr-md row items-center justify-end"},[t._v("On:")]),a("div",{staticClass:"col-9"},[a("q-btn-group",{attrs:{push:""}},t._l(t.weekDays,(function(e,i){return a("q-btn",{key:i,attrs:{color:e.checked?"amber":"yellow",glossy:"","text-color":"black",push:"",label:e.label.charAt(0)},on:{click:function(e){return t.repeatOnWeekDayChild(i)}}})})),1)],1)])]):t._e(),a("q-separator",{staticClass:"q-mt-md q-mb-lg"})],1)])])]),a("q-card-actions",{staticClass:"row justify-end"},[a("div",[a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"Cancel",color:"primary"}}),t.isEditSchedule?a("q-btn",{attrs:{flat:"",label:"Save",color:"primary"},on:{click:t.editSchedule}}):a("q-btn",{attrs:{flat:"",label:"Confirm",color:"primary"},on:{click:t.confirmNewDate}})],1)])],1),a("dialog-draggable",{attrs:{width:850,modelDialog:t.isRemainingPopupOpen,title:"Budgeted Spending",icon:"attach_money"},on:{onHide:function(e){t.isRemainingPopupOpen=!1}}},[a("q-card-section",{staticClass:"scroll q-pt-none q-pb-none q-pr-none q-pl-none",staticStyle:{"max-height":"60vh"}},[a("div",{staticClass:"row q-mr-lg q-ml-lg q-mb-lg q-mt-lg"},[a("div",{staticClass:"col-md-6 q-pr-sm q-mb-md"}),a("div",{staticClass:"col-md-6 q-pr-sm q-mb-md"},[a("div",{staticClass:"row q-mt-lg"},[a("div",{staticClass:"col-md-9 q-pr-md text-right"},[t._v("Total Allocation:")]),a("div",{staticClass:"col-md-3"},[a("b",[t._v("$ "+t._s(t.priliminary))])])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-9 q-pr-md text-right"},[t._v("Available to spend:")]),a("div",{staticClass:"col-md-3"},[a("b",[t._v("$ "+t._s(t.availableToSpend))])])])]),a("div",{staticClass:"col-md-12 q-mt-md"},[a("q-table",{staticClass:"overflow-auto my-sticky-column-table",attrs:{data:t.tdata,columns:t.tcolumns,loading:t.tloading,pagination:t.tpagination},on:{"update:pagination":function(e){t.tpagination=e}},scopedSlots:t._u([{key:"body",fn:function(e){return[a("q-tr",{staticClass:"cursor-pointer",attrs:{props:e}},[a("q-td",{key:"transaction",style:{maxWidth:"350px",width:"350px"},attrs:{props:e}},[a("span",{staticClass:"inline-span"},[t._v("\n                                    "+t._s(e.row.transaction)+"\n                                ")])]),a("q-td",{key:"date",attrs:{props:e}},[t._v("\n                                "+t._s(e.row.date)+"\n                            ")]),a("q-td",{key:"type",attrs:{props:e}},[a("q-chip",{attrs:{square:"",color:"edx-bg-pd"}},[a("span",[t._v(t._s(e.row.type))]),a("q-tooltip",{attrs:{anchor:"top middle",self:"bottom middle",offset:[10,10],"transition-show":"flip-right","transition-hide":"flip-left"}},[a("strong",[t._v(t._s(e.row.type))])])],1)],1),a("q-td",{key:"amount",attrs:{props:e}},[t._v("\n                                $ "+t._s(e.row.amount)+"\n                            ")]),a("q-td",{key:"balance",attrs:{props:e}},[a("div",{class:e.row.balance>0?"edx-green":"edx-red"},[t._v("\n                                    $ "+t._s(e.row.balance.toFixed(2))+"\n                                ")])])],1)]}},{key:"bottom",fn:function(){return[a("div",{staticClass:"q-pa-md flex flex-center"},[a("q-pagination",{attrs:{color:"edx-pagination","max-pages":6,max:t.budgetPages,"direction-links":!0},on:{click:function(e){return t.changeBudgetPagination(t.budgetCurrent)}},model:{value:t.budgetCurrent,callback:function(e){t.budgetCurrent=e},expression:"budgetCurrent"}}),a("div",{staticClass:"row justify-center items-center"},[a("span",{staticClass:"q-mr-md"},[t._v("Rows Per page")]),a("q-select",{attrs:{dense:"",outlined:"",options:t.rowsPerPageArr},on:{input:t.changeBudgetRowsPerPage},model:{value:t.tpagination.rowsPerPage,callback:function(e){t.$set(t.tpagination,"rowsPerPage",e)},expression:"tpagination.rowsPerPage"}})],1)],1)]},proxy:!0}])})],1)])]),a("q-card-actions",{staticClass:"row justify-end"},[a("div",[a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"Cancel",color:"primary"}})],1)])],1),a("DocumentsPopup",{attrs:{show:t.showDocumentPopup,activity:t.editedItem,isEdit:t.isEdit,categoryId:t.categoryId},on:{togglePopup:t.togglePopup}}),a("ItemizationModal",{attrs:{show:t.showItemizationModal,id:t.editedItem.id,inventoryCategories:t.optionsInventoryCategory},on:{togglePopup:t.toggleItemizationModal}})],1)},c=[],p=(a("6b54"),a("06db"),a("4db1")),u=a.n(p),m=(a("14b9"),a("28a5"),a("f751"),a("c47a")),v=a.n(m),f=a("13af"),h=a("ae50"),y=a("81bc"),b=a("f97d"),g=a("ec8cb"),_=500,q={name:"ActivityTable",components:{dialogDraggable:f["a"],DateOfActivityTable:h["a"],DialogDraggable:f["a"],DocumentsPopup:y["a"],ItemizationModal:b["a"]},props:{title:{required:!0}},data:function(){return{options:[],isOptimizeOrders:!1,showItemizationModal:!1,optionsInventoryCategory:[],model:null,showDocumentPopup:!1,testCategory:"",testSubcategory:"",tdata:[],tcolumns:[{name:"transaction",align:"left",label:"Transaction",field:"transaction",sortable:!0},{name:"date",align:"left",label:"Date",field:"date",sortable:!0},{name:"type",align:"left",label:"Type",field:"type",sortable:!0},{name:"amount",align:"left",label:"Amount",field:"amount",sortable:!0},{name:"balance",align:"left",label:"Balance",field:"balance",sortable:!0}],tloading:!0,priliminary:null,availableToSpend:null,mode:"list",tab:"1",categoryId:1,pages:1,current:1,count:10,pagination:{rowsPerPage:10},rowsPerPageArr:["5","10","25","50","75","100"],budgetPages:1,budgetCurrent:1,budgetCount:10,allocationFundId:null,tpagination:{rowsPerPage:10},filter:"",schoolYear:null,schoolYears:[],typeModel:"",data:[],columns:[{name:"online",align:"left",label:"",field:"online",sortable:!0},{name:"provider",align:"left",label:"Provider",field:"provider",sortable:!0},{name:"status",align:"left",label:"Status",field:"status",sortable:!0},{name:"approvals",align:"left",label:"Approval",field:"approvals",sortable:!0},{name:"PDActivity",align:"left",label:"Activity",sortable:!1,style:"width: 300px; min-width: 300px; max-width: 300px"},{name:"dateOfActivity",align:"left",label:"Date Of Activity",field:"dateOfActivity",sortable:!0,style:"max-width: 300px",headerStyle:"max-width: 500px"},{name:"noAttending",align:"left",label:"Attendee",field:"noAttending"},{name:"amount",align:"left",label:"Amount",field:"amount"},{name:"type",align:"left",label:"Type",field:"type"},{name:"grossPD",align:"left",label:"Charge",field:"grossPD"},{name:"actions",align:"right",label:"Actions",field:"actions"}],dateOfActivityTableData:[],editedItem:{},loading:!1,btnLoading:!1,isRemainingPopupOpen:!1,isEdit:!0,isDuplicate:!1,isShowActivityPopup:!1,isShowAttendingDialog:!1,isShowAddDate:!1,showRemainingBalance:!1,confirm:!1,confirmAttendeeModal:!1,confirmTeacherModal:!1,isEditSchedule:!1,confirmDate:!1,index:null,online:[],optionsStatus:[],optionsCategoryTracking:[],approval:[],optionsApp:[],typeArr:[],teachersTypeArr:[],optionsSupplier:[],optionsSupplierForFilter:[],optionsCampus:[],optionsSubcategory:[],optionsBilling:[],paginationAttendee:{rowsPerPage:100},attendeesColumn:[{name:"no",align:"left",label:"No",field:"no",sortable:!0},{name:"type",align:"center",label:"Type",field:"type",sortable:!0},{name:"all",align:"left",label:"All",field:"type",sortable:!0},{name:"attendeeList",align:"left",label:"Actions",field:"attendeeList",sortable:!0}],attendeesData:[],item:{},editedIndex:null,attendingTeacherList:[],attendingSearch:"",addParticipantModal:!1,addNewAttendee:{firstName:"",lastName:"",email:""},reg:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,24}))$/,teacherItem:{},tempDateOfActivity:{startdate:"2020/06/14",endDate:"2020/06/24",time1:"00:00",time2:"00:00",location:"Location...",note:"Note...",repeatEvery:0,repeats:{id:1,label:"Daily",value:"Daily",clean:"Day"},repeatOn:[],repeat:!1,child:!0,attendies:!1,is_full_day:!1},weekDays:[{label:"Sunday",checked:!1},{label:"Monday",checked:!1},{label:"Tuesday",checked:!1},{label:"Wednesday",checked:!1},{label:"Thursday",checked:!1},{label:"Friday",checked:!1},{label:"Saturday",checked:!1}],selectOptionsDayWeekMonth:[],optionsFundSource:[]}},methods:{getInventoryCategories:function(){var t=this,e={method:"GET",url:d["a"].getInventoryCategories,headers:{Accept:"application/json"}};l()(e).then((function(e){console.log(e.data,"asdasdasdasd");for(var a=e.data.invenotoryCategoryType,i=[],s=0;s<a.length;s++)i.push({id:a[s].id,label:a[s].name});t.optionsInventoryCategory=i}))},openItemizationModal:function(){this.showItemizationModal=!0},toggleItemizationModal:function(t){this.showItemizationModal=t,t||this.getItemizationLists()},getItemizationLists:function(){var t=this,e={method:"GET",url:"".concat(d["a"].getItemizationLists).concat(this.editedItem.id),headers:{Accept:"application/json"}};l()(e).then((function(e){e.data.breakdown.length?t.isOptimizeOrders=!0:t.isOptimizeOrders=!1}))},getUnits:function(){var t=this,e={method:"GET",url:"".concat(d["a"].getUnits),headers:{Accept:"application/json"}};l()(e).then((function(e){console.log("get units",e.data);for(var a=e.data.unity,i=[],s=0;s<a.length;s++)i.push({id:a[s].id,label:a[s].abbreviation});t.options=i}))},togglePopup:function(t){this.showDocumentPopup=t},openDocumentsModal:function(){this.showDocumentPopup=!0},getBudgetBalance:function(t,e,a,i,s){var n=this;this.tloading=!0;var o={method:"GET",url:d["a"].getBudgetBalance+t+"/"+a+"/"+e+"?limit="+i+"&page="+s,headers:{Accept:"application/json"}};l()(o).then((function(t){var e=t.data.budgetInfo,a=[];n.budgetPages=t.data.pagesCount,n.priliminary=t.data.preliminiary,n.availableToSpend=t.data.availableBalance;for(var i=0;i<e.length;i++){var s;a.push({transaction:e[i].name,date:e[i].start_date+" "+e[i].end_date,type:e[i].category&&(null===(s=e[i].category)||void 0===s?void 0:s.abbreviation),amount:e[i].unit_total_cost,balance:e[i].balance})}n.tdata=a,n.tloading=!1}))},getAllocationFundId:function(t,e){var a=this,i={method:"GET",url:d["a"].allocationFundId+t+"/"+e,headers:{Accept:"application/json"}};l()(i).then((function(t){a.allocationFundId=t.data.allocationFundSource[0].allocation_fund_template_id}))},filterSupplier:function(t,e){var a=this;e(""!==t?function(){var e=t.toLowerCase();a.optionsSupplier=a.optionsSupplierForFilter.filter((function(t){return null!=t.label&&t.label.toLowerCase().indexOf(e)>-1}))}:function(){a.optionsSupplier=a.optionsSupplier})},exportTable:function(){var t=this,e=[this.columns.map((function(t){return wrapCsvValue(t.label)}))].concat(this.data.map((function(e){return t.columns.map((function(t){return wrapCsvValue("function"===typeof t.field?t.field(e):e[void 0===t.field?t.name:t.field],t.format)})).join(",")}))).join("\r\n"),a=exportFile("table-export.csv",e,"text/csv");!0!==a&&this.$q.notify({message:"Browser denied file download...",color:"negative",icon:"warning"})},activityParsing:function(t){for(var e=[],a=0;a<t.length;a++){var i,s,n,o,l,d,r,c,p,u,m=t[a].start_date,f=t[a].end_date,h=m+" - "+f;null!=t[a].cost?parseFloat(t[a].cost)+parseFloat(t[a].cost)*parseFloat(t[a].upcharge_percentage)/100:0;var y=void 0,b=null;1==parseInt(t[a].is_online)?(y="Online",b=1):(y="On Site",b=2);var g=(u={remainingBalance:0,quantity:t[a].quantity?t[a].quantity:0,qtyOptions:{id:t[a].unit?t[a].unit.id:1,label:t[a].unit?t[a].unit.abbreviation:"Qty"},fund_source:{id:t[a].fund_source?t[a].fund_source.id:null,label:t[a].fund_source?t[a].fund_source.name:null,abbr:t[a].fund_source?null===(i=t[a])||void 0===i||null===(s=i.fund_source)||void 0===s?void 0:s.abbreviation:null},id:t[a].id,description:t[a].description,tracking_category_uni:{id:t[a].traking?t[a].traking.id:null,label:t[a].traking?t[a].traking.name:"N/A"},billing:{id:t[a].billing?t[a].billing.id:null,label:t[a].billing?t[a].billing.name:"N/A"},completed_date:t[a].completed_date,campus:{id:t[a].campus?t[a].campus.id:null,label:t[a].campus?t[a].campus.name:"N/A"},online_uni:{id:b,label:y},provider:{id:t[a].supplier&&t[a].supplier.id,label:t[a].supplier&&t[a].supplier.short_name},status_uni:{id:t[a].status?t[a].status.id:null,label:t[a].status?t[a].status.name:"N/A"},approval_status_uni:{id:null===(n=t[a].approval_status)||void 0===n?void 0:n.id,label:null===(o=t[a].approval_status)||void 0===o?void 0:o.name},approval_type_uni:{label:null===(l=t[a].approval_types)||void 0===l?void 0:l.name,id:null===(d=t[a].approval_types)||void 0===d?void 0:d.id,value:null===(r=t[a].approval_types)||void 0===r?void 0:r.id},activity:t[a].name,activity_date:null==m?"TBD":h,no_attending:t[a].attendySummary.count,amount:null!=t[a].cost?t[a].cost:0,percentage:parseInt(t[a].markup_percentage),type_uni:{id:t[a].category.id,label:t[a].category.name,name:null===(c=t[a].category)||void 0===c?void 0:c.abbreviation},subcategory_uni:{id:t[a].sub_category?t[a].sub_category.id:null,label:t[a].sub_category?t[a].sub_category.name:"NA",name:t[a].sub_category?null===(p=t[a].sub_category)||void 0===p?void 0:p.abbreviation:"NA"},note:t[a].note,approver:t[a].approver,charge:t[a].total_cost,repeat:null!=t[a].has_recurring&&t[a].has_recurring,multi:null!=t[a].has_multi_schedule&&t[a].has_multi_schedule,attendies:!1},v()(u,"fund_source",{id:t[a].fund_source?t[a].fund_source.id:null,label:t[a].fund_source?t[a].fund_source.name:null,abbr:t[a].fund_source?t[a].fund_source.abbreviation:""}),v()(u,"noAttendingArr",{attendees:"",amount:0,split:!1,attendeesData:[]}),u);console.log("activity ====== ",g),e.push(g)}return e},getActivityByType:function(t,e,a,i){var s=this;this.loading=!0;var n={method:"GET",url:d["a"].getActivity+t+"/"+e+"/1?limit="+a+"&page="+i+"&category=1",headers:{Accept:"application/json"}};l()(n).then((function(t){var e=t.data.items,a=t.data.isSchoolAllocationFinal;s.final=a,s.pages=t.data.pagesCount,1==t.data.isSchoolAllocationFinal?s.$emit("final",!0):s.$emit("final",!1);var i=s.activityParsing(e,a);s.data=i,console.log("asdasdjhkgasdkhgasdkjhasd",i),s.loading=!1}))},openNewActivityPopup:function(){this.isEdit=!1,this.isShowActivityPopup=!0,this.editedItem={status_uni:{id:null,label:"N/A"},subcategory_uni:this.optionsSubcategory[0],approval_status_uni:{id:1,label:"Approved"},approval_type_uni:{id:1,label:"Needs Assessment",value:1},type_uni:{id:1,label:"PD",name:"PD"},online_uni:{id:1,label:"Online"},fund_source:{id:null,label:"N/A",abbr:"N/A"},billing:{id:4,label:"No Billed"},tracking_category_uni:{id:null,label:"N/A"},campus:{id:null,label:"N/A"},provider:{id:null,label:"N/A"}}},addActivity:function(){var t,e=this;this.btnLoading=!0;var a={token:localStorage.getItem("access-token"),budget_unit_id:null===(t=this.editedItem.qtyOptions)||void 0===t?void 0:t.id,fund_source_id:this.editedItem.fund_source?this.editedItem.fund_source.id:null,supplier_id:this.editedItem.provider&&this.editedItem.provider.id,status_id:this.editedItem.status_uni&&this.editedItem.status_uni.id,approval_status_id:this.editedItem.approval_status_uni&&this.editedItem.approval_status_uni.id,approval_type_id:this.editedItem.approval_type_uni&&this.editedItem.approval_type_uni.id,approver:this.editedItem.approver,name:this.editedItem.activity,unit_cost:this.editedItem.amount,category_id:this.editedItem.type_uni&&this.editedItem.type_uni.id,subcategory_id:this.editedItem.subcategory_uni&&this.editedItem.subcategory_uni.id,note:this.editedItem.note,markup_percentage:this.editedItem.percentage,is_online:this.editedItem.online_uni&&this.editedItem.online_uni.id,description:this.editedItem.description,campus_id:this.editedItem.campus.id,category_tracking_id:this.editedItem.tracking_category_uni.id,completed_date:"Completed"==this.editedItem.status_uni.label?this.editedItem.completed_date:null,billing_status_id:"Completed"==this.editedItem.status_uni.label?this.editedItem.billing.id:null};a.school_id=this.$route.params.id,a.allocation_type_id=parseInt(this.tab);var i={method:"POST",url:d["a"].addActivity+1,headers:{Accept:"application/json"},data:a};l()(i).then((function(t){t.data.success?(e.$q.notify({message:"Activity Added successfully!",type:"positive"}),t.data.items[0]&&(e.btnLoading=!1,e.getActivityByType(e.tab,e.$route.params.id,e.count,e.current),setTimeout((function(){e.isShowActivityPopup=!1}),500))):e.btnLoading=!1}))},editActivity:function(){var t,e=this;this.btnLoading=!0;var a={token:localStorage.getItem("access-token"),budget_unit_id:null===(t=this.editedItem.qtyOptions)||void 0===t?void 0:t.id,quantity:this.editedItem.quantity,fund_source_id:this.editedItem.fund_source?this.editedItem.fund_source.id:null,supplier_id:this.editedItem.provider&&this.editedItem.provider.id,status_id:this.editedItem.status_uni&&this.editedItem.status_uni.id,approval_status_id:this.editedItem.approval_status_uni&&this.editedItem.approval_status_uni.id,approval_type_id:this.editedItem.approval_type_uni&&this.editedItem.approval_type_uni.id,approver:this.editedItem.approver,name:this.editedItem.activity,unit_cost:this.editedItem.amount,category_id:this.editedItem.type_uni&&this.editedItem.type_uni.id,subcategory_id:this.editedItem.subcategory_uni&&this.editedItem.subcategory_uni.id,note:this.editedItem.note,markup_percentage:this.editedItem.percentage,is_online:this.editedItem.online_uni&&this.editedItem.online_uni.id,description:this.editedItem.description,campus_id:this.editedItem.campus.id,category_tracking_id:this.editedItem.tracking_category_uni.id,completed_date:"Completed"==this.editedItem.status_uni.label?this.editedItem.completed_date:null,billing_status_id:"Completed"==this.editedItem.status_uni.label?this.editedItem.billing.id:null},i={method:"PUT",url:d["a"].editActivity+this.editedItem.id,headers:{Accept:"application/json"},data:a};l()(i).then((function(t){e.$q.notify({message:"Activity edited successfully!",type:"positive"}),e.btnLoading=!1,e.data[e.index]=e.editedItem,setTimeout((function(){e.isShowActivityPopup=!1}),500)}))},changePagination:function(t){this.current=t,this.getActivityByType(parseInt(this.tab),this.$route.params.id,this.count,t)},changeRowsPerPage:function(){this.count=this.pagination.rowsPerPage,this.current=1,this.getActivityByType(parseInt(this.tab),this.$route.params.id,this.count,this.current)},openDeleteModal:function(t){this.editedItem=t,this.confirm=!0},deleteItem:function(){var t=this,e={method:"DELETE",url:d["a"].deleteActivity+this.editedItem.id,headers:{Accept:"application/json"}};l()(e).then((function(e){var a=t.data.indexOf(t.editedItem);t.data.splice(a,1),t.$q.notify({message:"Activity deleted!",type:"positive"})}))},openDuplicatePopup:function(t){this.isShowActivityPopup=!0,this.isDuplicate=!0,this.isEdit=!1,this.editedItem=t},duplicateItem:function(){this.addActivity()},getSchedules:function(t){var e=this;console.log("getSchedules",t);var a={method:"GET",url:d["a"].getSchedules+t,headers:{Accept:"application/json"}};l()(a).then((function(t){for(var a=t.data.schedules,i=[],s=0;s<a.length;s++){var n={id:a[s].id,startdate:a[s].start_date,endDate:a[s].end_date,time1:a[s].start_time,time2:a[s].end_time,location:a[s].location,repeat:1==a[s].is_recurring,is_full_day:1==a[s].is_full_day,repeats:{id:parseInt(a[s].recurrance_type_id),label:a[s].type},repeatsOn:a[s].reapeatDays,repeatsId:a[s].repeatOn,repeatEvery:a[s].every,note:a[s].note,attendies:!1,child:0!=s};i.push(n)}e.dateOfActivityTableData=i}))},getAttdeesById:function(t){var e=this;this.editedItem.noAttendingArr.attendeesData=[];var a={method:"GET",url:d["a"].getAttendeesById+t,headers:{Accept:"application/json"}};l()(a).then((function(t){for(var a=t.data.attendySuumary,i=0;i<a.length;i++){for(var s={id:a[i].id,no:parseInt(a[i].count),type:{id:a[i].type.id,label:a[i].type.type,value:a[i].type.type,disable:!0},all:0!=a[i].is_all,attendeeList:"View"},n=0;n<e.teachersTypeArr.length;n++)e.teachersTypeArr[n].label==a[i].type.type&&(e.teachersTypeArr[n].disable=!0);e.editedItem.noAttendingArr.attendeesData.push(s)}}))},getAtendeeTypes:function(){var t=this,e={method:"GET",url:d["a"].getAtendeeTypes,headers:{Accept:"application/json"}};l()(e).then((function(e){for(var a=e.data.activityAttendyTypes,i=[],s=0;s<a.length;s++){var n={id:a[s].id,label:a[s].type,value:a[s].type,disable:!1};i.push(n)}t.teachersTypeArr=i}))},openActivityPopup:function(t,e){console.log("rowrowrowrowrow",t),this.isEdit=!0,this.isShowActivityPopup=!0,this.editedItem=t,this.index=e,this.getSchedules(t.id),t.type_uni&&this.getSubcategories(t.type_uni.id),this.getItemizationLists()},getSubcategories:function(t){var e=this,a={method:"GET",url:d["a"].getSubcategories+t,headers:{Accept:"application/json"}};l()(a).then((function(t){for(var a=[],i=t.data.typesCategories,s=0;s<i.length;s++){var n={id:i[s].id,name:i[s].abbreviation,label:null!=i[s].name?i[s].name:""};a.push(n)}e.optionsSubcategory=a}))},getAdditionalInfo:function(t){var e=this,a={method:"GET",url:d["a"].getAdditionalInfoForInventory+"/"+t,headers:{Accept:"application/json"}};l()(a).then((function(t){for(var a=[],i=0;i<t.data.suppliers.length;i++){var s={id:t.data.suppliers[i].id,label:t.data.suppliers[i].short_name,value:t.data.suppliers[i].id};a.push(s)}e.optionsSupplier=a,e.optionsSupplierForFilter=a,console.log("SUPPLIER",a)}))},getCategoryTypes:function(t){var e=this,a={method:"GET",url:d["a"].getCategoryTypes+t+"/1",headers:{Accept:"application/json"}};l()(a).then((function(t){for(var a=t.data.typesCategories,i=[],s=0;s<a.length;s++){var n={id:a[s].id,label:a[s].name,name:a[s].abbreviation};i.push(n)}e.typeArr=i}))},getApprovals:function(){var t=this,e={method:"GET",url:d["a"].getApprovals,headers:{Accept:"application/json"}};l()(e).then((function(e){for(var a=e.data.activityApprovalStatus,i=e.data.activityApprovalTypes,s=[],n=[],o=0;o<a.length;o++){var l={id:a[o].id,label:a[o].name};s.push(l)}for(var d=0;d<i.length;d++){var r={id:i[d].id,value:i[d].id,label:i[d].name};n.push(r)}t.approval=s,t.optionsApp=n,console.log("pppp",t.optionsApp)}))},showAttendingDialog:function(){this.isShowAttendingDialog=!0,console.log("ROW : ",this.editedItem),this.item=this.editedItem,this.editedIndex=this.data.indexOf(this.editedItem),this.editedItem=Object.assign({},this.editedItem)},addAttRow:function(){var t={id:Math.floor(100*Math.random()),no:0,type:"",all:!1,attendeeList:"View"};this.editedItem.noAttendingArr.attendeesData.push(t)},confirmNoAttending:function(){for(var t=this,e=this.item,a=this.editedItem.noAttendingArr.attendeesData,i=[],s=0;s<a.length;s++){var n={count:a[s].no,type_id:a[s].type.id,is_all:a[s].all};i.push(n)}var o={method:"POST",url:d["a"].addAttendee+e.id,headers:{Accept:"application/json"},data:i};l()(o).then((function(e){console.log("response === ",e.data),t.$q.notify({message:"Attendees added!",type:"positive"})}))},selfTitleTeacherCount:function(t){this.editedItem.noAttendingArr.teacherCount=t},changeType:function(t){var e=this.teachersTypeArr.indexOf(t);this.teachersTypeArr[e].disable=!0},openAttendeDeleteModal:function(t){this.item=t,this.confirmAttendeeModal=!0},deleteAttendee:function(){var t=this,e=this.item,a={method:"DELETE",url:d["a"].removeAttendee+e.id,headers:{Accept:"application/json"}};l()(a).then((function(a){var i=t.editedItem.noAttendingArr.attendeesData.indexOf(e);t.editedItem.noAttendingArr.attendeesData.splice(i,1),t.$q.notify({message:"Deleted Successfuly!",type:"positive"})}));var i=this.teachersTypeArr.indexOf(e.type);this.teachersTypeArr[i].disable=!1},getFunds:function(t){var e=this,a={method:"GET",url:d["a"].getFunds+t,headers:{Accept:"application/json"}};l()(a).then((function(t){console.log("funds ======",t.data);for(var a=t.data.fundSource,i=[],s=0;s<a.length;s++){var n={id:a[s].id,label:a[s].name,abbr:a[s].abbreviation};i.push(n)}e.optionsFundSource=i}))},getParticipiant:function(t){var e=this;this.attendeeItem=t;var a=t.id,i={method:"GET",url:d["a"].getAttendyParticipant+a,headers:{Accept:"application/json"}};l()(i).then((function(t){console.log("res",t);var a=t.data.attendeeSchool;e.attendingTeacherList=a}))},openAddParticipantPopup:function(){this.addParticipantModal=!0,this.addNewAttendee.firstName="",this.addNewAttendee.lastName="",this.addNewAttendee.email="";for(var t=this.attendingSearch.split(" "),e=0;e<t.length;e++)this.reg.test(t[e])?this.addNewAttendee.email=t[e]:(0==e&&(this.addNewAttendee.firstName=t[0]),1==e&&(this.addNewAttendee.lastName=t[1]))},addParticipant:function(){var t=this,e={searchParties:this.attendingSearch,summary_id:this.attendeeItem.id,type_id:this.attendeeItem.type.id,first_name:this.addNewAttendee.first_name,last_name:this.addNewAttendee.last_name,email:this.addNewAttendee.email},a={method:"POST",url:d["a"].addNewParticipant+this.$route.params.id+"/"+this.item.id,headers:{Accept:"application/json"},data:e};l()(a).then((function(e){t.$q.notify({message:"Participant added!",type:"positive"}),setTimeout((function(){t.addParticipantModal=!1}),1e3)}))},searchParticipant:function(){var t=this,e={method:"GET",url:d["a"].searchParticipant+this.$route.params.id+"?searchParties="+this.attendingSearch,headers:{Accept:"application/json"}};l()(e).then((function(e){t.attendingTeacherList=e.data.participants,console.log("searchParticipant",e.data.participants)}))},openDeleteTeacherModal:function(t){this.teacherItem=t,this.confirmTeacherModal=!0},deleteTeacherItem:function(){var t=this,e=this.item,a={method:"DELETE",url:d["a"].deleteAttendyParticipant+this.teacherItem.id+"/"+e.id,headers:{Accept:"application/json"}};l()(a).then((function(a){var i=t.attendingTeacherList.indexOf(e);t.attendingTeacherList.splice(i,1),t.$q.notify({message:"Deleted!",type:"positive"})}))},addDate:function(){this.isShowAddDate=!0},confirmNewDate:function(){var t=this,e=this.tempDateOfActivity,a=[];if(e.repeatOn.length)for(var i=0;i<e.repeatOn.length;i++)e.repeatOn[i].checked&&a.push(i);var s={token:localStorage.getItem("access-token"),start_date:e.startdate,end_date:e.endDate,start_time:e.time1,end_time:e.time2,is_full_day:e.is_full_day,is_recurring:e.repeat,recurrance_type_id:e.repeats.id,day_of_week:a,number_of_occurrences:e.repeatEvery,note:e.note,location:e.location},n={method:"POST",url:d["a"].addSchedule+this.editedItem.id,headers:{Accept:"application/json"},data:s};l()(n).then((function(e){t.getSchedules(t.editedItem.id),t.isShowAddDate=!1,t.$q.notify({message:"Schedule Added!",type:"positive"})}))},editSchedule:function(){var t=this,e=this.tempDateOfActivity,a=[];if(e.repeatOn)for(var i=0;i<e.repeatOn.length;i++)e.repeatOn[i].checked&&a.push(i);var s={token:localStorage.getItem("access-token"),start_date:e.startdate,end_date:e.endDate,start_time:e.time1,end_time:e.time2,is_full_day:e.is_full_day,is_recurring:e.repeat,recurrance_type_id:e.repeats.id,day_of_week:a,number_of_occurrences:e.repeatEvery,note:e.note,location:e.location},n={method:"PUT",url:d["a"].editSchedule+this.tempDateOfActivity.id+"/"+this.editedItem.id,headers:{Accept:"application/json"},data:s};l()(n).then((function(e){t.getSchedules(t.editedItem.id),t.show_dialog_child=!1,t.$q.notify({message:"Schedule Edited!",type:"positive"})}))},getRcurranceTypes:function(){var t=this,e={method:"GET",url:d["a"].getRcurranceTypes,headers:{Accept:"application/json"}};l()(e).then((function(e){for(var a=e.data.recurranceType,i=[],s=0;s<a.length;s++){var n=void 0;switch(a[s].recurrance_type){case"Daily":n="Day";break;case"Weekly":n="Week";break;case"Monthly":n="Month";break}var o={id:a[s].id,label:a[s].recurrance_type,value:a[s].recurrance_type,clean:n};i.push(o)}t.selectOptionsDayWeekMonth=i}))},repeatOnWeekDayChild:function(t){this.weekDays[t].checked?this.weekDays[t].checked=!1:(this.weekDays[t].checked=!0,this.tempDateOfActivity.repeatOn=u()(this.weekDays))},openEditSchedulePopup:function(t){this.isEditSchedule=!0,t.is_full_day||(t.is_full_day=!1),t.repeat||(t.repeat=!1),this.tempDateOfActivity=t,this.isShowAddDate=!0},openDeleteDate:function(t){this.tempDateOfActivity=t,this.confirmDate=!0},deleteDate:function(){var t=this,e={method:"DELETE",url:d["a"].removeSchedule+this.tempDateOfActivity.id,headers:{Accept:"application/json"}};l()(e).then((function(e){t.getSchedules(t.editedItem.id),t.$q.notify({message:"Deleted!",type:"positive"})}))},filterActivity:function(){var t=this,e="";""!=this.filter&&(e+="&search="+this.filter),this.schoolYear&&(e+="&year="+this.schoolYear.id),""!=this.typeModel&&(e+="&type="+this.typeModel.id);var a={method:"GET",url:d["a"].filterActivity+this.tab+"/"+this.$route.params.id+"/1?"+e,headers:{Accept:"application/json"}};l()(a).then((function(e){t.pages=e.data.pagesCount;var a=e.data.items,i=t.activityParsing(a,t.final);t.data=i,t.tempDataX=i,t.loading=!1}))},keyUpFilter:function(){clearTimeout(i),i=setTimeout(this.doneTyping,_)},keyDownFilter:function(){clearTimeout(i)},doneTyping:function(){(this.filter.length>1||0==this.filter.length)&&(console.log("Send Request..."),this.filterActivity())},getCampueses:function(){var t=this,e={method:"GET",url:d["a"].getCampuses+this.$route.params.id,headers:{Accept:"application/json"}};l()(e).then((function(e){for(var a=e.data[0].campus,i=[{id:null,label:"N/A"}],s=0;s<a.length;s++)i.push({id:a[s].id,label:a[s].name});t.optionsCampus=i}))},getStatus:function(t){var e=this,a={method:"GET",url:d["a"].getActivityStatus+t,headers:{Accept:"application/json"}};l()(a).then((function(t){console.log("get status",t.data);for(var a=t.data.billingStatus,i=[],s=0;s<a.length;s++)i.push({id:a[s].id,label:a[s].name});e.optionsBilling=i;for(var n=t.data.itemStatus,o=[],l=0;l<n.length;l++)o.push({id:n[l].id,label:n[l].name});e.optionsStatus=o}))},getTrackingCategories:function(t,e){var a=this,i={method:"GET",url:d["a"].getTrackingCategories+t+"/"+e,headers:{Accept:"application/json"}};l()(i).then((function(t){var e=t.data.categoryTracking,i=[];i.push({id:null,label:"N/A"});for(var s=0;s<e.length;s++)i.push({id:e[s].id,label:e[s].name});a.optionsCategoryTracking=i,console.log("TRACKING CATEGORY",i)}))},changeBudgetRowsPerPage:function(){this.budgetCount=this.tpagination.rowsPerPage,this.budgetCurrent=1;var t=parseInt(this.tab),e=this.$route.params.id;this.getBudgetBalance(t,1,e,this.budgetCount,this.current)},changeBudgetPagination:function(t){this.budgetCurrent=t;var e=parseInt(this.tab),a=this.$route.params.id;this.getBudgetBalance(e,1,a,this.count,t)},getActivityTypes:function(){var t=this,e={method:"GET",url:d["a"].getActivityTypes,headers:{Accept:"application/json"}};l()(e).then((function(e){for(var a=[],i=e.data.onlineStatus,s=0;s<i.length;s++)a.push({id:i[s].id,label:i[s].name});t.online=a}))},approvalType:function(t){for(var e=0;e<this.optionsApp.length;e++)if(this.optionsApp[e].id==t)return this.optionsApp[e].label},activityStatusIcon:function(t){var e=t,a=null;switch(e){case 1:a=g["a"].canceled;break;case 2:a=g["a"].budgeted;break;case 3:a=g["a"].gatheringDocuments;break;case 4:a=g["a"].eeadyForBilling;break;case null:a=g["a"].noAnswer;break}return a},activityStatusIconColor:function(t){var e=t,a=null;switch(e){case 1:a="edx-icon-canceled";break;case 2:a="edx-icon-budgeted";break;case 3:a="edx-icon-gathering-documents";break;case 4:a="edx-icon-ready-for-billing";break;case null:a="edx-icon-no-answer";break}return a},activityTypeIcon:function(t){console.log(t);var e=t,a=null;switch(e){case 1:a=g["a"].onSite;break;case 2:a=g["a"].offCampus;break;case 3:a=g["a"].virtual;break}return a},activityTypeIconColor:function(t){if(t){var e=t,a=null;switch(e){case 1:a="edx-green";break;case 2:a="edx-orange";break;case 3:a="edx-pink";break}return a}},approvalStatusIcon:function(t){if(t){var e=t,a=null;switch(e){case 1:a=g["a"].approved;break;case 2:a=g["a"].declined;break;case 3:a=g["a"].pending;break}return a}},approvalStatusIconColor:function(t){if(t){var e=t,a=null;switch(e){case 1:a="edx-icon-approved";break;case 2:a="edx-icon-declined";break;case 3:a="edx-icon-pending";break}return a}},approvalTypeIcon:function(t){if(t){var e=t,a=null;switch(e){case 1:a=g["a"].needsAssessment;break;case 2:a=g["a"].catalog;break;case 3:a=g["a"].blanketApproval;break;case 4:a=g["a"].preApproval;break}return a}},approvalTypeIconColor:function(t){if(t){var e=t,a=null;switch(e){case 1:a="edx-icon-needs-assassment";break;case 2:a="edx-icon-catalog";break;case 3:a="edx-icon-blanket-approval";break;case 4:a="edx-icon-pre-approval";break}return a}},fundSourceColor:function(t){var e=null;switch(t){case"WR":e="bg-edx-bg-wr";break;case"SH":e="bg-edx-bg-sh";break;case"TPD":e="bg-edx-bg-tpd";break;case"TI":e="bg-edx-bg-ti";break}return e}},watch:{showRemainingBalance:function(t){if(t){this.isRemainingPopupOpen=!0;var e=parseInt(this.tab),a=this.$route.params.id;this.getBudgetBalance(e,1,a,this.count,this.current)}else this.isRemainingPopupOpen=!1},isRemainingPopupOpen:function(t){this.showRemainingBalance=!!t},isShowActivityPopup:function(t){t?(console.log("#############"),console.log("#############"),console.log(this.tab,1),console.log("#############"),console.log("#############"),this.getUnits(),this.getCampueses(),this.getStatus(parseInt(this.tab)),this.getTrackingCategories(this.tab,1)):(this.isEdit=!1,this.isDuplicate=!1)}},created:function(){this.tab=this.title.toString();var t=parseInt(this.tab);this.getActivityByType(t,this.$route.params.id,this.count,this.current),this.getAdditionalInfo(t),this.getCategoryTypes(t),this.getApprovals(),this.getRcurranceTypes(),this.getFunds(t),this.getInventoryCategories(),this.getActivityTypes()},computed:{charge:function(){var t=parseFloat(this.editedItem.amount)+parseFloat(this.editedItem.amount*this.editedItem.percentage/100);return t?t.toFixed(2):0},attendeeSummary:function(){return g["a"].attendeeSummary},multi:function(){return g["a"].multi},repeat:function(){return g["a"].repeat},qFab:function(){return g["a"].qFab},qFavOpen:function(){return g["a"].qFabOpen},duplicateIcon:function(){return g["a"].duplicate},deleteIcon:function(){return g["a"].delete}}},I=q,C=(a("6995"),a("2877")),A=Object(C["a"])(I,r,c,!1,null,"3b9a6e60",null),w=A.exports,x={components:{ActivityTableTitle:w},data:function(){return{schoolName:"",tab:"1",mode:"list",isFinal:!1,loading:!1,barInfo:{}}},methods:{getActivityBar:function(t,e,a,i){var s=this,n={method:"GET",url:d["a"].getActivityBar+t+"/"+e+"/"+a+"/"+i,headers:{Accept:"application/json"}};l()(n).then((function(t){s.barInfo=t.data,console.log("Bar info = ",s.barInfo)}))}},watch:{tab:function(t){this.getActivityBar(parseInt(t),this.$route.params.id,1,1)}},created:function(){this.schoolName=this.$route.query.name,this.getActivityBar(parseInt(this.tab),this.$route.params.id,1,1)}},k=x,D=(a("e1f5"),Object(C["a"])(k,s,n,!1,null,"5ff2dfc0",null));e["default"]=D.exports}}]);