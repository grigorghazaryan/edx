(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[4],{"0e66":function(t,e,a){},"113a":function(t,e,a){},"34c4":function(t,e,a){"use strict";var s=a("cb2d"),i=a.n(s);i.a},4678:function(t,e,a){var s={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn-bd":"9686","./bn-bd.js":"9686","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d7167","./ca.js":"d7167","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"73332","./en-il.js":"73332","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-mx":"b5b7","./es-mx.js":"b5b7","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df48","./fa.js":"8df48","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b46","./gd.js":"f6b46","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tk":"5aff","./tk.js":"5aff","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function i(t){var e=o(t);return a(e)}function o(t){if(!a.o(s,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return s[t]}i.keys=function(){return Object.keys(s)},i.resolve=o,t.exports=i,i.id="4678"},"4ac5":function(t,e,a){"use strict";var s=a("e25d"),i=a.n(s);i.a},"55c3":function(t,e,a){},5626:function(t,e,a){"use strict";var s=a("55c3"),i=a.n(s);i.a},"5eef":function(t,e,a){},"877d":function(t,e,a){"use strict";var s=a("113a"),i=a.n(s);i.a},"97b4":function(t,e,a){},af7c:function(t,e,a){"use strict";var s=a("5eef"),i=a.n(s);i.a},c807:function(t,e,a){"use strict";var s=a("97b4"),i=a.n(s);i.a},cb2d:function(t,e,a){},dca8:function(t,e,a){"use strict";var s=a("0e66"),i=a.n(s);i.a},e25d:function(t,e,a){},ef60:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-page",{staticClass:"q-pa-sm edx-background"},[a("q-card",{staticClass:"bg-transparent no-shadow no-border"},[a("q-card-section",{staticClass:"q-pa-none"},[a("div",{staticClass:"row q-col-gutter-sm "},[a("div",{staticClass:"col-md-2 col-sm-12 col-xs-12"},[a("q-item",{staticClass:"q-pa-none q-ml-xs",staticStyle:{"background-color":"#fff"}},[a("q-item-section",{staticClass:" q-pa-lg q-mr-none text-white",staticStyle:{"background-color":"#fff"},attrs:{side:""}},[a("q-icon",{staticClass:"edx-green",attrs:{name:"monetization_on",size:"35px"}})],1),t.barInfo.totalAllocation?a("q-item-section",{staticClass:"q-ml-none"},[a("q-item-label",{staticClass:"text-grey-7"},[t._v("Total I")]),a("q-item-label",{staticClass:"text-dark text-h6 text-weight-bolder"},[a("div",[t._v("$ "+t._s(t.barInfo.totalAllocation.amount.total.toFixed(2)))])]),a("q-item-label",[a("div",{staticClass:"fs-1",class:t.barInfo.totalAllocation.amount.preliminary>0?"edx-green":"edx-red"},[t._v("$ "+t._s(t.barInfo.totalAllocation.amount.preliminary.toFixed(2)))])])],1):t._e()],1)],1),a("div",{staticClass:"col-md-2 col-sm-12 col-xs-12"},[a("q-item",{staticClass:"q-pa-none q-ml-xs",staticStyle:{"background-color":"#fff"}},[a("q-item-section",{staticClass:" q-pa-lg q-mr-none text-white",staticStyle:{"background-color":"#fff"},attrs:{side:""}},[a("q-icon",{staticClass:"edx-green",attrs:{name:"monetization_on",size:"35px"}})],1),a("q-item-section",{staticClass:"q-ml-none"},[a("q-item-label",{staticClass:"text-grey-7"},[t._v("Total Salaries")]),a("q-item-label",{staticClass:"text-dark text-h6 text-weight-bolder"},[t._v("\n                $ "+t._s(t.barInfo.totalCharge)+"\n              ")])],1)],1)],1)])])],1),a("div",{staticClass:"q-pa-sm q-mt-sm q-gutter-sm"},[a("div",{staticClass:"edx-header-parent"},[a("span",{staticClass:"edx-header-text"},[t._v(t._s(this.$route.query.name))])]),a("q-card",[a("q-tabs",{staticClass:"text-grey",attrs:{dense:"","active-color":"primary","indicator-color":"primary",align:"left","narrow-indicator":""},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[a("q-tab",{attrs:{name:"1",label:"Title I"}}),a("q-tab",{attrs:{name:"2",label:"Title II"}}),a("q-tab",{attrs:{name:"3",label:"Title III"}}),a("q-tab",{attrs:{name:"4",label:"Title IV"}}),a("q-tab",{attrs:{name:"5",label:"ESSER"}}),a("q-tab",{attrs:{name:"6",label:"GEER"}})],1),a("q-separator"),a("q-tab-panels",{staticClass:"tab-panels-parent",attrs:{animated:""},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[a("q-tab-panel",{staticClass:"q-p-sm",attrs:{name:"1"}},[a("TeacherTableTitle",{attrs:{title:1}})],1),a("q-tab-panel",{staticClass:"q-p-sm",attrs:{name:"2"}},[a("TeacherTableTitle",{attrs:{title:2}})],1),a("q-tab-panel",{staticClass:"q-p-sm",attrs:{name:"3"}},[a("TeacherTableTitle",{attrs:{title:3}})],1),a("q-tab-panel",{staticClass:"q-p-sm",attrs:{name:"4"}},[a("TeacherTableTitle",{attrs:{title:4}})],1),a("q-tab-panel",{staticClass:"q-p-sm",attrs:{name:"5"}},[a("TeacherTableTitle",{attrs:{title:5}})],1),a("q-tab-panel",{staticClass:"q-p-sm",attrs:{name:"6"}},[a("TeacherTableTitle",{attrs:{title:6}})],1)],1)],1)],1)],1)},i=[],o=(a("7f7f"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("q-table",{staticClass:"overflow-auto my-sticky-column-table",attrs:{data:t.data,columns:t.columns,loading:t.loading,pagination:t.pagination},on:{"update:pagination":function(e){t.pagination=e}},scopedSlots:t._u([{key:"loading",fn:function(){return[a("q-inner-loading",{attrs:{showing:"",color:"primary"}})]},proxy:!0},{key:"top-right",fn:function(e){return[a("q-input",{staticClass:"q-mr-md",staticStyle:{"min-width":"250px","max-width":"250px"},attrs:{disable:t.showRemainingBalance,outlines:"",dense:"",placeholder:"Search"},on:{keyup:t.keyUpFilter,keydown:t.keyDownFilter},scopedSlots:t._u([{key:"append",fn:function(){return[a("q-icon",{attrs:{name:"search"}})]},proxy:!0}],null,!0),model:{value:t.filter,callback:function(e){t.filter=e},expression:"filter"}}),a("q-btn",{staticClass:"q-mr-md edx-add-btn",attrs:{square:"","text-color":"white",icon:"add","no-caps":""},on:{click:t.openNewTeacherPopup}},[t._v("\n                Add\n            ")]),a("q-btn",{staticClass:"edx-excel-btn",attrs:{round:"",icon:"mdi-file-excel-box",size:"10px","text-color":"white","no-caps":""},on:{click:t.exportTable}},[a("q-tooltip",{attrs:{"content-class":"edx-tooltip"}},[t._v("Export to Excel")])],1),a("q-btn",{staticClass:"edx-ledger-balance-btn q-ml-md",attrs:{round:"",size:"10px",icon:"price_check","no-caps":"",flat:""},on:{click:function(e){t.showRemainingBalance=!0}}},[a("q-tooltip",{attrs:{"content-class":"edx-tooltip"}},[t._v("View Ledger Balances")])],1),"list"===t.mode?a("q-btn",{staticClass:"q-ml-md",attrs:{flat:"",round:"",dense:"",icon:e.inFullscreen?"fullscreen_exit":"fullscreen"},on:{click:e.toggleFullscreen}},[a("q-tooltip",{attrs:{"content-class":"edx-tooltip",disable:t.$q.platform.is.mobile}},[t._v("\n                    "+t._s(e.inFullscreen?"Exit Fullscreen":"Toggle Fullscreen")+"\n                ")])],1):t._e(),a("div",{staticClass:"q-pa-sm q-gutter-sm"},[a("q-dialog",{attrs:{persistent:""},model:{value:t.confirm,callback:function(e){t.confirm=e},expression:"confirm"}},[a("q-card",[a("q-card-section",{staticClass:"row items-center"},[a("span",{staticClass:"q-ml-sm"},[t._v("Are you sure to delete this item?")])]),a("q-card-actions",{attrs:{align:"right"}},[a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"No, thanks",color:"primary"}}),a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{label:"Yes",color:"edx-delete-btn"},on:{click:t.deleteItem}})],1)],1)],1)],1)]}},{key:"body",fn:function(e){return[a("q-tr",{staticClass:"cursor-pointer",attrs:{props:e},on:{click:function(a){t.isEdit=!0,t.openTeacherPopup(e.row,e.rowIndex)}}},[a("q-td",{key:"provider",attrs:{props:e}},[e.row.provider?a("div",[t._v("\n                        "+t._s(e.row.provider.label)+"\n                    ")]):t._e()]),e.row.status_uni?a("q-td",{key:"status",attrs:{props:e}},[a("span",[t._v("\n                        "+t._s(e.row.status_uni.label)+"\n                        "),a("q-tooltip",{attrs:{anchor:"top middle",self:"bottom middle",offset:[10,10],"transition-show":"flip-right","transition-hide":"flip-left"}},[a("strong",[t._v(t._s(e.row.status_uni.description))])])],1)]):t._e(),a("q-td",{key:"teacherName",attrs:{props:e}},[a("span",[t._v(t._s(e.row.teacherName))])]),a("q-td",{key:"dateOfActivity",attrs:{props:e}},[a("span",[t._v("\n                    "+t._s(e.row.activity_date)+"\n                    ")])]),a("q-td",{key:"cost",attrs:{props:e}},[a("div",[t._v("$ "+t._s(e.row.cost))])]),a("q-td",{key:"type",attrs:{props:e}},[e.row.type_uni?a("q-chip",{attrs:{square:"",color:"edx-bg-i"}},[a("span",[t._v(t._s(e.row.type_uni.name))]),a("q-tooltip",{attrs:{anchor:"top middle",self:"bottom middle",offset:[10,10],"transition-show":"flip-right","transition-hide":"flip-left"}},[a("strong",[t._v(t._s(e.row.type_uni.name))])])],1):t._e()],1),a("q-td",{key:"grossPD",attrs:{props:e}},[a("div",[t._v("$ "+t._s((parseFloat(e.row.cost)+parseFloat(e.row.cost*e.row.percentage/100)).toFixed(2)))])]),a("q-td",{key:"actions",staticStyle:{"min-width":"132px"},attrs:{props:e}},[a("q-fab",{attrs:{padding:"xs",color:"edx-action-btn",icon:"toc","active-icon":"menu_open",direction:"left"},on:{click:function(t){t.stopPropagation()}}},[a("q-fab-action",{staticClass:"q-mr-sm",attrs:{icon:"content_copy",color:"edx-duplicate-btn",size:"sm","no-caps":"",round:""},on:{click:function(a){return t.openDuplicatePopup(e.row)}}},[a("q-tooltip",{attrs:{anchor:"top middle",self:"bottom middle",offset:[10,10],"transition-show":"flip-right","transition-hide":"flip-left"}},[a("strong",[t._v("Duplicate")])])],1),a("q-fab-action",{attrs:{icon:"delete_forever",color:"edx-delete-btn",size:"sm","no-caps":"",round:""},on:{click:function(a){return t.openDeleteModal(e.row)}}},[a("q-tooltip",{attrs:{anchor:"top middle",self:"bottom middle",offset:[10,10],"transition-show":"flip-right","transition-hide":"flip-left"}},[a("strong",[t._v("Delete")])])],1)],1)],1)],1)]}},{key:"bottom",fn:function(){return[a("div",{staticClass:"q-pa-md flex flex-center"},[a("q-pagination",{attrs:{"max-pages":6,max:t.pages,"direction-links":!0},on:{click:function(e){return t.changePagination(t.current)}},model:{value:t.current,callback:function(e){t.current=e},expression:"current"}}),a("div",{staticClass:"row justify-center items-center"},[a("span",{staticClass:"q-mr-md"},[t._v("Rows Per page")]),a("q-select",{attrs:{dense:"",outlined:"",options:t.rowsPerPageArr},on:{input:t.changeRowsPerPage},model:{value:t.pagination.rowsPerPage,callback:function(e){t.$set(t.pagination,"rowsPerPage",e)},expression:"pagination.rowsPerPage"}})],1)],1)]},proxy:!0}])}),a("TeacherPopup",{attrs:{show:t.showTeacherModal,id:t.id,title:t.title,isEdit:t.isEdit,isDuplicate:t.isDuplicate},on:{hidePopup:t.closeTeacherPopup,addTeacherToTable:t.addTeacherToTable}}),a("dialog-draggable",{attrs:{width:850,modelDialog:t.isRemainingPopupOpen,title:"Budgeted Spending",icon:"attach_money"},on:{onHide:function(e){t.isRemainingPopupOpen=!1}}},[a("q-card-section",{staticClass:"scroll q-pt-none q-pb-none q-pr-none q-pl-none",staticStyle:{"max-height":"60vh"}},[a("div",{staticClass:"row q-mr-lg q-ml-lg q-mb-lg q-mt-lg"},[a("div",{staticClass:"col-md-6 q-pr-sm q-mb-md"}),a("div",{staticClass:"col-md-6 q-pr-sm q-mb-md"},[a("div",{staticClass:"row q-mt-lg"},[a("div",{staticClass:"col-md-9 q-pr-md text-right"},[t._v("Total Allocation:")]),a("div",{staticClass:"col-md-3"},[a("b",[t._v("$ "+t._s(t.priliminary))])])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-9 q-pr-md text-right"},[t._v("Available to spend:")]),a("div",{staticClass:"col-md-3"},[a("b",[t._v("$ "+t._s(t.availableToSpend))])])])]),a("div",{staticClass:"col-md-12 q-mt-md"},[a("q-table",{staticClass:"overflow-auto",attrs:{data:t.tdata,columns:t.tcolumns,loading:t.tloading,pagination:t.tpagination},on:{"update:pagination":function(e){t.tpagination=e}},scopedSlots:t._u([{key:"body",fn:function(e){return[a("q-tr",{staticClass:"cursor-pointer",attrs:{props:e}},[a("q-td",{key:"transaction",style:{maxWidth:"350px",width:"350px"},attrs:{props:e}},[a("span",{staticClass:"inline-span"},[t._v("\n                                        "+t._s(e.row.transaction)+"\n                                    ")])]),a("q-td",{key:"date",attrs:{props:e}},[t._v("\n                                    "+t._s(e.row.date)+"\n                                ")]),a("q-td",{key:"type",attrs:{props:e}},[a("q-chip",{attrs:{square:"",color:"edx-bg-i"}},[a("span",[t._v(t._s(e.row.type))]),a("q-tooltip",{attrs:{anchor:"top middle",self:"bottom middle",offset:[10,10],"transition-show":"flip-right","transition-hide":"flip-left"}},[a("strong",[t._v(t._s(e.row.type))])])],1)],1),a("q-td",{key:"amount",attrs:{props:e}},[t._v("\n                                    $ "+t._s(e.row.amount)+"\n                                ")]),a("q-td",{key:"balance",attrs:{props:e}},[a("div",{class:e.row.balance>0?"edx-green":"edx-red"},[t._v("\n                                        $ "+t._s(e.row.balance.toFixed(2))+"\n                                    ")])])],1)]}},{key:"bottom",fn:function(){return[a("div",{staticClass:"q-pa-md flex flex-center"},[a("q-pagination",{attrs:{color:"edx-pagination","max-pages":6,max:t.budgetPages,"direction-links":!0},on:{click:function(e){return t.changeBudgetPagination(t.budgetCurrent)}},model:{value:t.budgetCurrent,callback:function(e){t.budgetCurrent=e},expression:"budgetCurrent"}}),a("div",{staticClass:"row justify-center items-center"},[a("span",{staticClass:"q-mr-md"},[t._v("Rows Per page")]),a("q-select",{attrs:{dense:"",outlined:"",options:t.rowsPerPageArr},on:{input:t.changeBudgetRowsPerPage},model:{value:t.tpagination.rowsPerPage,callback:function(e){t.$set(t.tpagination,"rowsPerPage",e)},expression:"tpagination.rowsPerPage"}})],1)],1)]},proxy:!0}])})],1)])]),a("q-card-actions",{staticClass:"row justify-end"},[a("div",[a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"Cancel",color:"primary"}})],1)])],1)],1)}),n=[],l=(a("6b54"),a("06db"),a("bc3a")),r=a.n(l),d=a("a1bc"),c=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("dialog-draggable",{attrs:{width:1e3,modelDialog:t.showPopup,title:"Teacher Assignment Details",icon:"group"},on:{onHide:t.hidePopup}},[a("div",{staticClass:"q-pa-md scroll",staticStyle:{"max-height":"70vh"}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-5 q-pr-md"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-6"},[a("div",{staticClass:"q-mb-md"},[a("div",{staticClass:"text-subtitle2 q-mb-sm"},[t._v("Employee")]),a("q-select",{attrs:{disable:t.isEdit,outlined:"",dense:"","use-input":"","input-debounce":"0",options:t.optionsTeachers},on:{filter:t.filterTeachers,input:t.getEmployeeInfo},model:{value:t.editedItem.teacher,callback:function(e){t.$set(t.editedItem,"teacher",e)},expression:"editedItem.teacher"}})],1)]),a("div",{staticClass:"col-md-6 q-pl-md"},[a("div",{staticClass:"text-subtitle2 q-mb-sm"},[t._v("Role")]),a("q-select",{attrs:{outlined:"",dense:"","input-debounce":"0",options:t.optionsRoleTypes},scopedSlots:t._u([{key:"no-option",fn:function(){return[a("q-item",[a("q-item-section",{staticClass:"text-grey"},[t._v("\n                                            No results\n                                            ")])],1)]},proxy:!0}]),model:{value:t.editedItem.role,callback:function(e){t.$set(t.editedItem,"role",e)},expression:"editedItem.role"}})],1)]),a("div",{staticClass:"q-mb-md"},[a("div",{staticClass:"text-subtitle2 q-mb-sm"},[t._v("Campus")]),a("q-select",{attrs:{outlined:"",dense:"","input-debounce":"0",options:t.optionsCampus},scopedSlots:t._u([{key:"no-option",fn:function(){return[a("q-item",[a("q-item-section",{staticClass:"text-grey"},[t._v("\n                                    No results\n                                    ")])],1)]},proxy:!0}]),model:{value:t.editedItem.campus,callback:function(e){t.$set(t.editedItem,"campus",e)},expression:"editedItem.campus"}})],1),a("div",{staticClass:"q-mb-md"},[a("div",{staticClass:"text-subtitle2 q-mb-sm"},[t._v("Employee Detail")]),a("div",{staticClass:"bordered-box"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-4 left-col"},[a("b",[t._v("Employment:")])]),a("div",{staticClass:"col-md-6 right-col"},[a("span",[t._v(" "+t._s(t.editedItem.employement)+" ")])])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-4 left-col"},[a("b",[t._v("Compensation:")])]),t.editedItem.compensation?a("div",{staticClass:"col-md-6 right-col"},[a("span",[t._v(t._s(t.editedItem.compensation.name))])]):t._e()]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-4 left-col"},[a("b",[t._v("Pay Frequency:")])]),t.editedItem.payFrequesncy?a("div",{staticClass:"col-md-6 right-col"},[a("span",[t._v(t._s(t.editedItem.payFrequesncy.name))])]):t._e()]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-4 left-col"},[a("b",[t._v("Pay:")])]),a("div",{staticClass:"col-md-6 right-col"},[a("span",[t._v("$ "),a("span",[t._v(t._s(t.editedItem.pay))])])])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-4 left-col"},[a("b",[t._v("Work Month:")])]),a("div",{staticClass:"col-md-6 right-col"},[a("span",[t._v(t._s(t.editedItem.workMonth))])])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-4 left-col"},[a("b",[t._v("Benefits:")])]),a("div",{staticClass:"col-md-6 right-col"},[a("span",[t._v(t._s(t.editedItem.benefits))])])])])])]),a("div",{staticClass:"col-md-7 q-pl-md"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-6 q-pr-sm q-mb-md"},[a("div",{staticClass:"text-subtitle2 q-mb-sm"},[t._v("Allocation Category")]),a("div",{staticClass:"row cursor-pointer h-popup"},[a("div",[a("q-chip",{attrs:{square:"",color:"edx-bg-i"}},[a("span",[t._v("I")])])],1),a("q-popup-edit",{attrs:{buttons:""},model:{value:t.editedItem.subcategory,callback:function(e){t.$set(t.editedItem,"subcategory",e)},expression:"editedItem.subcategory"}},[a("div",{staticClass:"q-mb-lg q-mt-lg"},[a("div",{staticClass:"text-subtitle2 q-mb-sm"},[t._v("Allocation Subcategory")]),a("div",{staticClass:"row cursor-pointer h-popup"},[a("q-select",{staticClass:"w-100",attrs:{options:t.optionsSubcategory,outlined:"",dense:""},model:{value:t.editedItem.subcategory,callback:function(e){t.$set(t.editedItem,"subcategory",e)},expression:"editedItem.subcategory"}})],1)])])],1)])]),a("div",{staticClass:"q-mb-md"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-6"},[a("div",{staticClass:"text-subtitle2 q-mb-sm"},[t._v("Tracking Category")]),a("q-select",{attrs:{outlined:"",dense:"","input-debounce":"0",options:t.optionsCategoryTracking},scopedSlots:t._u([{key:"no-option",fn:function(){return[a("q-item",[a("q-item-section",{staticClass:"text-grey"},[t._v("\n                                            No results\n                                            ")])],1)]},proxy:!0}]),model:{value:t.editedItem.trackingCategory,callback:function(e){t.$set(t.editedItem,"trackingCategory",e)},expression:"editedItem.trackingCategory"}})],1)])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12"},[a("div",{staticClass:"text-subtitle2 q-mb-sm"},[t._v("Assignment Information")])]),a("div",{staticClass:"col-md-3 q-pr-sm"},[a("div",{staticClass:"text-subtitle2 q-mb-sm"},[t._v("Start Date")]),a("q-input",{attrs:{outlined:"",dense:""},scopedSlots:t._u([{key:"append",fn:function(){return[a("q-icon",{staticClass:"cursor-pointer",attrs:{name:"event"}},[a("q-popup-proxy",{attrs:{"transition-show":"scale","transition-hide":"scale"}},[a("q-date",{attrs:{color:"edx-pagination"},model:{value:t.editedItem.startDate,callback:function(e){t.$set(t.editedItem,"startDate",e)},expression:"editedItem.startDate"}},[a("div",{staticClass:"row items-center justify-end"},[a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{label:"Close",color:"primary",flat:""}})],1)])],1)],1)]},proxy:!0}]),model:{value:t.editedItem.startDate,callback:function(e){t.$set(t.editedItem,"startDate",e)},expression:"editedItem.startDate"}})],1),a("div",{staticClass:"col-md-3 q-pr-sm"},[a("div",{staticClass:"text-subtitle2 q-mb-sm"},[t._v("End Date")]),a("q-input",{attrs:{outlined:"",dense:""},scopedSlots:t._u([{key:"append",fn:function(){return[a("q-icon",{staticClass:"cursor-pointer",attrs:{name:"event"}},[a("q-popup-proxy",{attrs:{"transition-show":"scale","transition-hide":"scale"}},[a("q-date",{attrs:{color:"edx-pagination"},model:{value:t.editedItem.endDate,callback:function(e){t.$set(t.editedItem,"endDate",e)},expression:"editedItem.endDate"}},[a("div",{staticClass:"row items-center justify-end"},[a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{label:"Close",color:"primary",flat:""}})],1)])],1)],1)]},proxy:!0}]),model:{value:t.editedItem.endDate,callback:function(e){t.$set(t.editedItem,"endDate",e)},expression:"editedItem.endDate"}})],1),a("div",{staticClass:"col-md-2 q-pr-sm"},[a("div",{staticClass:"text-subtitle2 q-mb-sm"},[t._v("Base Rate")]),a("q-input",{staticClass:"q-mb-md",attrs:{prefix:"$",disable:"",outlined:"",type:"number",dense:"",autofocus:""},model:{value:t.baseRate,callback:function(e){t.baseRate=e},expression:"baseRate"}})],1),a("div",{staticClass:"col-md-2 q-pr-sm"},[t.editedItem.isHoursWeek?a("div",{staticClass:"text-subtitle2 q-mb-sm"},[t._v("\n                                "+t._s(t.editedItem.isHoursWeek.label)+"\n                            ")]):t._e(),a("div",{staticClass:"cursor-pointer"},[t.editedItem.isHoursWeek&&1==t.editedItem.isHoursWeek.id?a("q-input",{staticClass:"q-mb-md",attrs:{readonly:"",outlined:"",type:"text",dense:"",autofocus:""},model:{value:t.totalHours,callback:function(e){t.totalHours=e},expression:"totalHours"}}):a("q-input",{staticClass:"q-mb-md",attrs:{readonly:"",outlined:"",type:"text",dense:"",autofocus:""},model:{value:t.editedItem.hoursWM,callback:function(e){t.$set(t.editedItem,"hoursWM",e)},expression:"editedItem.hoursWM"}})],1),a("q-popup-edit",{attrs:{buttons:""},model:{value:t.editedItem.isHoursWeek,callback:function(e){t.$set(t.editedItem,"isHoursWeek",e)},expression:"editedItem.isHoursWeek"}},[a("div",{staticClass:"row w-400"},[a("div",{staticClass:"col-md-9 q-pr-md"},[a("div",{staticClass:"text-subtitle2 q-mb-sm"},[t._v("Schedule")]),a("q-select",{attrs:{dense:"",outlined:"",options:t.hoursOption},model:{value:t.editedItem.isHoursWeek,callback:function(e){t.$set(t.editedItem,"isHoursWeek",e)},expression:"editedItem.isHoursWeek"}})],1),t.editedItem.isHoursWeek&&1==t.editedItem.isHoursWeek.id?a("div",{staticClass:"col-md-3"},[a("div",{staticClass:"text-subtitle2 q-mb-sm"},[t._v("Total Hours")]),a("q-input",{attrs:{readonly:"",dense:"",outlined:""},model:{value:t.totalHours,callback:function(e){t.totalHours=e},expression:"totalHours"}})],1):a("div",{staticClass:"col-md-3"},[a("div",{staticClass:"text-subtitle2 q-mb-sm"},[t._v("Total Hours")]),a("q-input",{attrs:{dense:"",outlined:""},model:{value:t.editedItem.hoursWM,callback:function(e){t.$set(t.editedItem,"hoursWM",e)},expression:"editedItem.hoursWM"}})],1),t.editedItem.isHoursWeek&&1==t.editedItem.isHoursWeek.id?a("div",{staticClass:"col-md-12 q-mt-md"},[a("div",{staticClass:"row justify-between items-center"},[a("div",{staticClass:"text-subtitle2"},[t._v("Work Days and Hours")]),a("q-checkbox",{attrs:{label:"Full Time"},on:{input:t.fullTimeInput},model:{value:t.editedItem.fullTime,callback:function(e){t.$set(t.editedItem,"fullTime",e)},expression:"editedItem.fullTime"}})],1)]):t._e(),t.editedItem.isHoursWeek&&1==t.editedItem.isHoursWeek.id?a("div",{staticClass:"row w-100 q-mt-md q-mb-md"},t._l(t.scheduleWeekDays,(function(e){return a("div",{key:e.id,staticClass:"col q-pr-sm text-center"},[a("q-btn",{attrs:{round:"",color:e.checked?"secondary":"grey-1","text-color":e.checked?"white":"black",label:e.name,disable:t.editedItem.fullTime},on:{click:function(t){e.checked=!e.checked,!e.checked&&(e.hours=null)}}}),a("q-input",{staticClass:"q-mt-sm",attrs:{disable:!e.checked||t.editedItem.fullTime,outlined:"",dense:""},model:{value:e.hours,callback:function(a){t.$set(e,"hours",a)},expression:"i.hours"}})],1)})),0):t._e()])])],1),a("div",{staticClass:"col-md-2"},[a("div",{staticClass:"text-subtitle2 q-mb-sm"},[t._v("\n                                Fringe\n                                "),t.editedItem.frienge?a("span",[t._v("/"+t._s(t.editedItem.frienge.label.slice(0,1)))]):t._e()]),a("q-input",{staticClass:"q-mb-md",attrs:{readonly:"",prefix:"$",outlined:"",dense:"",autofocus:""},model:{value:t.editedItem.totalAmount,callback:function(e){t.$set(t.editedItem,"totalAmount",e)},expression:"editedItem.totalAmount"}}),a("q-popup-edit",{attrs:{buttons:""},model:{value:t.editedItem.frienge,callback:function(e){t.$set(t.editedItem,"frienge",e)},expression:"editedItem.frienge"}},[a("div",{staticClass:"row w-300"},[a("div",{staticClass:"col-md-8 q-pr-md"},[a("div",{staticClass:"text-subtitle2 q-mb-sm"},[t._v("Fringe Cost")]),a("q-select",{attrs:{dense:"",outlined:"",options:t.optionsFringe},model:{value:t.editedItem.frienge,callback:function(e){t.$set(t.editedItem,"frienge",e)},expression:"editedItem.frienge"}})],1),a("div",{staticClass:"col-md-4"},[a("div",{staticClass:"text-subtitle2 q-mb-sm"},[t._v("Total Amount")]),a("q-input",{attrs:{type:"number",dense:"",outlined:""},model:{value:t.editedItem.totalAmount,callback:function(e){t.$set(t.editedItem,"totalAmount",e)},expression:"editedItem.totalAmount"}})],1),a("div",{staticClass:"col-md-12"},[a("p",{staticClass:"q-mt-md"},[t._v("Estimated Hourly Fringe : $ "),a("span",[t._v(t._s(t.calculateHouryFringe))]),t._v("/h")])])])])],1)]),a("div",{staticClass:"row q-mb-md"},[a("div",{staticClass:"col-md-4 q-pr-sm"},[a("div",{staticClass:"text-subtitle2 q-mb-sm"},[t._v("Assignment type")]),a("div",[t.editedItem.isHoursWeek&&1==t.editedItem.isHoursWeek.id?a("div",[t.totalHours>=40?a("div",[a("q-icon",{staticStyle:{"font-size":"1.8em",color:"green"},attrs:{name:"circle"}}),t._v("\n                                        Full Time\n                                    ")],1):a("div",[a("q-icon",{staticStyle:{"font-size":"1.8em",color:"orange"},attrs:{name:"timelapse"}}),t._v("\n                                        Part Time\n                                    ")],1)]):a("div",[t.editedItem.hoursWM>=8?a("div",[a("q-icon",{staticStyle:{"font-size":"1.8em",color:"green"},attrs:{name:"circle"}}),t._v("\n                                        Full Time\n                                    ")],1):a("div",[a("q-icon",{staticStyle:{"font-size":"1.8em",color:"orange"},attrs:{name:"timelapse"}}),t._v("\n                                        Part Time\n                                    ")],1)])])])]),a("div",{staticClass:"q-mb-md"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-5"},[a("div",{staticClass:"text-subtitle2 q-mb-sm"},[t._v("Assignment Status")]),t.editedItem.assignmentStatus?a("div",{staticClass:"h-popup cursor-pointer"},[a("q-icon",{staticClass:"q-mr-sm",class:t.activityStatusIconColor,staticStyle:{"font-size":"1.5em"},attrs:{name:t.activityStatusIcon}}),a("span",[t._v(t._s(t.editedItem.assignmentStatus.label))])],1):t._e(),a("q-popup-edit",{attrs:{title:"Assignment Status",buttons:""},model:{value:t.editedItem.assignmentStatus,callback:function(e){t.$set(t.editedItem,"assignmentStatus",e)},expression:"editedItem.assignmentStatus"}},[a("q-select",{attrs:{outlined:"",dense:"","input-debounce":"0",options:t.optionsStatus},scopedSlots:t._u([{key:"no-option",fn:function(){return[a("q-item",[a("q-item-section",{staticClass:"text-grey"},[t._v("\n                                                    No results\n                                                    ")])],1)]},proxy:!0}]),model:{value:t.editedItem.assignmentStatus,callback:function(e){t.$set(t.editedItem,"assignmentStatus",e)},expression:"editedItem.assignmentStatus"}})],1)],1),a("div",{staticClass:"col-md-5"},[a("div",{staticClass:"text-subtitle2 q-mb-sm"},[t._v("Documents and Tasks")]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12"},[a("div",{staticClass:"h-popup cursor-pointer"},[a("q-icon",{staticClass:"edx-folder q-mr-sm",staticStyle:{"font-size":"2em"},attrs:{name:"folder"},on:{click:t.openDocumentsModal}})],1)])])])])])]),t.monthlyDetails?a("div",{staticClass:"col-md-12 q-mt-lg q-mb-lg"},[a("div",{staticClass:"text-subtitle2 q-mb-sm"},[t._v("\n                        Calculated Assignment Details\n                    ")]),a("q-table",{staticClass:"q-mt-md q-mb-md border overflow-auto my-sticky-column-table",attrs:{data:t.monthlyDetails,columns:t.teacherSubColumns,"hide-bottom":""},scopedSlots:t._u([{key:"body",fn:function(e){return[a("q-tr",{attrs:{props:e}},[a("q-td",{key:"hourlyFringe",attrs:{props:e}},[t._v("\n                                    "+t._s(t.calculateHouryFringe)+"\n                                ")]),a("q-td",{key:"chargeRate",attrs:{props:e}},[t._v("\n                                    "+t._s(t.chargeRate)+"\n                                ")]),a("q-td",{key:"workDays",attrs:{props:e}},[t._v("\n                                    "+t._s(t.workDays)+"\n                                ")]),a("q-td",{key:"workHours",attrs:{props:e}},[t._v("\n                                        "+t._s(t.workHours)+"\n                                ")]),a("q-td",{key:"billingCycles",attrs:{props:e}},[t._v("\n                                    "+t._s(t.billingCycles)+"\n                                ")]),a("q-td",{key:"assignmentTotal",attrs:{props:e}},[t._v("\n                                    "+t._s(t.assTotal)+"\n                                ")]),a("q-td",{key:"hourlyOverride",attrs:{props:e}},[a("div",{staticClass:"row justify-end"},[a("q-checkbox",{model:{value:e.row.isHourlyOverride,callback:function(a){t.$set(e.row,"isHourlyOverride",a)},expression:"props.row.isHourlyOverride"}}),a("q-input",{staticClass:"w-80px",attrs:{disable:!e.row.isHourlyOverride,filled:!e.row.isHourlyOverride,outlined:"",prefix:"$",dense:""},model:{value:e.row.hourlyOverride,callback:function(a){t.$set(e.row,"hourlyOverride",a)},expression:"props.row.hourlyOverride"}})],1)])],1)]}}],null,!1,94536759)})],1):t._e(),a("q-separator",{staticClass:"q-mt-lg q-mb-lg"}),a("div",{staticClass:"col-md-3 q-pl-md"},[a("q-btn",{attrs:{color:"primary q-mt-lg"},on:{click:t.paySchedule}},[t._v("\n                        View pay schedule\n                    ")])],1),a("div",{staticClass:"col-md-9 q-pl-md"},[a("div",{staticClass:"text-subtitle2 q-mb-sm"},[t._v("Note")]),a("q-input",{attrs:{dense:"",outlined:"",type:"textarea"},model:{value:t.editedItem.note,callback:function(e){t.$set(t.editedItem,"note",e)},expression:"editedItem.note"}})],1)],1)]),a("q-card-actions",{attrs:{align:"right"}},[a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"Cancel",color:"primary"}}),t.isEdit&&!t.isDuplicate?a("q-btn",{attrs:{loading:t.btnLoading,flat:"",label:"Save",color:"primary"},on:{click:t.editTeacher}}):t._e(),t.isEdit||t.isDuplicate?t._e():a("q-btn",{attrs:{loading:t.btnLoading,flat:"",label:"Add",color:"primary"},on:{click:t.addTeacher}}),t.isDuplicate&&!t.isEdit?a("q-btn",{attrs:{loading:t.btnLoading,flat:"",label:"Duplicate",color:"primary"},on:{click:t.duplicateTeacher}}):t._e()],1)],1),a("PaySchedule",{attrs:{show:t.showPaySchedule,icon:"attach_money",title:t.title,startDate:t.editedItem.startDate,endDate:t.editedItem.endDate,hourlyFringe:t.chargeRate,selectedWeekDays:t.scheduleWeekDays,category:t.editedItem.category,employee:t.editedItem.teacher},on:{hidePaySchedulePopup:t.closePaySchedulePopup}}),a("DocumentsPopup",{attrs:{show:t.showDocumentPopup,activity:t.editedItem,isEdit:t.isEdit,categoryId:3},on:{togglePopup:t.togglePopup}})],1)},u=[],p=(a("28a5"),a("c47a")),m=a.n(p),h=a("ec8cb"),g=a("13af"),f=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("dialog-draggable",{attrs:{width:750,modelDialog:t.isShow,title:"Pay Schedule",icon:"attach_money",color:"green"},on:{onHide:t.hidePopup}},[a("q-card-section",{staticClass:"scroll q-pt-none q-pb-none q-pr-none q-pl-none",staticStyle:{"max-height":"60vh"}},[a("div",{staticClass:"row q-mr-lg q-ml-lg q-mb-lg q-mt-lg"},[a("div",{staticClass:"col-md-6 q-pr-sm q-mb-md"},[a("div",{staticClass:"row items-center q-mb-sm"},[a("div",{staticClass:"text-subtitle2 q-mr-md q-mb-sm"},[t._v("Billing Cycle")]),a("div",{staticClass:"w-100 row cursor-pointer h-popup"},[a("q-select",{staticClass:"full-width",attrs:{outlined:"",dense:"",options:t.options},model:{value:t.selectedOption,callback:function(e){t.selectedOption=e},expression:"selectedOption"}})],1)]),a("q-checkbox",{attrs:{label:"Schedule Transactions for billing"},model:{value:t.schedule,callback:function(e){t.schedule=e},expression:"schedule"}})],1),a("div",{staticClass:"col-md-6 q-pr-sm q-mb-md"}),a("div",{staticClass:"col-md-12 q-mt-md"},[a("q-table",{staticClass:"overflow-auto my-sticky-column-table",attrs:{data:t.data,columns:t.columns,"hide-bottom":"",pagination:t.pagination},on:{"update:pagination":function(e){t.pagination=e}},scopedSlots:t._u([{key:"body",fn:function(e){return[a("q-tr",{staticClass:"cursor-pointer",attrs:{props:e}},[a("q-td",{key:"transaction",attrs:{props:e}},[t._v("\n                            "+t._s(e.row.transaction)+"\n                        ")]),a("q-td",{key:"date",attrs:{props:e}},[t._v("\n                            "+t._s(e.row.date)+"\n                        ")]),a("q-td",{key:"category",attrs:{props:e}},[a("q-chip",{staticClass:"bg-edx-bg-i",attrs:{square:""}},[a("span",[t._v("I")]),a("q-tooltip",{attrs:{anchor:"top middle",self:"bottom middle",offset:[10,10],"transition-show":"flip-right","transition-hide":"flip-left"}},[a("strong",[t._v("Instruction")])])],1)],1),a("q-td",{key:"amount",attrs:{props:e}},[t._v("\n                            $ "+t._s(e.row.amount)+"\n                        ")])],1)]}}])})],1)])]),a("q-card-actions",{staticClass:"row justify-end"},[a("div",[a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"Cancel",color:"primary"},on:{click:t.hidePopup}}),t.schedule?a("q-btn",{attrs:{flat:"",label:"Save",color:"primary"},on:{click:t.savePaySchedule}}):t._e()],1)])],1)},b=[],v={name:"PaySchedule",props:{show:{required:!0,default:!1},title:{required:!0},startDate:{required:!1,default:"01/01/2020"},endDate:{required:!1,default:"01/01/2020"},hourlyFringe:{required:!1,default:0},selectedWeekDays:{required:!1,default:[]},category:{required:!1,default:null},employee:{required:!1,default:null}},components:{DialogDraggable:g["a"]},data:function(){return{pagination:{rowsPerPage:48},data:[],columns:[{name:"transaction",align:"left",label:"Transaction",field:"transaction",sortable:!0},{name:"date",align:"left",label:"Date",field:"date",sortable:!0},{name:"category",align:"left",label:"Category",field:"category",sortable:!0},{name:"amount",align:"left",label:"Amount",field:"amount",sortable:!0}],schedule:!1,options:[{id:1,label:"Monthly"}],selectedOption:{id:1,label:"Monthly"}}},created:function(){this.getPayScheduleInfo()},watch:{show:function(t){t&&this.getPayScheduleInfo()}},methods:{hidePopup:function(){this.$emit("hidePaySchedulePopup",!1)},getPayScheduleInfo:function(){var t=[],e=this.dateRange(this.startDate,this.endDate),a=this.selectedWeekDays;console.log("selectedWeekDays",a),console.log("dates",e);for(var s=0;s<e.length;s++){var i=e[s].split("-"),o=i[0].split("/"),n=i[1].split("/"),l=o[1],r=parseInt(o[2]),d=parseInt(n[2]),c=0;console.log("#######################");for(var u=r;u<=d;u++)for(var p=o[0]+"/"+l+"/"+u,m=new Date(p).getDay(),h=0;h<=a.length;h++)if(a[h]&&a[h].checked&&a[h].id==m){console.log("selectedWeekDays[t].hours",a[h].hours),c+=parseFloat(a[h].hours);break}console.log("count=",c),console.log("hourlyFringe= ",this.hourlyFringe*c),t.push({transaction:this.employee?this.employee.label:"",date:i[0]+" - "+i[1],category:this.category?this.category.name:"",amount:(c*this.hourlyFringe).toFixed(2)}),this.data=t}},dateRange:function(t,e){for(var a=t.split("/"),s=e.split("/"),i=parseInt(a[0]),o=parseInt(s[0]),n=[],l=i;l<=o;l++)for(var r=l!=o?11:parseInt(s[1])-1,d=l===i?parseInt(a[1])-1:0,c=void 0,u=d;u<=r;u=u>12?u%12||11:u+1){c=u+1;var p=u+1,m=p<10?"0"+p:p;c=parseInt(a[1])==c&&l==parseInt(a[0])?parseInt(a[2])<10?"0"+parseInt(a[2]):parseInt(a[2]):"01";var h=void 0;h=u+1==parseInt(s[1])&&l==parseInt(s[0])?parseInt(s[1])==this.daysInMonth(m,l)?this.daysInMonth(m,l):s[2]:this.daysInMonth(m,l),n.push([l,m,c].join("/")+"-"+[l,m,h].join("/"))}return n},daysInMonth:function(t,e){return new Date(e,t,0).getDate()},savePaySchedule:function(){for(var t=this,e=[],a=0;a<this.data.length;a++)e.push({name:this.data[a].transaction,start_date:this.data[a].date.split("-")[0].substring(0,10),end_date:this.data[a].date.split("-")[1].substring(0,10),unit_cost:this.data[a].amount});console.log(e);var s={method:"POST",url:d["a"].addTeacherBudget+this.title,headers:{Accept:"application/json"},data:e};r()(s).then((function(e){console.log("res data ",e.data),t.$q.notify({message:"Success!",type:"positive"})})).catch((function(e){t.$q.notify({message:"Error! Please try again later.",type:"negative"})}))}},computed:{isShow:function(){return this.show}}},y=v,q=a("2877"),_=Object(q["a"])(y,f,b,!1,null,null,null),k=_.exports,w=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("dialog-draggable",{attrs:{width:800,modelDialog:t.showPopup,title:"Documents",icon:"description"}},[a("q-card-section",{staticClass:"scroll q-pt-none q-pb-none q-pr-none q-pl-none",staticStyle:{"max-height":"60vh"}},[a("div",{staticClass:"q-pa-md"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12 q-mb-lg q-mt-md"},[a("div",{staticClass:"text-subtitle2 q-mb-sm"},[t._v("Manage Documents")]),a("q-table",{staticClass:"no-shadow hidden-header overflow-auto",attrs:{data:t.data,columns:t.columns,loading:t.loading,"row-key":"id","hide-bottom":""},scopedSlots:t._u([{key:"body",fn:function(e){return[a("q-tr",{attrs:{props:e}},[a("q-td",{key:"name",staticClass:"cursor-pointer",attrs:{props:e},on:{click:function(t){e.expand=!e.expand}}},[a("div",[a("q-icon",{staticClass:"edx-folder",staticStyle:{width:"2em"},attrs:{name:"all_inbox"}}),t._v("\n                                            "+t._s(e.row.name)+"\n                                            "),a("q-icon",{staticClass:"q-ml-sm edx-green",staticStyle:{width:"2em"},attrs:{name:"search"},on:{click:function(a){return a.stopPropagation(),a.preventDefault(),t.openSearchModal(e.row)}}})],1)])],1),a("q-tr",{directives:[{name:"show",rawName:"v-show",value:e.expand,expression:"props.expand"}],attrs:{props:e}},[a("q-td",{staticClass:"p-0",attrs:{colspan:"100%"}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12 child-table"},[a("ToggleTable",{attrs:{update:t.updateToggleTable,trayId:t.activity.teacher.id,id:e.row.id}})],1)])])],1)]}}])}),a("br")],1),a("div",{staticClass:"col-md-12"},[a("div",{staticClass:"text-subtitle2 q-mb-sm"},[t._v("Note")]),a("q-input",{attrs:{type:"textarea",outlined:"",dense:""},model:{value:t.note,callback:function(e){t.note=e},expression:"note"}})],1)])])]),a("q-card-actions",{staticClass:"row justify-end"},[a("div",[a("q-btn",{attrs:{flat:"",label:"Cancel",color:"primary"},on:{click:t.closePopup}}),a("q-btn",{attrs:{loading:t.loading,flat:"",label:"done",color:"primary"},on:{click:t.addTrackingNote}})],1)])],1),t.activity.teacher?a("TrackingStatusModal",{attrs:{show:t.showTrackingStatusModal,data:t.selectedTrackingStatus,activityId:t.activity.teacher.id},on:{togglePopup:t.togglePopup,updateTrackingStatus:t.updateTrackingStatus}}):t._e(),t.data&&t.activity.teacher?a("SearchModal",{attrs:{categories:t.data,selectedDocumentType:t.selectedDocumentType,show:t.searchModal,id:t.activity.teacher.id},on:{toggleSearchPopup:t.toggleSearchPopup}}):t._e()],1)},C=[],I=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("q-table",{staticClass:"no-shadow overflow-auto my-sticky-column-table",attrs:{data:t.data,columns:t.columns,"hide-pagination":""},scopedSlots:t._u([{key:"body",fn:function(e){return[a("q-tr",{attrs:{props:e}},[a("q-td",{key:"title",attrs:{props:e}},[t._v("\n                    "+t._s(e.row.title)+"\n                ")]),a("q-td",{key:"category",attrs:{props:e}},[t._v("\n                    "+t._s(e.row.category)+"\n                ")]),a("q-td",{key:"dateUploaded",attrs:{props:e}},[t._v("\n                    "+t._s(e.row.dateUploaded)+"\n                ")]),a("q-td",{key:"uploadedBy",attrs:{props:e}},[t._v("\n                    "+t._s(e.row.uploadedBy)+"\n                ")]),a("q-td",{key:"size",attrs:{props:e}},[t._v("\n                    "+t._s(e.row.size)+"\n                ")]),a("q-td",{key:"note",attrs:{props:e}},[a("q-icon",{directives:[{name:"tooltip",rawName:"v-tooltip",value:{content:e.row.note,placement:"top-center",classes:["info"],targetClasses:["it-has-a-tooltip"],offset:19},expression:"{\n                            content: props.row.note,\n                            placement: 'top-center',\n                            classes: ['info'],\n                            targetClasses: ['it-has-a-tooltip'],\n                            offset: 19,\n                        }"}],staticClass:"cursor-pointer",staticStyle:{"font-size":"2em"},attrs:{name:"sticky_note_2",color:"orange"}})],1),a("q-td",{key:"action",attrs:{props:e}},[a("q-btn",{attrs:{icon:t.deleteIcon,color:"edx-delete-btn",size:"sm","no-caps":"",round:""},on:{click:function(a){return t.openDeleteModal(e.row.id)}}},[a("q-tooltip",{attrs:{"content-class":"edx-tooltip",anchor:"top middle",self:"bottom middle",offset:[10,10],"transition-show":"flip-right","transition-hide":"flip-left"}},[a("strong",[t._v("Delete")])])],1)],1)],1)]}}])}),a("div",{staticClass:"q-mt-md q-ml-md q-mb-lg"},[a("q-btn",{staticClass:"q-mr-sm",attrs:{icon:"add",size:"sm",color:"blue",round:""},on:{click:t.openUploadModal}}),t._v("\n        Add Document\n    ")],1),a("q-dialog",{attrs:{persistent:""},model:{value:t.confirm,callback:function(e){t.confirm=e},expression:"confirm"}},[a("q-card",[a("q-card-section",{staticClass:"row items-center"},[a("span",{staticClass:"q-ml-sm"},[t._v("Are you sure to delete this document?")])]),a("q-card-actions",{attrs:{align:"right"}},[a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"No, thanks",color:"primary"}}),a("q-btn",{attrs:{label:"Yes",loading:t.loading,color:"edx-delete-btn"},on:{click:t.deleteDocument}})],1)],1)],1),a("UploadDocumentModal",{attrs:{show:t.openUploadDocumentModal,trayId:t.trayId,id:t.id},on:{togglePopup:t.togglePopup,newDocument:t.newDocument}})],1)},T=[],x=a("2b0e"),D=a("e37d"),j=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("dialog-draggable",{attrs:{width:600,modelDialog:t.showPopup,title:"Upload Document",icon:"upload_file"}},[a("q-card-section",{staticClass:"scroll q-pt-none q-pb-none q-pr-none q-pl-none",staticStyle:{"max-height":"60vh"}},[a("div",{staticClass:"q-pa-md"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-4"},[a("div",{staticClass:"text-subtitle2 q-mb-sm"},[t._v("File Category")]),a("q-select",{attrs:{outlined:"",options:t.categories,dense:"",disabled:"",readonly:""},model:{value:t.selectedCategory,callback:function(e){t.selectedCategory=e},expression:"selectedCategory"}})],1),a("div",{staticClass:"col-md-8 q-pl-md"},[a("div",{staticClass:"text-subtitle2 q-mb-sm"},[t._v("Title")]),a("q-input",{attrs:{outlined:"",dense:""},model:{value:t.title,callback:function(e){t.title=e},expression:"title"}})],1),a("div",{staticClass:"col-md-12 q-mt-md"},[a("div",{staticClass:"text-subtitle2 q-mb-sm"},[t._v("Tags")]),a("q-select",{ref:"myChipInput",attrs:{outlined:"",dense:"",multiple:"","use-chips":"","use-input":"","new-value-mode":"add","stack-label":""},model:{value:t.modelMultiple,callback:function(e){t.modelMultiple=e},expression:"modelMultiple"}})],1),a("div",{staticClass:"col-md-12 q-mt-md"},[a("file-pond",{ref:"pond",attrs:{name:"document","label-idle":"Drop document here...","allow-multiple":!1,files:t.myFiles}})],1),a("div",{staticClass:"col-md-12 q-mt-md"},[a("div",{staticClass:"text-subtitle2 q-mb-sm"},[t._v("Note")]),a("q-input",{attrs:{dense:"",outlined:"",type:"textarea"},model:{value:t.note,callback:function(e){t.note=e},expression:"note"}})],1)])])]),a("q-card-actions",{staticClass:"row justify-end"},[a("div",[a("q-btn",{attrs:{flat:"",label:"Cancel",color:"primary"},on:{click:t.emitClosePopup}}),a("q-btn",{attrs:{flat:"",loading:t.loading,label:"Save",color:"primary"},on:{click:t.addDocument}})],1)])],1)},P=[],S=a("1501"),A=a.n(S),$=(a("57c8"),a("1942")),F=a.n($),H=a("2cfc8"),B=a.n(H),M=A()(F.a,B.a),E={components:{dialogDraggable:g["a"],FilePond:M},props:{show:{required:!0},trayId:{required:!0},id:{required:!0}},data:function(){return{loading:!1,selectedCategory:null,categories:[],title:"",myFiles:[],note:"",modelMultiple:[],inputValue:""}},methods:{emitClosePopup:function(){this.$emit("togglePopup",!1)},getCategories:function(){var t=this,e={method:"GET",url:d["a"].getDocumentCategory,headers:{Accept:"application/json"}};r()(e).then((function(e){for(var a=e.data.category,s=[],i=0;i<a.length;i++)s.push({id:a[i].id,label:a[i].name}),"Resume"==a[i].name&&(t.selectedCategory={id:a[i].id,label:a[i].name});t.categories=s}))},addDocument:function(){var t=this;this.loading=!0;var e=this.$refs.pond.getFiles(0),a=new FormData;a.append("name",this.title),a.append("description",this.note),a.append("category_id",this.selectedCategory.id),a.append("document",e[0].file),a.append("tags",this.modelMultiple),r.a.post("".concat(d["a"].addDocument).concat(this.trayId,"/").concat(this.id,"/teacher"),a).then((function(e){t.loading=!1,console.log("Add document: ",e.data);var a=e.data.file;t.$emit("newDocument",a),t.$emit("togglePopup",!1)})).catch((function(e){t.loading=!1}))}},computed:{showPopup:function(){return this.show}},watch:{show:function(t){this.$emit("togglePopup",t),this.getCategories()}}},W=E,N=(a("877d"),Object(q["a"])(W,j,P,!1,null,null,null)),z=N.exports;x["default"].use(D["a"]);var O,R={components:{UploadDocumentModal:z},props:{trayId:{required:!0},id:{required:!0},update:{required:!0}},data:function(){return{loading:!1,data:[],columns:[{name:"title",align:"left",label:"Title",field:"title"},{name:"category",align:"left",label:"Category",field:"category"},{name:"dateUploaded",align:"left",label:"Date Uploaded",field:"dateUploaded"},{name:"uploadedBy",align:"left",label:"Uploaded By",field:"uploadedBy"},{name:"size",align:"left",label:"Size",field:"size"},{name:"note",align:"left",label:"Note",field:"note"},{name:"action",align:"left",label:"Action",field:"action"}],confirm:!1,openUploadDocumentModal:!1,documentId:null}},methods:{openDeleteModal:function(t){this.confirm=!0,this.documentId=t},deleteDocument:function(){var t=this;this.loading=!0;var e={method:"DELETE",url:d["a"].deleteDocument+this.documentId,headers:{Accept:"application/json"}};r()(e).then((function(e){t.loading=!1,t.confirm=!1,t.getDocuments()})).catch((function(e){t.loading=!1,t.confirm=!1}))},openUploadModal:function(){this.openUploadDocumentModal=!0},togglePopup:function(t){this.openUploadDocumentModal=t},bytesToSize:function(t){var e=["Bytes","KB","MB","GB","TB"];if(0==t)return"0 Byte";var a=parseInt(Math.floor(Math.log(t)/Math.log(1024)));return Math.round(t/Math.pow(1024,a),2)+" "+e[a]},getDocuments:function(){var t=this,e={method:"GET",url:"".concat(d["a"].documentsByTray).concat(this.trayId,"/").concat(this.id,"/teacher"),headers:{Accept:"application/json"}};r()(e).then((function(e){for(var a=e.data.file,s=[],i=0;i<a.length;i++){var o;s.push({id:a[i].document.id,title:a[i].document.name,category:null===(o=a[i].document.document_category)||void 0===o?void 0:o.name,dateUploaded:a[i].uploaded_date,uploadedBy:a[i].document.uploaded_by,size:t.bytesToSize(a[i].document.size),note:a[i].document.description})}t.data=s}))},newDocument:function(t){this.getDocuments()}},created:function(){this.getDocuments()},computed:{deleteIcon:function(){return h["a"].delete}},watch:{update:function(t){t&&this.getDocuments()}}},G=R,U=(a("34c4"),Object(q["a"])(G,I,T,!1,null,null,null)),V=U.exports,Y=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("q-dialog",{model:{value:t.showPopup,callback:function(e){t.showPopup=e},expression:"showPopup"}},[a("q-card",[a("q-card-section",{staticClass:"scroll q-pt-none q-pb-none q-pr-none q-pl-none",staticStyle:{"max-width":"400px","max-height":"60vh"}},[a("div",{staticClass:"q-pa-md"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12 q-mb-md"},[t.data?a("div",{staticClass:"row justify-start "},[a("div",{staticClass:"icon-parent w-100"},[t.data.status?a("div",[a("q-icon",{class:1==t.data.status?"edx-blue":"edx-red",staticStyle:{"font-size":"4em"},attrs:{name:t.data.icon}})],1):t._e(),a("div",{staticClass:"text-center w-100"},[a("q-chip",{staticClass:"m-0 text-white",class:1===t.data.status?"edx-bg-blue":"edx-bg-red",attrs:{square:"",size:"sm"}},[a("b",[t._v(t._s(t.abbr))])])],1)]),a("div",{staticClass:"text-h6 q-ml-md"},[a("div",{staticClass:"q-mt-md"},[t._v(t._s(t.data.name))])])]):t._e()]),a("div",{staticClass:"col-md-12 q-mb-md"},[a("q-checkbox",{attrs:{label:"Complete"},model:{value:t.isComplete,callback:function(e){t.isComplete=e},expression:"isComplete"}})],1),a("div",{staticClass:"col-md-12"},[a("div",{staticClass:"text-subtitle2 q-mb-sm"},[t._v("Note")]),a("q-input",{attrs:{dense:"",outlined:"",type:"textarea"},model:{value:t.note,callback:function(e){t.note=e},expression:"note"}})],1)])])]),a("q-card-actions",{staticClass:"row justify-end"},[a("div",[a("q-btn",{attrs:{flat:"",label:"Cancel",color:"primary"},on:{click:t.emitClosePopup}}),a("q-btn",{attrs:{flat:"",label:"Save",loading:t.loading,color:"primary"},on:{click:t.addTrackingStatus}})],1)])],1)],1)],1)},L=[],K={components:{dialogDraggable:g["a"]},data:function(){return{loading:!1,isComplete:null,note:""}},props:{show:{required:!0},data:{required:!0},activityId:{required:!0}},methods:{emitClosePopup:function(){this.$emit("togglePopup",!1)},addTrackingStatus:function(){var t=this;this.loading=!0;var e={method:"POST",url:d["a"].addTrackingStatus+this.activityId,headers:{Accept:"application/json"},data:{id:this.data.id,note:this.note,status:this.isComplete}};r()(e).then((function(e){t.loading=!1,t.$emit("updateTrackingStatus",e.data),t.emitClosePopup()})).catch((function(e){t.loading=!1}))}},computed:{showPopup:function(){return this.show},abbr:function(){return this.data.abbreviation}},watch:{show:function(t){this.$emit("togglePopup",t),t&&(this.isComplete=1===this.data.status,this.note=this.data.note)}}},J=K,Q=(a("5626"),Object(q["a"])(J,Y,L,!1,null,"600718b7",null)),X=Q.exports,Z=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("dialog-draggable",{attrs:{width:600,modelDialog:t.showPopup,title:"Search Documents",icon:"search"}},[a("q-card-section",{staticClass:"scroll q-pt-none q-pb-none q-pr-none q-pl-none",staticStyle:{"max-height":"60vh"}},[a("div",{staticClass:"q-pa-md"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-4"},[a("div",{staticClass:"text-subtitle2 q-mb-sm"},[t._v("Document Trays")]),a("div",{staticClass:"q-mb-md q-pr-sm"},[a("q-select",{attrs:{outlined:"",disabled:"",readonly:"",options:t.categories,dense:""},model:{value:t.selectedStatus,callback:function(e){t.selectedStatus=e},expression:"selectedStatus"}})],1)]),a("div",{staticClass:"col-md-8"},[a("div",{staticClass:"text-subtitle2 q-mb-sm"},[t._v("Search for..")]),a("div",{staticClass:"q-mb-md"},[a("q-select",{attrs:{outlined:"",dense:"",multiple:"","use-chips":"","use-input":"","stack-label":"",options:t.options},on:{filter:t.filterFn},model:{value:t.modelMultiple,callback:function(e){t.modelMultiple=e},expression:"modelMultiple"}})],1)]),a("div",{staticClass:"col-md-12"},[a("q-table",{staticClass:"overflow-auto",attrs:{data:t.data,columns:t.columns,loading:t.tableLoading,"hide-bottom":""},scopedSlots:t._u([{key:"body",fn:function(e){return[a("q-tr",{staticClass:"cursor-pointer",attrs:{props:e},on:{click:function(a){return t.openDocumentViewerPopup(e.row.path)}}},[a("q-td",{key:"title",attrs:{props:e}},[a("div",[t._v("\n                                            "+t._s(e.row.title)+"\n                                        ")])]),a("q-td",{key:"date",attrs:{props:e}},[a("div",[t._v("\n                                           "+t._s(e.row.date)+"\n                                        ")])]),a("q-td",{key:"uploadedBy",attrs:{props:e}},[a("div",[t._v("\n                                           "+t._s(e.row.uploadedBy)+"\n                                        ")])]),a("q-td",{key:"size",attrs:{props:e}},[a("div",[t._v("\n                                            "+t._s(e.row.size)+"\n                                        ")])]),a("q-td",{key:"note",attrs:{props:e}},[a("div",[a("q-icon",{staticClass:"cursor-pointer",staticStyle:{"font-size":"2em"},attrs:{name:"sticky_note_2",color:"orange"}})],1)]),a("q-td",{key:"selected",attrs:{props:e}},[a("div",[a("q-checkbox",{attrs:{dense:""},model:{value:e.row.selected,callback:function(a){t.$set(e.row,"selected",a)},expression:"props.row.selected"}})],1)])],1)]}}])})],1)])])]),a("q-card-actions",{staticClass:"row justify-end"},[a("div",[a("q-btn",{attrs:{flat:"",label:"Cancel",color:"primary"},on:{click:t.emitClosePopup}}),a("q-btn",{attrs:{flat:"",label:"Add",loading:t.loading,color:"primary"},on:{click:t.add}})],1)])],1),a("DocumentViewer",{attrs:{show:t.showDocumentViewerPopup,type:t.type,value:t.value},on:{togglePopup:t.togglePopup}})],1)},tt=[],et=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("dialog-draggable",{attrs:{width:800,modelDialog:t.showPopup,title:"View Document",icon:"description"}},[a("q-card-section",{staticClass:"scroll q-pt-none q-pb-none q-pr-none q-pl-none",staticStyle:{"max-height":"85vh",height:"85vh"}},[a("div",[a("VueDocPreview",{attrs:{value:t.value,type:t.type}})],1)]),a("q-card-actions",{staticClass:"row justify-end"},[a("div",[a("q-btn",{attrs:{flat:"",label:"Cancel",color:"primary"},on:{click:t.closePopup}})],1)])],1)],1)},at=[],st=a("e8c3"),it=a.n(st),ot={props:{show:{required:!0},type:{required:!0},value:{required:!0}},data:function(){return{}},components:{dialogDraggable:g["a"],VueDocPreview:it.a},methods:{closePopup:function(){this.$emit("togglePopup",!1)}},computed:{showPopup:function(){return this.show}},watch:{show:function(t){this.$emit("togglePopup",t),t&&(console.log("if val",this.val),console.log("if val",this.type))}}},nt=ot,lt=Object(q["a"])(nt,et,at,!1,null,null,null),rt=lt.exports,dt={components:{dialogDraggable:g["a"],DocumentViewer:rt},data:function(){return{loading:!1,tableLoading:!1,data:[],columns:[{name:"title",align:"left",label:"Title",field:"title",sortable:!1},{name:"date",align:"left",label:"Date",field:"date",sortable:!1},{name:"uploadedBy",align:"left",label:"Uploaded By",field:"uploadedBy",sortable:!1},{name:"size",align:"left",label:"Size",field:"size",sortable:!1},{name:"note",align:"left",label:"Note",field:"note",sortable:!1},{name:"selected",align:"left",label:"",field:"selected",sortable:!1}],selectedStatus:"",modelMultiple:[],options:[],showDocumentViewerPopup:!1,value:null,type:null}},props:{show:{required:!0},categories:{required:!0},selectedDocumentType:{required:!0},id:{required:!0}},methods:{add:function(){var t=this;this.loading=!0;var e=[];if(this.data.length)for(var a=0;a<this.data.length;a++)this.data[a].selected&&e.push(this.data[a].id);var s={method:"POST",url:"".concat(d["a"].addDocumentToExistingItem).concat(this.id,"/").concat(this.selectedStatus.id,"/teacher"),headers:{Accept:"application/json"},data:{documentids:e}};r()(s).then((function(e){t.emitClosePopup()})).catch((function(e){t.emitClosePopup()})),this.loading=!1},emitClosePopup:function(){this.$emit("toggleSearchPopup",!1)},bytesToSize:function(t){var e=["Bytes","KB","MB","GB","TB"];if(0==t)return"0 Byte";var a=parseInt(Math.floor(Math.log(t)/Math.log(1024)));return Math.round(t/Math.pow(1024,a),2)+" "+e[a]},documentType:function(t){return/[.]/.exec(t)?/[^.]+$/.exec(t):void 0},documentByTagId:function(t){var e=this,a={method:"GET",url:d["a"].documentByTagId+t,headers:{Accept:"application/json"}},s=[];r()(a).then((function(t){console.log("RES DATAAAA",t.data);for(var a=t.data.document,i=0;i<a.length;i++)for(var o=0;o<a[i].length;o++)s.push({id:a[i][o].document.id,path:a[i][o].document.location,title:a[i][o].document.name,date:a[i][o].document.uploaded_date.substring(0,10),uploadedBy:a[i][o].document.uploaded_by,size:e.bytesToSize(a[i][o].document.size),note:a[i][o].document.description,selected:!1});e.data=s}))},filterFn:function(t,e,a){var s=this;e((function(){if(t){var e=t.toLowerCase(),a=[],i={method:"GET",url:d["a"].searchTag+e,headers:{Accept:"application/json"}};r()(i).then((function(t){for(var e=0;e<t.data.tags.length;e++)a.push({id:t.data.tags[e].id,label:t.data.tags[e].name});s.options=a}))}}))},openDocumentViewerPopup:function(t){var e=this.documentType(t);"docx"==e||"xlsx"==e||"pptx"==e?(this.value=t,this.type="office",this.showDocumentViewerPopup=!0):window.open(t,"_blank")},togglePopup:function(t){this.showDocumentViewerPopup=t}},computed:{showPopup:function(){return this.show}},watch:{show:function(t){this.$emit("toggleSearchPopup",t),t&&(this.data=[],this.modelMultiple=[],console.log("gagagagag",this.selectedDocumentType),this.selectedStatus=this.selectedDocumentType)},modelMultiple:function(t){for(var e="",a=t.length,s=0;s<t.length;s++)e+=s==a-1?t[s].id:t[s].id+",";this.documentByTagId(e)}}},ct=dt,ut=(a("c807"),Object(q["a"])(ct,Z,tt,!1,null,"47ee6e84",null)),pt=ut.exports,mt={props:{show:{required:!0},activity:{required:!0},isEdit:{required:!0},categoryId:{required:!0}},data:function(){return{loading:!1,data:[],columns:[{name:"name",align:"left",label:"Manage Documents",field:"name",style:"padding-left: 0;"}],trackingStatuses:[],showTrackingStatusModal:!1,selectedTrackingStatus:null,note:"",updateToggleTable:!1,searchModal:!1,selectedDocumentType:null}},components:{dialogDraggable:g["a"],ToggleTable:V,TrackingStatusModal:X,SearchModal:pt},methods:{openSearchModal:function(t){console.log(t,"props row"),this.selectedDocumentType=t,this.searchModal=!0},toggleSearchPopup:function(t){t||(this.updateToggleTable=!0),this.searchModal=t},closePopup:function(){this.$emit("togglePopup",!1)},togglePopup:function(t){this.showTrackingStatusModal=t},getDocumentTrays:function(){var t=this,e={method:"GET",url:d["a"].getDocumentTrays,headers:{Accept:"application/json"}};r()(e).then((function(e){console.log("getDocumentTrays",e.data);for(var a=e.data.tray,s=[],i=0;i<a.length;i++)s.push({id:a[i].id,name:a[i].name,label:a[i].name});t.data=s}))},sendTrackingStatusToPopup:function(t){this.selectedTrackingStatus=t},updateTrackingStatus:function(t){this.getTrackingStatus()},addTrackingNote:function(){var t=this;this.loading=!0;var e={method:"POST",url:"".concat(d["a"].addTrackingNote).concat(this.activity.id),headers:{Accept:"application/json"},data:{note:this.note}};r()(e).then((function(e){t.closePopup(),t.loading=!1})).catch((function(e){t.loading=!1}))}},computed:{showPopup:function(){return this.show}},watch:{show:function(t){this.$emit("togglePopup",t),t&&(this.note=this.activity.note,this.getDocumentTrays())}}},ht=mt,gt=(a("dca8"),Object(q["a"])(ht,w,C,!1,null,null,null)),ft=gt.exports,bt=(a("b178"),a("8cf2"),{name:"TeacherPopup",components:{DialogDraggable:g["a"],PaySchedule:k,DocumentsPopup:ft},props:{show:{required:!0},id:{required:!0},title:{required:!0},isEdit:{required:!0},isDuplicate:{required:!0}},data:function(){return{showDocumentPopup:!1,test:null,testDay:null,showPaySchedule:!1,btnLoading:!1,teacherSubColumns:[{name:"hourlyFringe",align:"left",label:"Hourly Fringe",field:"hourlyFringe"},{name:"chargeRate",align:"left",label:"Charge Rate",field:"chargeRate"},{name:"workDays",align:"left",label:"Work Days",field:"workDays"},{name:"workHours",align:"left",label:"Work Hours",field:"workHours"},{name:"billingCycles",align:"left",label:"Billing Cycles",field:"billingCycles"},{name:"assignmentTotal",align:"left",label:"Assignment Total",field:"assignmentTotal"},{name:"hourlyOverride",align:"right",label:"Hourly Override",field:"hourlyOverride"}],monthlyDetails:[{hourlyFringe:0,chargeRate:0,workDays:0,workHours:0,billingCycles:0,assignmentTotal:0,isHourlyOverride:!1,hourlyOverride:0}],editedItem:{assignmentStatus:{id:1,label:"Canceled"},isHoursWeek:{id:1,label:"Hours/Week"}},optionsTeachers:[],optionsTeachersForFilter:[],optionsCategoryTracking:[],optionsCampus:[],optionsSubcategory:[],typeArr:[],optionsRoleTypes:[],optionsEmployementTypes:[],optionsStatus:[],optionsBilling:[],optionsFringe:[],hoursOption:[{id:0,label:"Hours/Day"},{id:1,label:"Hours/Week"}],scheduleWeekDays:[],workDays:0,workHours:0,totalH:0,bRate:0,hFringe:0,billingCycles:0,chRate:0}},methods:{togglePopup:function(t){this.showDocumentPopup=t},openDocumentsModal:function(){console.log(this.editedItem,"pppppppp"),this.showDocumentPopup=!0},getEmployeeInfo:function(){var t=this.editedItem.teacher.id?this.editedItem.teacher.id:0;this.getTeacherBudgetById(t)},paySchedule:function(){this.showPaySchedule=!0},closePaySchedulePopup:function(){this.showPaySchedule=!1},hidePopup:function(){this.$emit("hidePopup",!0)},getTeacherBudgetById:function(t){var e=this,a={method:"GET",url:d["a"].getTeacherBudgetById+t,headers:{Accept:"application/json"}};r()(a).then((function(t){var a,s,i,o,n,l,r,d,c,u,p,h,g,f,b,v,y,q,_,k,w,C,I,T,x,D,j,P,S,A=t.data.teachersCompensation[0];e.editedItem=(_={teacherId:A.teacher_id,teacher:{id:A.teacher.id,label:A.teacher.first_name+" "+A.teacher.last_name},role:{id:A.teacher.assignment_compensation&&A.teacher.assignment_compensation.role_type?A.teacher.assignment_compensation.role_type.id:null,label:A.teacher.assignment_compensation&&A.teacher.assignment_compensation.role_type?A.teacher.assignment_compensation.role_type.name:"N/A"},campus:{id:A.teacher.assignment_compensation&&A.teacher.assignment_compensation.campus?A.teacher.assignment_compensation.campus.id:null,label:A.teacher.assignment_compensation&&A.teacher.assignment_compensation.campus?A.teacher.assignment_compensation.campus.name:"N/A"},assignmentType:{id:null===(a=A.compensation_type)||void 0===a?void 0:a.id,label:null===(s=A.compensation_type)||void 0===s?void 0:s.name},category:{id:A.teacher.assignment_compensation&&A.teacher.assignment_compensation.category?A.teacher.assignment_compensation.category.id:0,label:A.teacher.assignment_compensation&&A.teacher.assignment_compensation.category?A.teacher.assignment_compensation.category.name:"",name:A.teacher.assignment_compensation&&A.teacher.assignment_compensation.category?A.teacher.assignment_compensation.category.abbreviation:""},subcategory:{id:A.teacher.assignment_compensation&&A.teacher.assignment_compensation.sub_category?A.teacher.assignment_compensation.sub_category.id:null,label:A.teacher.assignment_compensation&&A.teacher.assignment_compensation.sub_category?A.teacher.assignment_compensation.sub_category.name:"N/A",name:A.teacher.assignment_compensation&&A.teacher.assignment_compensation.sub_category?A.teacher.assignment_compensation.sub_category.abbreviation:"N/A"},trackingCategory:{id:A.teacher.assignment_compensation&&A.teacher.assignment_compensation.category_tracking?A.teacher.assignment_compensation.category_tracking.id:null,label:A.teacher.assignment_compensation&&A.teacher.assignment_compensation.category_tracking?A.teacher.assignment_compensation.category_tracking.name:"N/A"},employement:A.teacher.teacher_type&&A.teacher.teacher_type.name,compensation:A.teacher.teacher_type&&A.compensation_type,payFrequesncy:A.pay_frequency,pay:A.payInfo,workMonth:A.work_month,benefits:"1"==A.has_benefits?"Y":"N",startDate:null===(i=A.teacher.assignment_compensation)||void 0===i?void 0:i.start_date.replaceAll("-","/"),endDate:null===(o=A.teacher.assignment_compensation)||void 0===o?void 0:o.end_date.replaceAll("-","/"),isHoursWeek:{id:1,label:"Hours/Week"},hoursWM:0,frienge:{id:null!==(n=A.teacher.assignment_compensation)&&void 0!==n&&n.fringe_type?A.teacher.assignment_compensation.fringe_type.id:null,label:null!==(l=A.teacher.assignment_compensation)&&void 0!==l&&l.fringe_type?A.teacher.assignment_compensation.fringe_type.name:"N/A"},hourlyFrienge:100,totalAmount:parseFloat(null===(r=A.teacher)||void 0===r||null===(d=r.assignment_compensation)||void 0===d?void 0:d.total_fringe),assignmentStatus:{id:A.teacher.assignment_compensation?A.teacher.assignment_compensation.status.id:1,label:A.teacher.assignment_compensation?A.teacher.assignment_compensation.status.name:"Canceled"}},m()(_,"assignmentType",{id:null===(c=A.teacher)||void 0===c||null===(u=c.assignment_compensation)||void 0===u||null===(p=u.status)||void 0===p?void 0:p.id,label:null===(h=A.teacher)||void 0===h||null===(g=h.assignment_compensation)||void 0===g||null===(f=g.status)||void 0===f?void 0:f.name}),m()(_,"note",null===(b=A.teacher.assignment_compensation)||void 0===b?void 0:b.note),m()(_,"salary_pay",A.salary_pay),m()(_,"adminMarkupFee",null===(v=t.data)||void 0===v?void 0:v.admin_markup_fee),m()(_,"allocationPercentage",parseFloat(null===A||void 0===A||null===(y=A.teacher.assignment_compensation)||void 0===y?void 0:y.allocation_percentage)),m()(_,"markupFee",null===(q=t.data)||void 0===q?void 0:q.markup_fee),m()(_,"fullTime",!1),_),e.monthlyDetails[0].isHourlyOverride=0!=parseInt(null===A||void 0===A||null===(k=A.teacher)||void 0===k||null===(w=k.assignment_compensation)||void 0===w?void 0:w.is_override),e.monthlyDetails[0].hourlyOverride=null===A||void 0===A||null===(C=A.teacher)||void 0===C||null===(I=C.assignment_compensation)||void 0===I?void 0:I.hourly_charge_override,parseInt(null===A||void 0===A||null===(T=A.teacher)||void 0===T||null===(x=T.assignment_compensation)||void 0===x||null===(D=x.work_week)||void 0===D?void 0:D.is_full_time)?e.editedItem.fullTime=!0:e.editedItem.fullTime=!1,e.scheduleWeekDays=JSON.parse(null===A||void 0===A||null===(j=A.teacher)||void 0===j||null===(P=j.assignment_compensation)||void 0===P||null===(S=P.work_week)||void 0===S?void 0:S.week_day_hour),parseInt(A.teacher.assignment_compensation.work_week.schedule)?e.editedItem.isHoursWeek={id:1,label:"Hours/Week"}:(e.editedItem.isHoursWeek={id:0,label:"Hours/Day"},e.editedItem.hoursWM=parseInt(A.teacher.assignment_compensation.work_week.total_hours))}))},getEmployees:function(){var t=this,e={method:"GET",url:d["a"].getTeachersData+"?pagination=0",headers:{Accept:"application/json"}};r()(e).then((function(e){var a=e.data.teachers,s=[];if(a.length)for(var i=0;i<a.length;i++)s.push({id:a[i].teacherId,value:a[i].teacherId,label:a[i].teacherName});t.optionsTeachers=s,t.optionsTeachersForFilter=s}))},getCampueses:function(){var t=this,e={method:"GET",url:d["a"].fringeTypes,headers:{Accept:"application/json"}};r()(e).then((function(e){console.log("fringe 99999",e);var a=e.data.fringType,s=[];if(a.length)for(var i=0;i<a.length;i++)s.push({id:a[i].id,label:a[i].name});t.optionsFringe=s}))},getFringeTypes:function(){var t=this,e={method:"GET",url:d["a"].getCampuses+this.$route.params.id,headers:{Accept:"application/json"}};r()(e).then((function(e){console.log("get campuses",e.data[0].campus);var a=e.data[0].campus,s=[{id:null,label:"N/A"}];if(a.length)for(var i=0;i<a.length;i++)s.push({id:a[i].id,label:a[i].name});t.optionsCampus=s}))},getCategoryTypes:function(t){var e=this,a={method:"GET",url:d["a"].getCategoryTypes+t+"/6",headers:{Accept:"application/json"}};r()(a).then((function(t){var a=t.data.typesCategories,s=[];if(a.length)for(var i=0;i<a.length;i++)s.push({id:a[i].id,label:a[i].name});e.typeArr=s}))},getSubcategories:function(t){var e=this,a={method:"GET",url:d["a"].getSubcategories+t,headers:{Accept:"application/json"}};r()(a).then((function(t){console.log("res subcategories",t);var a=[],s=t.data.typesCategories;if(s.length)for(var i=0;i<s.length;i++){var o={id:s[i].id,name:s[i].abbreviation,label:s[i].name};a.push(o)}e.optionsSubcategory=a}))},getTrackingCategories:function(t,e){var a=this;console.log("TRACKING CATEGORY");var s={method:"GET",url:d["a"].getTrackingCategories+t+"/"+e,headers:{Accept:"application/json"}};r()(s).then((function(t){var e=t.data.categoryTracking,s=[];if(s.push({id:null,label:"N/A"}),e.length)for(var i=0;i<e.length;i++)s.push({id:e[i].id,label:e[i].name});a.optionsCategoryTracking=s,console.log("TRACKING CATEGORY",a.optionsCategoryTracking)}))},getRoletypes:function(){var t=this,e={method:"GET",url:d["a"].getRoleTypes,headers:{Accept:"application/json"}};r()(e).then((function(e){var a=e.data.teacherRoleTypes,s=[];if(a.length)for(var i=0;i<a.length;i++)s.push({id:a[i].id,label:a[i].name});t.optionsRoleTypes=s}))},getEmployementTypes:function(){var t=this,e={method:"GET",url:d["a"].getEmployementTypes,headers:{Accept:"application/json"}};r()(e).then((function(e){var a=e.data.teacherEmpTypes,s=[];if(a.length)for(var i=0;i<a.length;i++)s.push({id:a[i].id,label:a[i].name});t.optionsEmployementTypes=s,console.log("optionsEmployementTypes",e)}))},getStatus:function(t){var e=this,a={method:"GET",url:d["a"].getActivityStatus+t,headers:{Accept:"application/json"}};r()(a).then((function(t){console.log("get status",t.data);var a=t.data.billingStatus,s=[];if(a.length)for(var i=0;i<a.length;i++)s.push({id:a[i].id,label:a[i].name});e.optionsBilling=s;var o=t.data.itemStatus,n=[];if(o.length)for(var l=0;l<o.length;l++)n.push({id:o[l].id,label:o[l].name});e.optionsStatus=n}))},filterTeachers:function(t,e,a){var s=this;e((function(){var e=t.toLowerCase();s.optionsTeachers=s.optionsTeachersForFilter.filter((function(t){return t.label.toLowerCase().indexOf(e)>-1}))}))},monthDiff:function(t,e){var a=t.split("/"),s=e.split("/");if(parseInt(a[0])==parseInt(s[0])){var i=parseInt(s[1])-parseInt(a[1])+1;isNaN(i)&&(i=0),this.billingCycles=i}else{var o=parseInt(s[0])-parseInt(a[0]);if(o>=2)this.editedItem.endDate=this.editedItem.startDate,alert("You can choose maximum 1 year.");else{var n=parseInt(s[1])-parseInt(a[1])+13;isNaN(n)&&(n=0),console.log("count end = ",n),this.billingCycles=n}}},dateRange:function(t,e){if(t&&e){for(var a=t.split("/"),s=e.split("/"),i=parseInt(a[0]),o=parseInt(s[0]),n=[],l=i;l<=o;l++)for(var r=l!=o?11:parseInt(s[1])-1,d=l===i?parseInt(a[1])-1:0,c=void 0,u=d;u<=r;u=u>12?u%12||11:u+1){c=u+1;var p=u+1,m=p<10?"0"+p:p;c=parseInt(a[1])==c&&l==parseInt(a[0])?parseInt(a[2])<10?"0"+parseInt(a[2]):parseInt(a[2]):"01";var h=void 0;h=u+1==parseInt(s[1])&&l==parseInt(s[0])?parseInt(s[1])==this.daysInMonth(m,l)?this.daysInMonth(m,l):s[2]:this.daysInMonth(m,l),n.push([l,m,c].join("/")+"-"+[l,m,h].join("/"))}return n}},daysInMonth:function(t,e){return new Date(e,t,0).getDate()},getPayScheduleInfo:function(){var t=[],e=[],a=this.dateRange(this.editedItem.startDate&&this.editedItem.startDate.substring(0,10),this.editedItem.endDate&&this.editedItem.endDate.substring(0,10)),s=this.scheduleWeekDays;if(a.length)for(var i=0;i<a.length;i++){for(var o=a[i].split("-"),n=o[0].split("/"),l=o[1].split("/"),r=n[1],d=parseInt(n[2]),c=parseInt(l[2]),u=0,p=0,m=d;m<=c;m++)for(var h=n[0]+"/"+r+"/"+m,g=new Date(h).getDay(),f=0;f<=s.length;f++)if(s[f]&&s[f].checked&&s[f].id==g){u+=parseFloat(s[f].hours),p++;break}t.push({time:u}),e.push(p),this.test=t,this.testDay=e}},calculateBusinessDays:function(){var t=this.editedItem.startDate?this.editedItem.startDate.substring(0,10):"2021/01/01",e=this.editedItem.endDate?this.editedItem.endDate.substring(0,10):"2021/01/01";this.getPayScheduleInfo();for(var a=0,s=0;s<this.test.length;s++)a+=this.test[s].time;for(var i=0,o=0;o<this.testDay.length;o++)i+=this.testDay[o];this.monthDiff(t,e),this.editedItem.isHoursWeek&&this.editedItem.isHoursWeek.id,this.workHours=a,this.workDays=i},addTeacher:function(){var t,e=this,a=(t={teacher_role_type_id:this.editedItem.role.id,campus_id:this.editedItem.campus.id,subcategory_id:this.editedItem.subcategory.id,category_id:3,category_tracking_id:this.editedItem.trackingCategory.id,start_date:this.editedItem.startDate,end_date:this.editedItem.endDate,hourly_base_rate:this.baseRate,total_charge:this.baseRate,fringe_type_id:this.editedItem.frienge.id,total_fringe:this.editedItem.totalAmount,status_id:this.editedItem.assignmentStatus.id,work_hours:this.workHours,is_override:this.monthlyDetails[0].isHourlyOverride,hourly_charge_override:this.monthlyDetails[0].hourlyOverride,note:this.editedItem.note,teacher_id:this.editedItem.teacher.id,hours_week_schedule_type:this.editedItem.isHoursWeek.id,week_total_hours:1==this.editedItem.isHoursWeek.id?this.totalHours:this.editedItem.hoursWM,week_day_hour:this.scheduleWeekDays,is_full_time:this.editedItem.fullTime},m()(t,"total_fringe",this.editedItem.totalAmount),m()(t,"fringe_type_id",this.editedItem.frienge.id),m()(t,"hourly_fringe",this.calculateHouryFringe),t);1==this.editedItem.isHoursWeek.id?a.work_hours_per_week=this.totalHours:a.work_hours_per_day=this.editedItem.hoursWM;var s={method:"POST",url:d["a"].addTeacherAssignment+6+"/"+this.title+"/"+this.$route.params.id,headers:{Accept:"application/json"},data:a};r()(s).then((function(t){var a=t.data.items[0];e.$emit("addTeacherToTable",a),e.$q.notify({message:"Teacher Added!",type:"positive"}),e.hidePopup()}))},editTeacher:function(){var t,e=this,a=(t={teacher_role_type_id:this.editedItem.role.id,campus_id:this.editedItem.campus.id,subcategory_id:this.editedItem.subcategory.id,category_tracking_id:this.editedItem.trackingCategory.id,start_date:this.editedItem.startDate,end_date:this.editedItem.endDate,hourly_base_rate:this.baseRate,total_charge:this.baseRate,fringe_type_id:this.editedItem.frienge.id,total_fringe:this.editedItem.totalAmount,status_id:this.editedItem.assignmentStatus.id,work_hours:this.workHours,is_override:this.monthlyDetails[0].isHourlyOverride,hourly_charge_override:this.monthlyDetails[0].hourlyOverride,note:this.editedItem.note,hours_week_schedule_type:this.editedItem.isHoursWeek.id,week_total_hours:1==this.editedItem.isHoursWeek.id?this.totalHours:this.editedItem.hoursWM,week_day_hour:this.scheduleWeekDays,is_full_time:this.editedItem.fullTime},m()(t,"total_fringe",this.editedItem.totalAmount),m()(t,"fringe_type_id",this.editedItem.frienge.id),m()(t,"hourly_fringe",this.calculateHouryFringe),t);1==this.editedItem.isHoursWeek.id?a.work_hours_per_week=this.totalHours:a.work_hours_per_day=this.editedItem.hoursWM;var s={method:"PUT",url:d["a"].editTeacherAssignment+this.title+"/"+this.editedItem.teacherId+"/"+this.$route.params.id,headers:{Accept:"application/json"},data:a};r()(s).then((function(t){console.log(t.data,"edit teacher -------"),e.getTeacherBudgetById(e.id),e.$q.notify({message:"Teacher edited!",type:"positive"}),e.hidePopup()}))},duplicateTeacher:function(){alert("duplicate")},fullTimeInput:function(){this.editedItem.fullTime?this.scheduleWeekDays=[{id:1,name:"M",hours:8,checked:!0},{id:2,name:"T",hours:8,checked:!0},{id:3,name:"W",hours:8,checked:!0},{id:4,name:"T",hours:8,checked:!0},{id:5,name:"F",hours:8,checked:!0},{id:6,name:"S",hours:null,checked:!1},{id:7,name:"S",hours:null,checked:!1}]:this.scheduleWeekDays=[{id:1,name:"M",hours:null,checked:!1},{id:2,name:"T",hours:null,checked:!1},{id:3,name:"W",hours:null,checked:!1},{id:4,name:"T",hours:null,checked:!1},{id:5,name:"F",hours:null,checked:!1},{id:6,name:"S",hours:null,checked:!1},{id:7,name:"S",hours:null,checked:!1}]}},watch:{show:function(t){t&&this.isEdit&&this.getTeacherBudgetById(this.id)},"editedItem.startDate":function(){this.calculateBusinessDays()},"editedItem.endDate":function(){this.calculateBusinessDays()},totalH:function(){this.calculateBusinessDays()}},created:function(){this.getEmployees(),this.getCampueses(),this.getCategoryTypes(this.title),this.getSubcategories(3),this.getTrackingCategories(this.tab,6),this.getRoletypes(),this.getEmployementTypes(),this.getStatus(this.title),this.getFringeTypes()},computed:{showPopup:function(){return this.show},totalHours:function(){for(var t=this.scheduleWeekDays,e=0,a=0;a<t.length;a++)null!=t[a].hours&&""!=t[a].hours&&(e+=parseFloat(t[a].hours));return this.totalH=e,e},calculateHouryFringe:function(){var t=this.editedItem.frienge,e=0;return this.editedItem.isHoursWeek&&1==this.editedItem.isHoursWeek.id?t&&(e=1==t.id?this.editedItem.totalAmount:2==t.id?this.editedItem.fullTime?this.editedItem.totalAmount/40:this.editedItem.totalAmount/this.totalH:3==t.id||4==t.id?this.editedItem.fullTime?this.editedItem.totalAmount/80:this.editedItem.totalAmount/(2*this.totalH):this.editedItem.fullTime?this.editedItem.totalAmount/160:this.editedItem.totalAmount/(4*this.totalH)):t&&(e=1==t.id?this.editedItem.totalAmount:2==t.id?this.editedItem.totalAmount/40:3==t.id||4==t.id?this.editedItem.totalAmount/80:this.editedItem.totalAmount/160),isNaN(e)&&(e=0),console.log("calculateHouryFringe",e),this.hFringe=e,e.toFixed(2)},baseRate:function(){var t=0;return this.editedItem.compensation&&2==this.editedItem.compensation.id?t=this.editedItem.pay:this.editedItem.payFrequesncy&&(t=1==this.editedItem.payFrequesncy.id?this.editedItem.pay/40:2==this.editedItem.payFrequesncy.id||3==this.editedItem.payFrequesncy.id?this.editedItem.pay/80:this.editedItem.pay/160),isNaN(t)&&(t=0),console.log("Base rate = ",t),this.bRate=t,t.toFixed(2)},chargeRate:function(){var t=1+this.editedItem.markupFee/100,e=1+this.editedItem.adminMarkupFee/100,a=(this.bRate*t+this.hFringe)*e;return isNaN(a)&&(a=0),this.chRate=a.toFixed(2),a.toFixed(2)},assTotal:function(){if(this.monthlyDetails[0].isHourlyOverride){var t=this.monthlyDetails[0].hourlyOverride*this.workHours;return isNaN(t)&&(t=0),t.toFixed(2)}var e=parseFloat(this.chRate)*this.workHours;return isNaN(e)&&(e=0),e.toFixed(2)},activityStatusIcon:function(){var t=this.editedItem.assignmentStatus.id,e=null;switch(t){case 1:e=h["a"].canceled;break;case 2:e=h["a"].budgeted;break;case 3:e=h["a"].gatheringDocuments;break;case 4:e=h["a"].eeadyForBilling;break;case null:e=h["a"].noAnswer;break}return e},activityStatusIconColor:function(){var t=this.editedItem.assignmentStatus.id,e=null;switch(t){case 1:e="edx-icon-canceled";break;case 2:e="edx-icon-budgeted";break;case 3:e="edx-icon-gathering-documents";break;case 4:e="edx-icon-ready-for-billing";break;case null:e="edx-icon-no-answer";break}return e}}}),vt=bt,yt=(a("4ac5"),Object(q["a"])(vt,c,u,!1,null,"15044eac",null)),qt=yt.exports,_t=500,kt={props:{title:{requred:!0}},components:{TeacherPopup:qt,dialogDraggable:g["a"],DialogDraggable:g["a"]},data:function(){return{loading:!1,isRemainingPopupOpen:!1,data:[],columns:[{name:"provider",align:"left",label:"Provider",field:"provider",sortable:!0},{name:"status",align:"left",label:"Status",field:"status",sortable:!0},{name:"teacherName",align:"left",label:"Teacher Name",sortable:!1,field:"teacherName",style:"width: 300px; min-width: 300px; max-width: 300px"},{name:"dateOfActivity",align:"left",label:"Date Of Activity",field:"dateOfActivity",sortable:!0,style:"max-width: 300px",headerStyle:"max-width: 500px"},{name:"cost",align:"left",label:"Cost",field:"cost"},{name:"type",align:"left",label:"Type",field:"type"},{name:"grossPD",align:"left",label:"Charge",field:"grossPD"},{name:"actions",align:"right",label:"Actions",field:"actions"}],mode:"list",tab:"1",pages:1,current:1,count:10,pagination:{rowsPerPage:10},rowsPerPageArr:["5","10","25","50","75","100"],id:null,showTeacherModal:!1,isEdit:!0,isDuplicate:!1,showRemainingBalance:!1,filter:"",schoolYear:null,schoolYears:[],confirm:!1,editedItem:{},tdata:[],tcolumns:[{name:"transaction",align:"left",label:"Transaction",field:"transaction",sortable:!0},{name:"date",align:"left",label:"Date",field:"date",sortable:!0},{name:"type",align:"left",label:"Type",field:"type",sortable:!0},{name:"amount",align:"left",label:"Amount",field:"amount",sortable:!0},{name:"balance",align:"left",label:"Balance",field:"balance",sortable:!0}],tloading:!0,priliminary:null,availableToSpend:null,budgetPages:1,budgetCurrent:1,budgetCount:10,allocationFundId:null,tpagination:{rowsPerPage:10}}},methods:{getBudgetBalance:function(t,e,a,s,i){var o=this;this.tloading=!0;var n={method:"GET",url:d["a"].getBudgetBalance+t+"/"+a+"/"+e+"?limit="+s+"&page="+i,headers:{Accept:"application/json"}};r()(n).then((function(t){var e=t.data.budgetInfo,a=[];o.budgetPages=t.data.pagesCount,o.priliminary=t.data.preliminiary,o.availableToSpend=t.data.availableBalance;for(var s=0;s<e.length;s++)a.push({transaction:e[s].name,date:e[s].start_date+" "+e[s].end_date,type:e[s].category&&e[s].category.abbreviation,amount:e[s].unit_total_cost,balance:e[s].balance});o.tdata=a,o.tloading=!1}))},changeBudgetRowsPerPage:function(){this.budgetCount=this.tpagination.rowsPerPage,this.budgetCurrent=1;var t=parseInt(this.tab),e=this.$route.params.id;this.getBudgetBalance(t,3,e,this.budgetCount,this.current)},changeBudgetPagination:function(t){this.budgetCurrent=t;var e=parseInt(this.tab),a=this.$route.params.id;this.getBudgetBalance(e,3,a,this.count,t)},addTeacherToTable:function(t){console.log(t,"Teacher from child"),this.getTeacherBudgetByType(parseInt(this.tab),this.$route.params.id,this.count,this.current)},openDeleteModal:function(t){this.editedItem=t,this.confirm=!0},deleteItem:function(){var t=this,e={method:"DELETE",url:d["a"].deleteTeacher+this.editedItem.id,headers:{Accept:"application/json"}};r()(e).then((function(e){var a=t.data.indexOf(t.editedItem);t.data.splice(a,1),t.$q.notify({message:"Teacher deleted!",type:"positive"})}))},exportTable:function(){var t=this,e=[this.columns.map((function(t){return wrapCsvValue(t.label)}))].concat(this.data.map((function(e){return t.columns.map((function(t){return wrapCsvValue("function"===typeof t.field?t.field(e):e[void 0===t.field?t.name:t.field],t.format)})).join(",")}))).join("\r\n"),a=exportFile("table-export.csv",e,"text/csv");!0!==a&&this.$q.notify({message:"Browser denied file download...",color:"negative",icon:"warning"})},teachersParsing:function(t){for(var e=[],a=0;a<t.length;a++){var s={id:t[a].id,provider:{id:t[a].supplier&&t[a].supplier.id,label:t[a].supplier&&t[a].supplier.short_name},status_uni:{id:t[a].status?t[a].status.id:null,label:t[a].status?t[a].status.name:"N/A",description:t[a].status.description?t[a].status.description:"N/A"},teacherName:t[a].teacher.first_name+" "+t[a].teacher.last_name,activity_date:t[a].start_date+"-"+t[a].end_date,cost:t[a].total_cost,type_uni:{id:t[a].category.id,label:t[a].category.name,name:t[a].category.abbreviation},percentage:parseFloat(t[a].allocation_percentage),teacher_id:t[a].teacher_id};e.push(s)}return e},getTeacherBudgetByType:function(t,e,a,s){var i=this,o={method:"GET",url:d["a"].getTeacherBudget+t+"/"+e+"?limit="+a+"&page="+s,headers:{Accept:"application/json"}};r()(o).then((function(t){i.pages=t.data.pagesCount;var e=t.data.items;console.log(" kkkkk pppp ",e);var a=i.teachersParsing(e);console.log("Final result : ",a),i.data=a}))},openTeacherPopup:function(t,e){this.isEdit=!0,this.showTeacherModal=!0,this.id=t.teacher_id},closeTeacherPopup:function(){this.showTeacherModal=!1},changePagination:function(t){this.current=t,this.getTeacherBudgetByType(parseInt(this.tab),this.$route.params.id,this.count,t)},changeRowsPerPage:function(){this.count=this.pagination.rowsPerPage,this.current=1,this.getTeacherBudgetByType(parseInt(this.tab),this.$route.params.id,this.count,this.current)},keyUpFilter:function(){clearTimeout(O),O=setTimeout(this.doneTyping,_t)},keyDownFilter:function(){clearTimeout(O)},doneTyping:function(){(this.filter.length>1||0==this.filter.length)&&this.filterTeachers()},filterTeachers:function(){var t=this;this.loading=!0;var e="";""!=this.filter&&(e+="&search="+this.filter),this.schoolYear&&(e+="&year="+this.schoolYear.id);var a={method:"GET",url:d["a"].filterTeacher+this.tab+"/"+this.$route.params.id+"?"+e,headers:{Accept:"application/json"}};r()(a).then((function(e){t.pages=e.data.pagesCount;var a=e.data.teachers,s=t.teachersParsing(a);t.data=s,t.loading=!1}))},getSchoolYears:function(){var t=this,e={method:"GET",url:d["a"].getSchoolYears,headers:{Accept:"application/json"}};r()(e).then((function(e){console.log("getSchoolYears",e);for(var a=e.data,s=[],i=0;i<a.length;i++){var o={id:a[i].id,label:a[i].year_name,value:a[i].year_name};s.push(o)}t.schoolYears=s}))},openNewTeacherPopup:function(){this.isEdit=!1,this.showTeacherModal=!0},openDuplicatePopup:function(t){this.showTeacherModal=!0,this.isDuplicate=!0,this.isEdit=!1}},watch:{showRemainingBalance:function(t){if(t){this.isRemainingPopupOpen=!0;var e=parseInt(this.tab),a=this.$route.params.id;this.getBudgetBalance(e,3,a,this.count,this.current)}else this.isRemainingPopupOpen=!1}},created:function(){this.tab=this.title.toString();parseInt(this.tab);this.getTeacherBudgetByType(this.title,this.$route.params.id,this.count,this.current),this.getSchoolYears()}},wt=kt,Ct=(a("af7c"),Object(q["a"])(wt,o,n,!1,null,"7b24668c",null)),It=Ct.exports,Tt={name:"Teacher",components:{TeacherTableTitle:It},data:function(){return{tab:"1",barInfo:{}}},methods:{getActivityBar:function(t,e){var a=this,s={method:"GET",url:d["a"].getTeacherTotalBar+t+"/"+e+"/3",headers:{Accept:"application/json"}};r()(s).then((function(t){a.barInfo=t.data,console.log("Bar info = ",a.barInfo)}))}},watch:{tab:function(t){this.getActivityBar(parseInt(t),this.$route.params.id)}},created:function(){this.schoolName=this.$route.query.name,this.getActivityBar(parseInt(this.tab),this.$route.params.id)},computed:{routeTab:function(){if(this.$route.query.name)return"".concat(this.$route.query.name);var t=this.$route.path.substring(1);return t}}},xt=Tt,Dt=Object(q["a"])(xt,s,i,!1,null,null,null);e["default"]=Dt.exports}}]);