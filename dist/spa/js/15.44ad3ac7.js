(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[15],{"23b2":function(t,e,a){"use strict";var s=a("5681"),l=a.n(s);l.a},5681:function(t,e,a){},d082:function(t,e,a){"use strict";a.r(e);var s,l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-page",{staticClass:"q-pa-sm edx-background"},[a("ActivityChecklist")],1)},i=[],o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"q-mt-lg"},[a("q-table",{staticClass:"overflow-auto my-sticky-column-table",attrs:{data:t.data,columns:t.columns,loading:t.loading,pagination:t.pagination},on:{"update:pagination":function(e){t.pagination=e}},scopedSlots:t._u([{key:"loading",fn:function(){return[a("q-inner-loading",{attrs:{showing:"",color:"primary"}})]},proxy:!0},{key:"top-right",fn:function(e){return[a("div",{directives:[{name:"show",rawName:"v-show",value:t.filter,expression:"filter"}],staticClass:"row filter-parent"},[a("div",{staticClass:"filter-child"},[a("div",[a("div",{staticClass:"text-subtitle2 edx-label  q-mb-sm"},[t._v("Allocation")]),a("q-select",{staticClass:"q-mr-md",staticStyle:{"min-width":"160px","max-width":"160px"},attrs:{options:t.allocationOptions,dense:"",outlined:""},model:{value:t.selectedAllocation,callback:function(e){t.selectedAllocation=e},expression:"selectedAllocation"}})],1),a("div",[a("div",{staticClass:"text-subtitle2 edx-label  q-mb-sm"},[t._v("Category")]),a("q-select",{staticClass:"q-mr-md",staticStyle:{"min-width":"160px","max-width":"160px"},attrs:{disable:!t.selectedAllocation,options:t.catagoryOptions,dense:"",outlined:""},model:{value:t.selectedCategory,callback:function(e){t.selectedCategory=e},expression:"selectedCategory"}})],1),a("div",[a("div",{staticClass:"text-subtitle2 edx-label  q-mb-sm"},[t._v("Subcategory")]),a("q-select",{staticClass:"q-mr-md",staticStyle:{"min-width":"160px","max-width":"160px"},attrs:{disable:!t.selectedCategory,options:t.subcatagoryOptions,dense:"",outlined:""},model:{value:t.selectedSubcategories,callback:function(e){t.selectedSubcategories=e},expression:"selectedSubcategories"}})],1),a("div",[a("div",{staticClass:"text-subtitle2 edx-label  q-mb-sm"},[t._v("Fund Source")]),a("q-select",{staticClass:"q-mr-md",staticStyle:{"min-width":"250px","max-width":"250px"},attrs:{disable:!t.selectedAllocation,options:t.optionsFundSource,dense:"",outlined:""},model:{value:t.selectedFunds,callback:function(e){t.selectedFunds=e},expression:"selectedFunds"}})],1),a("div",[a("div",{staticClass:"text-subtitle2 edx-label  q-mb-sm"},[t._v("Stard date")]),a("q-input",{staticClass:"q-mr-md",staticStyle:{"min-width":"130px","max-width":"130px"},attrs:{outlined:"",dense:""},scopedSlots:t._u([{key:"append",fn:function(){return[a("q-icon",{staticClass:"cursor-pointer",attrs:{name:"event"}},[a("q-popup-proxy",{attrs:{"transition-show":"scale","transition-hide":"scale"}},[a("q-date",{attrs:{color:"edx-pagination"},model:{value:t.startDate,callback:function(e){t.startDate=e},expression:"startDate"}},[a("div",{staticClass:"row items-center justify-end"},[a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{label:"Close",color:"primary",flat:""}})],1)])],1)],1)]},proxy:!0}],null,!0),model:{value:t.startDate,callback:function(e){t.startDate=e},expression:"startDate"}})],1),a("div",[a("div",{staticClass:"text-subtitle2 edx-label  q-mb-sm"},[t._v("End date")]),a("q-input",{staticClass:"q-mr-md",staticStyle:{"min-width":"130px","max-width":"130px"},attrs:{outlined:"",dense:""},scopedSlots:t._u([{key:"append",fn:function(){return[a("q-icon",{staticClass:"cursor-pointer",attrs:{name:"event"}},[a("q-popup-proxy",{attrs:{"transition-show":"scale","transition-hide":"scale"}},[a("q-date",{attrs:{color:"edx-pagination"},model:{value:t.endDate,callback:function(e){t.endDate=e},expression:"endDate"}},[a("div",{staticClass:"row items-center justify-end"},[a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{label:"Close",color:"primary",flat:""}})],1)])],1)],1)]},proxy:!0}],null,!0),model:{value:t.endDate,callback:function(e){t.endDate=e},expression:"endDate"}})],1)]),a("div",{staticClass:"filter-child"},[a("div",[a("div",{staticClass:"text-subtitle2 edx-label  q-mb-sm"},[t._v("Approval")]),a("q-select",{staticClass:"q-mr-md",staticStyle:{"min-width":"280px","max-width":"280px"},attrs:{options:t.optionsApproval,dense:"",outlined:""},model:{value:t.selectedApproval,callback:function(e){t.selectedApproval=e},expression:"selectedApproval"}})],1),a("div",[a("div",{staticClass:"text-subtitle2 edx-label  q-mb-sm"},[t._v("School")]),a("q-select",{staticClass:"q-mr-md",staticStyle:{"min-width":"280px","max-width":"280px"},attrs:{outlined:"",dense:"","use-input":"",options:t.schoolsOptions,"option-value":"id","option-label":"label","input-debounce":"0","map-options":"","emit-value":"","stack-label":""},on:{filter:t.filterFn},model:{value:t.selectedSchool,callback:function(e){t.selectedSchool=e},expression:"selectedSchool"}})],1),a("div",[a("div",{staticClass:"text-subtitle2 edx-label  q-mb-sm"},[t._v("Provider")]),a("q-select",{staticClass:"q-mr-md",staticStyle:{"min-width":"280px","max-width":"280px"},attrs:{outlined:"",dense:"","use-input":"",options:t.providerOptions,"option-value":"id","option-label":"label","input-debounce":"0","map-options":"","emit-value":"","stack-label":""},on:{filter:t.filterFnProvider},model:{value:t.selectedProvider,callback:function(e){t.selectedProvider=e},expression:"selectedProvider"}})],1),a("div",[a("div",{staticClass:"text-subtitle2 edx-label  q-mb-sm"},[t._v("Status")]),a("q-select",{staticClass:"q-mr-md",staticStyle:{"min-width":"180px","max-width":"180px"},attrs:{options:t.statusOptions,dense:"",outlined:""},model:{value:t.selectedStatuses,callback:function(e){t.selectedStatuses=e},expression:"selectedStatuses"}})],1)])]),a("q-btn-dropdown",{staticClass:"bg-edx-pagination q-mr-sm",attrs:{icon:"search",label:"Search","dropdown-icon":"tune",square:""}},[a("div",{staticClass:"q-pa-md",staticStyle:{width:"850px"}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12 bordered-box"},[a("div",{staticClass:"row q-mb-sm"},[a("div",{staticClass:"col-md-2 q-mr-sm"},[a("div",{staticClass:"text-subtitle2 edx-label  q-mb-sm"},[t._v("Stard date")]),a("q-input",{staticClass:"q-mr-md",staticStyle:{"min-width":"130px","max-width":"130px"},attrs:{outlined:"",dense:""},scopedSlots:t._u([{key:"append",fn:function(){return[a("q-icon",{staticClass:"cursor-pointer",attrs:{name:"event"}},[a("q-popup-proxy",{attrs:{"transition-show":"scale","transition-hide":"scale"}},[a("q-date",{attrs:{color:"edx-pagination"},model:{value:t.startDate,callback:function(e){t.startDate=e},expression:"startDate"}},[a("div",{staticClass:"row items-center justify-end"},[a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{label:"Close",color:"primary",flat:""}})],1)])],1)],1)]},proxy:!0}],null,!0),model:{value:t.startDate,callback:function(e){t.startDate=e},expression:"startDate"}})],1),a("div",{staticClass:"col-md-2 q-mr-sm"},[a("div",{staticClass:"text-subtitle2 edx-label  q-mb-sm"},[t._v("End date")]),a("q-input",{staticClass:"q-mr-md",staticStyle:{"min-width":"130px","max-width":"130px"},attrs:{outlined:"",dense:""},scopedSlots:t._u([{key:"append",fn:function(){return[a("q-icon",{staticClass:"cursor-pointer",attrs:{name:"event"}},[a("q-popup-proxy",{attrs:{"transition-show":"scale","transition-hide":"scale"}},[a("q-date",{attrs:{color:"edx-pagination"},model:{value:t.endDate,callback:function(e){t.endDate=e},expression:"endDate"}},[a("div",{staticClass:"row items-center justify-end"},[a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{label:"Close",color:"primary",flat:""}})],1)])],1)],1)]},proxy:!0}],null,!0),model:{value:t.endDate,callback:function(e){t.endDate=e},expression:"endDate"}})],1)]),a("div",{staticClass:"row q-mb-sm"},[a("div",{staticClass:"col-md-12"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-3 q-pr-sm"},[a("div",{staticClass:"text-subtitle2 edx-label  q-mb-sm"},[t._v("Allocation")]),a("q-select",{staticClass:"q-mr-md",attrs:{options:t.allocationOptions,dense:"",outlined:""},model:{value:t.selectedAllocation,callback:function(e){t.selectedAllocation=e},expression:"selectedAllocation"}})],1),a("div",{staticClass:"col-md-3 q-pr-sm"},[a("div",{staticClass:"text-subtitle2 edx-label  q-mb-sm"},[t._v("Category")]),a("q-select",{staticClass:"q-mr-md",attrs:{disable:!t.selectedAllocation,options:t.catagoryOptions,dense:"",outlined:""},model:{value:t.selectedCategory,callback:function(e){t.selectedCategory=e},expression:"selectedCategory"}})],1),a("div",{staticClass:"col-md-3 q-pr-sm"},[a("div",{staticClass:"text-subtitle2 edx-label  q-mb-sm"},[t._v("Subcategory")]),a("q-select",{staticClass:"q-mr-md",attrs:{disable:!t.selectedCategory,options:t.subcatagoryOptions,dense:"",outlined:""},model:{value:t.selectedSubcategories,callback:function(e){t.selectedSubcategories=e},expression:"selectedSubcategories"}})],1),a("div",{staticClass:"col-md-3 q-pr-sm"},[a("div",{staticClass:"text-subtitle2 edx-label  q-mb-sm"},[t._v("Fund Source")]),a("q-select",{staticClass:"q-mr-md",attrs:{disable:!t.selectedAllocation,options:t.optionsFundSource,dense:"",outlined:""},model:{value:t.selectedFunds,callback:function(e){t.selectedFunds=e},expression:"selectedFunds"}})],1)])])]),a("div",{staticClass:"row q-mb-sm"},[a("div",{staticClass:"col-md-12"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-5 q-pr-sm"},[a("div",{staticClass:"text-subtitle2 edx-label  q-mb-sm"},[t._v("School")]),a("q-select",{staticClass:"q-mr-md",attrs:{outlined:"",dense:"","use-input":"",options:t.schoolsOptions,"option-value":"id","option-label":"label","input-debounce":"0","map-options":"","emit-value":"","stack-label":""},on:{filter:t.filterFn},model:{value:t.selectedSchool,callback:function(e){t.selectedSchool=e},expression:"selectedSchool"}})],1),a("div",{staticClass:"col-md-5 q-pr-sm"},[a("div",{staticClass:"text-subtitle2 edx-label  q-mb-sm"},[t._v("Provider")]),a("q-select",{staticClass:"q-mr-md",staticStyle:{"min-width":"280px","max-width":"280px"},attrs:{outlined:"",dense:"","use-input":"",options:t.providerOptions,"option-value":"id","option-label":"label","input-debounce":"0","map-options":"","emit-value":"","stack-label":""},on:{filter:t.filterFnProvider},model:{value:t.selectedProvider,callback:function(e){t.selectedProvider=e},expression:"selectedProvider"}})],1)])])]),a("div",{staticClass:"row q-mb-sm"},[a("div",{staticClass:"col-md-12"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-3 q-pr-sm"},[a("div",{staticClass:"text-subtitle2 edx-label  q-mb-sm"},[t._v("Approval")]),a("q-select",{staticClass:"q-mr-md",attrs:{options:t.optionsApproval,dense:"",outlined:""},model:{value:t.selectedApproval,callback:function(e){t.selectedApproval=e},expression:"selectedApproval"}})],1),a("div",{staticClass:"col-md-3 q-pr-sm"},[a("div",{staticClass:"text-subtitle2 edx-label  q-mb-sm"},[t._v("Status")]),a("q-select",{staticClass:"q-mr-md",attrs:{options:t.statusOptions,dense:"",outlined:""},model:{value:t.selectedStatuses,callback:function(e){t.selectedStatuses=e},expression:"selectedStatuses"}})],1)])])])])])]),a("q-card-actions",{attrs:{align:"right"}},[a("q-btn",{staticClass:"edx-calendar",attrs:{flat:"",label:"Search"},on:{click:t.search}})],1)],1),a("q-btn",{staticClass:"edx-excel-btn",attrs:{round:"",icon:"mdi-file-excel-box",size:"10px","text-color":"white","no-caps":""},on:{click:t.exportTable}},[a("q-tooltip",{attrs:{"content-class":"edx-tooltip"}},[t._v("Export to Excel")])],1),"list"===t.mode?a("q-btn",{staticClass:"q-ml-md",attrs:{flat:"",round:"",dense:"",icon:e.inFullscreen?"fullscreen_exit":"fullscreen"},on:{click:e.toggleFullscreen}},[a("q-tooltip",{attrs:{"content-class":"edx-tooltip",disable:t.$q.platform.is.mobile}},[t._v("\n                    "+t._s(e.inFullscreen?"Exit Fullscreen":"Toggle Fullscreen")+"\n                ")])],1):t._e()]}},{key:"body",fn:function(e){return[a("q-tr",{staticClass:"cursor-pointer",attrs:{props:e}},[a("q-td",{key:"provider",attrs:{props:e}},[a("span",{staticClass:"inline-span table-text"},[t._v(" "+t._s(e.row.provider)+" ")])]),a("q-td",{key:"activity",attrs:{props:e}},[a("span",{staticClass:"inline-span table-text"},[t._v(t._s(e.row.activity))])]),a("q-td",{key:"dateOfActivity",attrs:{props:e}},[a("span",[t._v(" "+t._s(e.row.dateOfActivity)+" ")])]),a("q-td",{key:"school",attrs:{props:e}},[a("span",[t._v(" "+t._s(e.row.school)+" ")])]),a("q-td",{key:"allocation",attrs:{props:e}},[a("q-chip",{attrs:{square:"",color:"edx-bg-pd"}},[a("span",[t._v(t._s(e.row.allocation.abbr))]),a("q-tooltip",{attrs:{"content-class":"edx-tooltip",anchor:"top middle",self:"bottom middle",offset:[10,10],"transition-show":"flip-right","transition-hide":"flip-left"}},[a("strong",[t._v(t._s(e.row.allocation.label))])])],1)],1),a("q-td",{key:"approval",attrs:{props:e}},[a("q-icon",{class:t.approvalStatusIconColor(e.row.approval.status.id),attrs:{name:t.approvalStatusIcon(e.row.approval.status.id)}},[a("q-tooltip",{attrs:{"content-class":"edx-tooltip",anchor:"top middle",self:"bottom middle",offset:[10,10],"transition-show":"flip-right","transition-hide":"flip-left"}},[a("strong",[t._v("\n                                "+t._s(e.row.approval.status.label)+"\n                            ")])])],1),a("q-icon",{class:t.approvalTypeIconColor(e.row.approval.type.id),attrs:{name:t.approvalTypeIcon(e.row.approval.type.id)}},[a("q-tooltip",{attrs:{"content-class":"edx-tooltip",anchor:"top middle",self:"bottom middle",offset:[10,10],"transition-show":"flip-right","transition-hide":"flip-left"}},[a("strong",[t._v(t._s(e.row.approval.type.label))])])],1)],1),a("q-td",{key:"trackingList",staticClass:"p-0",attrs:{props:e}},[a("div",{staticClass:"row"},t._l(e.row.trackingList,(function(e){return a("div",{key:e.id,staticClass:"tracking-icon-parent"},[a("q-icon",{class:1===e.status?"edx-blue":"edx-red",attrs:{name:e.icon}}),a("div",{staticClass:"w-100"},[a("q-chip",{staticClass:"m-0 small-chip text-white",class:1===e.status?"edx-bg-blue":"edx-bg-red",attrs:{square:"",size:"sm"}},[a("b",[t._v(t._s(e.abbreviation))])])],1),a("q-tooltip",[t._v(t._s(e.note))])],1)})),0)]),a("q-td",{key:"note",attrs:{props:e}},[a("q-icon",{directives:[{name:"tooltip",rawName:"v-tooltip",value:{content:e.row.note,placement:"top-center",classes:["info"],targetClasses:["it-has-a-tooltip"],offset:19},expression:"{\n                            content: props.row.note,\n                            placement: 'top-center',\n                            classes: ['info'],\n                            targetClasses: ['it-has-a-tooltip'],\n                            offset: 19,\n                        }"}],staticClass:"cursor-pointer",staticStyle:{"font-size":"2em"},attrs:{name:"sticky_note_2",color:"orange"}})],1),a("q-td",{key:"status",attrs:{props:e}},[a("q-icon",{class:t.activityStatusIconColor(e.row.status.id),attrs:{name:t.activityStatusIcon(e.row.status.id)}},[a("q-tooltip",{attrs:{"content-class":"edx-tooltip",anchor:"top middle",self:"bottom middle",offset:[10,10],"transition-show":"flip-right","transition-hide":"flip-left"}},[a("strong",[t._v(t._s(e.row.status.name))])])],1)],1)],1)]}}])})],1)])},n=[],c=a("c47a"),r=a.n(c),d=(a("7f7f"),a("2b0e")),p=a("e37d"),u=a("ec8cb"),v=a("bc3a"),m=a.n(v),b=a("a1bc");d["default"].use(p["a"]);var h={data:function(){return{filter:!1,data:[],columns:[{name:"provider",align:"left",label:"Provider",field:"provider",sortable:!0,style:"width: 200px; min-width: 200px; max-width: 200px"},{name:"activity",align:"left",label:"Activity",field:"activity",sortable:!0,style:"width: 160px; min-width: 160px; max-width: 160px"},{name:"dateOfActivity",align:"left",label:"Date Of Activity",field:"dateOfActivity",sortable:!0},{name:"school",align:"left",label:"School",field:"school",sortable:!0},{name:"allocation",align:"left",label:"Allocation",field:"allocation",sortable:!0,style:"width: 50px; min-width: 50px; max-width: 50px"},{name:"approval",align:"left",label:"Approval",field:"approval",sortable:!0},{name:"trackingList",align:"left",label:"Tracking List",field:"trackingList",sortable:!0,style:"width: 200px; min-width: 200px; max-width: 400px"},{name:"note",align:"left",label:"Note",field:"note",sortable:!0,style:"width: 50px; min-width: 50px; max-width: 50px"},{name:"status",align:"left",label:"Status",field:"status",sortable:!0}],loading:!1,mode:"list",pages:1,current:1,count:10,pagination:{rowsPerPage:10},rowsPerPageArr:["5","10","25","50","75","100"],allocationOptions:[],selectedAllocation:null,catagoryOptions:[],selectedCategory:null,subcatagoryOptions:[],selectedSubcategories:null,optionsFundSource:[],selectedFunds:null,startDate:null,endDate:null,optionsApproval:[],selectedApproval:null,schoolsOptions:[],selectedSchool:null,providerOptions:[],selectedProvider:null,statusOptions:[],selectedStatuses:null}},methods:(s={changePagination:function(){this.current=val,this.getLicense(this.$route.params.id,this.count,val)},changeRowsPerPage:function(){},exportTable:function(){var t=this,e=[this.columns.map((function(t){return wrapCsvValue(t.label)}))].concat(this.data.map((function(e){return t.columns.map((function(t){return wrapCsvValue("function"===typeof t.field?t.field(e):e[void 0===t.field?t.name:t.field],t.format)})).join(",")}))).join("\r\n"),a=exportFile("table-export.csv",e,"text/csv");!0!==a&&this.$q.notify({message:"Browser denied file download...",color:"negative",icon:"warning"})},search:function(){var t=this,e="";null!=this.selectedAllocation&&(e+="allocation="+this.selectedAllocation.id+"&"),null!=this.selectedSchool&&(e+="school="+this.selectedSchool.id+"&"),null!=this.selectedCategory&&(e+="category="+this.selectedCategory.id+"&"),null!=this.selectedSubcategories&&(e+="subcategory="+this.selectedSubcategories.id+"&"),null!=this.selectedFunds&&(e+="fundSource="+this.selectedFunds.id+"&"),null!=this.selectedApproval&&(e+="approvalStatus="+this.selectedApproval.id+"&"),null!=this.selectedProvider&&(e+="supplier="+this.selectedProvider.id+"&"),null!=this.selectedStatuses&&(e+="status="+this.selectedStatuses.id+"&"),null!=this.startDate&&(e+="start_date="+this.startDate+"&"),null!=this.endDate&&(e+="end_date="+this.endDate+"&"),console.log(e,"askdjlnaslkdjhasdjkhasd");var a={method:"GET",url:b["a"].getActivityTrackings+e,headers:{Accept:"application/json"}};m()(a).then((function(e){t.pages=e.data.pagesCount;for(var a=e.data.activity,s=[],l=0;l<a.length;l++){var i,o,n,c,r,d,p,u,v,m=a[l].start_date,b=a[l].end_date;null==m&&(m="TBD"),null==b&&(b="TBD"),s.push({provider:null===(i=a[l].supplier)||void 0===i?void 0:i.company_name,activity:a[l].name,dateOfActivity:"".concat(m," - ").concat(b),school:null===(o=a[l].school)||void 0===o?void 0:o.name,allocation:{id:null===(n=a[l].category)||void 0===n?void 0:n.id,label:null===(c=a[l].category)||void 0===c?void 0:c.name,abbr:null===(r=a[l].category)||void 0===r?void 0:r.abbreviation},approval:{status:{id:null===(d=a[l].approval_status)||void 0===d?void 0:d.id,label:null===(p=a[l].approval_status)||void 0===p?void 0:p.name},type:{id:null===(u=a[l].approval_types)||void 0===u?void 0:u.id,label:null===(v=a[l].approval_types)||void 0===v?void 0:v.name}},trackingList:a[l].fields,note:a[l].note,status:a[l].status})}t.data=s}))}},r()(s,"exportTable",(function(){var t=this,e=[this.columns.map((function(t){return wrapCsvValue(t.label)}))].concat(this.data.map((function(e){return t.columns.map((function(t){return wrapCsvValue("function"===typeof t.field?t.field(e):e[void 0===t.field?t.name:t.field],t.format)})).join(",")}))).join("\r\n"),a=exportFile("table-export.csv",e,"text/csv");!0!==a&&this.$q.notify({message:"Browser denied file download...",color:"negative",icon:"warning"})})),r()(s,"changeRowsPerPage",(function(){})),r()(s,"approvalStatusIcon",(function(t){if(t){var e=t,a=null;switch(e){case 1:a=u["a"].approved;break;case 2:a=u["a"].declined;break;case 3:a=u["a"].pending;break}return a}})),r()(s,"approvalStatusIconColor",(function(t){if(t){var e=t,a=null;switch(e){case 1:a="edx-icon-approved";break;case 2:a="edx-icon-declined";break;case 3:a="edx-icon-pending";break}return a}})),r()(s,"approvalTypeIcon",(function(t){if(t){var e=t,a=null;switch(e){case 1:a=u["a"].needsAssessment;break;case 2:a=u["a"].catalog;break;case 3:a=u["a"].blanketApproval;break;case 4:a=u["a"].preApproval;break}return a}})),r()(s,"approvalTypeIconColor",(function(t){if(t){var e=t,a=null;switch(e){case 1:a="edx-icon-needs-assassment";break;case 2:a="edx-icon-catalog";break;case 3:a="edx-icon-blanket-approval";break;case 4:a="edx-icon-pre-approval";break}return a}})),r()(s,"activityStatusIcon",(function(t){var e=t,a=null;switch(e){case 1:a=u["a"].canceled;break;case 2:a=u["a"].budgeted;break;case 3:a=u["a"].gatheringDocuments;break;case 4:a=u["a"].eeadyForBilling;break;case null:a=u["a"].noAnswer;break}return a})),r()(s,"activityStatusIconColor",(function(t){var e=t,a=null;switch(e){case 1:a="edx-icon-canceled";break;case 2:a="edx-icon-budgeted";break;case 3:a="edx-icon-gathering-documents";break;case 4:a="edx-icon-ready-for-billing";break;case null:a="edx-icon-no-answer";break}return a})),r()(s,"getActivityTrackings",(function(t,e){var a=this,s={method:"GET",url:"".concat(b["a"].getActivityTrackings,"?limit=").concat(t,"&page=").concat(e),headers:{Accept:"application/json"}};m()(s).then((function(t){a.pages=t.data.pagesCount;for(var e=t.data.activity,s=[],l=0;l<e.length;l++){var i,o,n,c,r,d,p,u,v,m=e[l].start_date,b=e[l].end_date;null==m&&(m="TBD"),null==b&&(b="TBD"),s.push({provider:null===(i=e[l].supplier)||void 0===i?void 0:i.company_name,activity:e[l].name,dateOfActivity:"".concat(m," - ").concat(b),school:null===(o=e[l].school)||void 0===o?void 0:o.name,allocation:{id:null===(n=e[l].category)||void 0===n?void 0:n.id,label:null===(c=e[l].category)||void 0===c?void 0:c.name,abbr:null===(r=e[l].category)||void 0===r?void 0:r.abbreviation},approval:{status:{id:null===(d=e[l].approval_status)||void 0===d?void 0:d.id,label:null===(p=e[l].approval_status)||void 0===p?void 0:p.name},type:{id:null===(u=e[l].approval_types)||void 0===u?void 0:u.id,label:null===(v=e[l].approval_types)||void 0===v?void 0:v.name}},trackingList:e[l].fields,note:e[l].note,status:e[l].status})}a.data=s}))})),r()(s,"getAllocations",(function(){var t=this,e={method:"GET",url:b["a"].getAllocations,headers:{Accept:"application/json"}};m()(e).then((function(e){for(var a=e.data.allocationTypes,s=[],l=0;l<a.length;l++)s.push({id:a[l].id,label:a[l].name});t.allocationOptions=s}))})),r()(s,"getCategoryTypes",(function(t){var e=this,a={method:"GET",url:b["a"].getCategoryTypes+t+"/1",headers:{Accept:"application/json"}};m()(a).then((function(t){for(var a=t.data.typesCategories,s=[],l=0;l<a.length;l++){var i={id:a[l].id,label:a[l].name,name:a[l].abbreviation};s.push(i)}e.catagoryOptions=s}))})),r()(s,"getSubcategoryTypes",(function(t){var e=this,a={method:"GET",url:b["a"].getSubcategories+t,headers:{Accept:"application/json"}};m()(a).then((function(t){console.log("res subcategories",t);for(var a=[],s=t.data.typesCategories,l=0;l<s.length;l++){var i={id:s[l].id,name:s[l].abbreviation,label:s[l].name};a.push(i)}e.subcatagoryOptions=a}))})),r()(s,"getFunds",(function(t){var e=this,a={method:"GET",url:b["a"].getFunds+t,headers:{Accept:"application/json"}};m()(a).then((function(t){console.log("funds ======",t.data);for(var a=t.data.fundSource,s=[],l=0;l<a.length;l++){var i={id:a[l].id,label:a[l].name,abbr:a[l].abbreviation};s.push(i)}e.optionsFundSource=s}))})),r()(s,"getApprovals",(function(){var t=this,e={method:"GET",url:b["a"].getApprovals,headers:{Accept:"application/json"}};m()(e).then((function(e){for(var a=e.data.activityApprovalStatus,s=(e.data.activityApprovalTypes,[]),l=0;l<a.length;l++){var i={id:a[l].id,label:a[l].name};s.push(i)}t.optionsApproval=s}))})),r()(s,"filterFn",(function(t,e,a){var s=this;t.length<1?a():e((function(){console.log("Update...");var e=[],a={method:"GET",url:b["a"].filterSchool+t+"&limit=1000&offset=1",headers:{Accept:"application/json"}};m()(a).then((function(t){for(var a=0;a<t.data.schools.length;a++)e.push({id:t.data.schools[a].id,label:t.data.schools[a].name});s.schoolsOptions=e}))}))})),r()(s,"filterFnProvider",(function(t,e,a){var s=this;t.length<1?a():e((function(){var e=[],a={method:"GET",url:b["a"].filterVendor+t+"&limit=1000&offset=1",headers:{Accept:"application/json"}};m()(a).then((function(t){console.log("res lll",t.data);for(var a=0;a<t.data.supplier.length;a++)e.push({id:t.data.supplier[a].id,label:t.data.supplier[a].company_name});s.providerOptions=e}))}))})),r()(s,"getStatuses",(function(){var t=this,e={method:"GET",url:b["a"].getStatuses,headers:{Accept:"application/json"}};m()(e).then((function(e){console.log("res",e.data);for(var a=e.data.status,s=[],l=0;l<a.length;l++)s.push({id:a[l].id,label:a[l].name});t.statusOptions=s}))})),s),created:function(){this.getActivityTrackings(this.count,this.current),this.getAllocations(),this.getApprovals(),this.getStatuses()},watch:{selectedAllocation:function(t){this.getCategoryTypes(t.id),this.getFunds(t.id)},selectedCategory:function(t){console.log(t.id),this.getSubcategoryTypes(t.id)}}},f=h,x=(a("23b2"),a("2877")),g=Object(x["a"])(f,o,n,!1,null,null,null),y=g.exports,q={components:{ActivityChecklist:y}},C=q,w=Object(x["a"])(C,l,i,!1,null,null,null);e["default"]=w.exports}}]);