(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[12],{"71fb":function(t,e,a){"use strict";var s=a("c739"),i=a.n(s);i.a},b4e6:function(t,e,a){"use strict";a.r(e);var s,i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-page",{staticClass:"q-pa-sm edx-background"},[a("q-card",{staticClass:"bg-transparent no-shadow no-border"},[a("q-card-section",{staticClass:"q-pa-none"},[a("div",{staticClass:"row q-col-gutter-sm"},[a("div",{staticClass:"col-md-2 col-sm-12 col-xs-12"},[a("q-item",{staticClass:"q-pa-none q-ml-xs",staticStyle:{"background-color":"#fff"}},[a("q-item-section",{staticClass:"q-pa-lg q-mr-none text-white",staticStyle:{"background-color":"#fff"},attrs:{side:""}},[a("q-icon",{attrs:{name:"attach_money",color:"red",size:"24px"}})],1),a("q-item-section",{staticClass:"q-ml-none"},[a("q-item-label",{staticClass:"text-grey-7"},[t._v("Total Cost")]),a("q-item-label",{staticClass:"text-dark text-h6 text-weight-bolder"},[t._v("$ "+t._s(t.barInfo.totalCost))])],1)],1)],1)])])],1),a("div",{staticClass:"q-pa-sm q-mt-sm q-gutter-sm"},[a("div",{staticClass:"edx-header-parent"},[a("span",{staticClass:"edx-header-text"},[t._v(t._s(t.schoolName))])]),a("q-card",[a("q-tabs",{staticClass:"text-grey",attrs:{dense:"","active-color":"primary","indicator-color":"primary",align:"left","narrow-indicator":""},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[a("q-tab",{attrs:{name:"1",label:"Title I"}}),a("q-tab",{attrs:{name:"2",label:"Title II"}}),a("q-tab",{attrs:{name:"3",label:"Title III"}}),a("q-tab",{attrs:{name:"4",label:"Title IV"}}),a("q-tab",{attrs:{name:"5",label:"ESSER"}}),a("q-tab",{attrs:{name:"6",label:"GEER"}})],1),a("q-separator"),a("q-tab-panels",{staticClass:"tab-panels-parent",attrs:{animated:""},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[a("q-tab-panel",{staticClass:"q-p-sm",attrs:{name:"1"}},[a("InventoryTable",{attrs:{type:1}})],1),a("q-tab-panel",{staticClass:"q-p-sm",attrs:{name:"2"}},[a("InventoryTable",{attrs:{type:2}})],1),a("q-tab-panel",{staticClass:"q-p-sm",attrs:{name:"3"}},[a("InventoryTable",{attrs:{type:3}})],1),a("q-tab-panel",{staticClass:"q-p-sm",attrs:{name:"4"}},[a("InventoryTable",{attrs:{type:4}})],1),a("q-tab-panel",{staticClass:"q-p-sm",attrs:{name:"5"}},[a("InventoryTable",{attrs:{type:5}})],1),a("q-tab-panel",{staticClass:"q-p-sm",attrs:{name:"6"}},[a("InventoryTable",{attrs:{type:6}})],1)],1)],1)],1)],1)},n=[],o=(a("7f7f"),a("b178")),l=a("bc3a"),d=a.n(l),c=a("a1bc"),r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("q-table",{staticClass:"no-shadow overflow-auto my-sticky-column-table",attrs:{data:t.data,columns:t.columns,loading:t.loading,pagination:t.pagination,"row-key":"actions"},on:{"update:pagination":function(e){t.pagination=e}},scopedSlots:t._u([{key:"loading",fn:function(){return[a("q-inner-loading",{attrs:{showing:"",color:"primary"}})]},proxy:!0},{key:"top-right",fn:function(e){return[a("q-input",{staticClass:"q-mr-md",attrs:{outlines:"",dense:"",placeholder:"Search"},on:{keyup:t.keyUpFilter,keydown:t.keyDownFilter},scopedSlots:t._u([{key:"append",fn:function(){return[a("q-icon",{attrs:{name:"search"}})]},proxy:!0}],null,!0),model:{value:t.filter,callback:function(e){t.filter=e},expression:"filter"}}),a("q-select",{staticClass:"q-mr-md",staticStyle:{"min-width":"300px","max-width":"300px"},attrs:{dense:"",outlines:"",label:"Category",options:t.optionsCategory},on:{input:t.filterInventory},scopedSlots:t._u([t.filterCategoryValue?{key:"append",fn:function(){return[a("q-icon",{staticClass:"cursor-pointer",attrs:{name:"cancel"},on:{click:function(e){e.stopPropagation(),t.filterCategoryValue="",t.filterInventory()}}})]},proxy:!0}:null],null,!0),model:{value:t.filterCategoryValue,callback:function(e){t.filterCategoryValue=e},expression:"filterCategoryValue"}}),a("q-select",{staticClass:"q-mr-md",staticStyle:{"min-width":"200px","max-width":"200px"},attrs:{dense:"",outlines:"",label:"Vendor",options:t.optionsSupplier},on:{input:t.filterInventory},scopedSlots:t._u([t.filterVendor?{key:"append",fn:function(){return[a("q-icon",{staticClass:"cursor-pointer",attrs:{name:"cancel"},on:{click:function(e){e.stopPropagation(),t.filterVendor="",t.filterInventory()}}})]},proxy:!0}:null],null,!0),model:{value:t.filterVendor,callback:function(e){t.filterVendor=e},expression:"filterVendor"}}),a("q-select",{staticClass:"q-mr-md",staticStyle:{"min-width":"150px","max-width":"150px"},attrs:{dense:"",outlines:"",label:"Condition",options:t.optionsCondition},on:{input:t.filterInventory},scopedSlots:t._u([t.filterCondition?{key:"append",fn:function(){return[a("q-icon",{staticClass:"cursor-pointer",attrs:{name:"cancel"},on:{click:function(e){e.stopPropagation(),t.filterCondition="",t.filterInventory()}}})]},proxy:!0}:null],null,!0),model:{value:t.filterCondition,callback:function(e){t.filterCondition=e},expression:"filterCondition"}}),a("q-select",{staticClass:"q-mr-md",staticStyle:{"min-width":"150px","max-width":"150px"},attrs:{dense:"",outlines:"",label:"Status",options:t.optionsStatus},on:{input:t.filterInventory},scopedSlots:t._u([t.filterStatus?{key:"append",fn:function(){return[a("q-icon",{staticClass:"cursor-pointer",attrs:{name:"cancel"},on:{click:function(e){e.stopPropagation(),t.filterStatus="",t.filterInventory()}}})]},proxy:!0}:null],null,!0),model:{value:t.filterStatus,callback:function(e){t.filterStatus=e},expression:"filterStatus"}}),a("q-btn",{staticClass:"q-mr-md edx-add-btn",attrs:{square:"","text-color":"white",icon:"add","no-caps":""},on:{click:t.openAddPopup}},[t._v("Add")]),a("q-btn",{staticClass:"edx-excel-btn",attrs:{round:"",icon:"mdi-file-excel-box",size:"10px","text-color":"white","no-caps":""},on:{click:t.exportTable}}),"list"===t.mode?a("q-btn",{staticClass:"q-px-sm",attrs:{flat:"",round:"",dense:"",icon:e.inFullscreen?"fullscreen_exit":"fullscreen"},on:{click:e.toggleFullscreen}},[a("q-tooltip",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{disable:t.$q.platform.is.mobile}},[t._v(t._s(e.inFullscreen?"Exit Fullscreen":"Toggle Fullscreen")+"\n        ")])],1):t._e(),a("div",{staticClass:"q-pa-sm q-gutter-sm"},[a("q-dialog",{attrs:{persistent:""},model:{value:t.confirm,callback:function(e){t.confirm=e},expression:"confirm"}},[a("q-card",[a("q-card-section",{staticClass:"row items-center"},[a("span",{staticClass:"q-ml-sm"},[t._v("Are you sure to delete this item?")])]),a("q-card-actions",{attrs:{align:"right"}},[a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"No, thanks",color:"primary"}}),a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{label:"Yes",color:"edx-delete-btn"},on:{click:t.deleteItem}})],1)],1)],1)],1)]}},{key:"body",fn:function(e){return[a("q-tr",{staticClass:"cursor-pointer",class:{"bg-red-2":e.row.changed},attrs:{props:e},on:{click:function(a){return t.openEditPopup(e.row)}}},[a("q-td",{attrs:{"auto-width":""}},[e.row.needs_review?a("div",[a("q-icon",{staticClass:"edx-red",staticStyle:{"font-size":"1.5rem"},attrs:{name:"fiber_new"}}),a("q-tooltip",{attrs:{"content-class":"edx-tooltip"}},[t._v("New")])],1):t._e()]),a("q-td",{key:"qty",attrs:{props:e}},[a("div",[t._v(t._s(e.row.quantity))])]),a("q-td",{key:"category",staticStyle:{"white-space":"initial",width:"350px","max-width":"350px"},attrs:{props:e}},[a("div",[t._v(" "+t._s(e.row.inventory_category_uni.label)+" ")])]),a("q-td",{key:"itemName",staticStyle:{width:"300px","min-width":"300px","max-width":"300px"},attrs:{props:e}},[a("span",{staticClass:"inline-span table-text"},[t._v(t._s(e.row.item_name))])]),a("q-td",{key:"vendor",attrs:{props:e}},[e.row.inventory_supplier_uni?a("div",[t._v(t._s(e.row.inventory_supplier_uni.label))]):a("div")]),a("q-td",{key:"costPerItem",attrs:{props:e}},[a("div",[t._v("$ "+t._s(e.row.item_cost))])]),a("q-td",{key:"totalCost",attrs:{props:e}},[a("div",[t._v("$ "+t._s((e.row.item_cost*e.row.quantity).toFixed(2)))])]),a("q-td",{key:"dateOfPurchase",attrs:{props:e}},[a("div",[t._v(t._s(e.row.purchase_date))])]),e.row.condition?a("q-td",{key:"condition",attrs:{props:e}},["Excelent"==e.row.condition.label?a("div",[a("q-icon",{staticClass:"edx-icon-excellent",attrs:{name:"sellr"}},[a("q-tooltip",{attrs:{"content-class":"edx-tooltip",anchor:"top middle",self:"bottom middle",offset:[10,10],"transition-show":"flip-right","transition-hide":"flip-left"}},[a("strong",[t._v(t._s(e.row.condition.label))])])],1)],1):"Very Good"==e.row.condition.label?a("div",[a("q-icon",{staticClass:"edx-icon-verygood",attrs:{name:"sellr"}},[a("q-tooltip",{attrs:{"content-class":"edx-tooltip",anchor:"top middle",self:"bottom middle",offset:[10,10],"transition-show":"flip-right","transition-hide":"flip-left"}},[a("strong",[t._v(t._s(e.row.condition.label))])])],1)],1):"Good"==e.row.condition.label?a("div",[a("q-icon",{staticClass:"edx-icon-good",attrs:{name:"sellr"}},[a("q-tooltip",{attrs:{"content-class":"edx-tooltip",anchor:"top middle",self:"bottom middle",offset:[10,10],"transition-show":"flip-right","transition-hide":"flip-left"}},[a("strong",[t._v(t._s(e.row.condition.label))])])],1)],1):"Fair"==e.row.condition.label?a("div",[a("q-icon",{staticClass:"edx-icon-fair",attrs:{name:"sellr"}},[a("q-tooltip",{attrs:{"content-class":"edx-tooltip",anchor:"top middle",self:"bottom middle",offset:[10,10],"transition-show":"flip-right","transition-hide":"flip-left"}},[a("strong",[t._v(t._s(e.row.condition.label))])])],1)],1):a("div",[a("q-icon",{staticClass:"edx-icon-poor",attrs:{name:"sellr"}},[a("q-tooltip",{attrs:{"content-class":"edx-tooltip",anchor:"top middle",self:"bottom middle",offset:[10,10],"transition-show":"flip-right","transition-hide":"flip-left"}},[a("strong",[t._v(t._s(e.row.condition.label))])])],1)],1)]):t._e(),e.row.status_uni?a("q-td",{key:"status",attrs:{props:e}},["On Premise"==e.row.status_uni.label?a("div",[a("q-icon",{staticClass:"edx-icon-onpremise",attrs:{name:"emoji_transportation"}},[a("q-tooltip",{attrs:{"content-class":"edx-tooltip",anchor:"top middle",self:"bottom middle",offset:[10,10],"transition-show":"flip-right","transition-hide":"flip-left"}},[a("strong",[t._v(t._s(e.row.status_uni.label))])])],1)],1):"Off Premise"==e.row.status_uni.label?a("div",[a("q-icon",{staticClass:"edx-icon-offpremise",attrs:{name:"domain_disabled"}},[a("q-tooltip",{attrs:{"content-class":"edx-tooltip",anchor:"top middle",self:"bottom middle",offset:[10,10],"transition-show":"flip-right","transition-hide":"flip-left"}},[a("strong",[t._v(t._s(e.row.status_uni.label))])])],1)],1):"Disposed"==e.row.status_uni.label?a("div",[a("q-icon",{staticClass:"edx-icon-disposed",attrs:{name:"recyclingd"}},[a("q-tooltip",{attrs:{"content-class":"edx-tooltip",anchor:"top middle",self:"bottom middle",offset:[10,10],"transition-show":"flip-right","transition-hide":"flip-left"}},[a("strong",[t._v(t._s(e.row.status_uni.label))])])],1)],1):"Lost"==e.row.status_uni.label?a("div",[a("q-icon",{staticClass:"edx-icon-lost",attrs:{name:"wrong_location"}},[a("q-tooltip",{attrs:{"content-class":"edx-tooltip",anchor:"top middle",self:"bottom middle",offset:[10,10],"transition-show":"flip-right","transition-hide":"flip-left"}},[a("strong",[t._v(t._s(e.row.status_uni.label))])])],1)],1):"Stolen"==e.row.status_uni.label?a("div",[a("q-icon",{staticClass:"edx-icon-stolen",attrs:{name:"person_search"}},[a("q-tooltip",{attrs:{"content-class":"edx-tooltip",anchor:"top middle",self:"bottom middle",offset:[10,10],"transition-show":"flip-right","transition-hide":"flip-left"}},[a("strong",[t._v(t._s(e.row.status_uni.label))])])],1)],1):"Transfered"==e.row.status_uni.label?a("div",[a("q-icon",{staticClass:"edx-icon-transfered",attrs:{name:"local_shipping"}},[a("q-tooltip",{attrs:{"content-class":"edx-tooltip",anchor:"top middle",self:"bottom middle",offset:[10,10],"transition-show":"flip-right","transition-hide":"flip-left"}},[a("strong",[t._v(t._s(e.row.status_uni.label))])])],1)],1):a("div",[a("q-icon",{staticClass:"edx-icon-stored",attrs:{name:"inventory"}},[a("q-tooltip",{attrs:{"content-class":"edx-tooltip",anchor:"top middle",self:"bottom middle",offset:[10,10],"transition-show":"flip-right","transition-hide":"flip-left"}},[a("strong",[t._v(t._s(e.row.status_uni.label))])])],1)],1)]):t._e(),a("q-td",{key:"actions",attrs:{props:e}},[a("q-fab",{attrs:{padding:"xs",color:"edx-action-btn",icon:t.qFab,"active-icon":t.qFavOpen,direction:"left"},on:{click:function(t){t.stopPropagation()}}},[a("q-fab-action",{staticClass:"q-mr-sm",attrs:{icon:t.duplicateIcon,color:"edx-duplicate-btn",size:"sm","no-caps":"",round:""},on:{click:function(a){return t.openDuplicatePopup(e.row)}}},[a("q-tooltip",{attrs:{"content-class":"edx-tooltip",anchor:"top middle",self:"bottom middle",offset:[10,10],"transition-show":"flip-right","transition-hide":"flip-left"}},[a("strong",[t._v("Duplicate")])])],1),a("q-fab-action",{attrs:{icon:t.deleteIcon,color:"edx-delete-btn",size:"sm","no-caps":"",round:""},on:{click:function(a){return t.openDeleteModal(e.row)}}},[a("q-tooltip",{attrs:{"content-class":"edx-tooltip",anchor:"top middle",self:"bottom middle",offset:[10,10],"transition-show":"flip-right","transition-hide":"flip-left"}},[a("strong",[t._v("Delete")])])],1)],1)],1)],1)]}},{key:"bottom",fn:function(){return[a("div",{staticClass:"q-pa-md flex flex-center"},[a("q-pagination",{attrs:{"max-pages":6,max:t.pages,"direction-links":!0,color:"edx-pagination"},on:{click:function(e){return t.changePagination(t.current)}},model:{value:t.current,callback:function(e){t.current=e},expression:"current"}}),a("div",{staticClass:"row justify-center items-center"},[a("span",{staticClass:"q-mr-md"},[t._v("Rows Per page")]),a("q-select",{attrs:{dense:"",outlined:"",options:t.rowsPerPageArr},on:{input:t.changeRowsPerPage},model:{value:t.pagination.rowsPerPage,callback:function(e){t.$set(t.pagination,"rowsPerPage",e)},expression:"pagination.rowsPerPage"}})],1)],1)]},proxy:!0}])}),a("InventoryPopup",{attrs:{data:t.editedItem,show:t.showPopup,isEdit:t.isEdit,tab:t.tab},on:{togglePopup:t.togglePopup,updateTableList:t.updateTableList}})],1)},u=[],p=(a("f751"),a("20d6"),a("c47a")),m=a.n(p),h=(a("2ef0"),a("ec8cb")),b=a("13af"),v=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("dialog-draggable",{attrs:{width:800,modelDialog:t.showPopup,title:"Inventory",icon:"inventory"}},[a("q-card-section",{staticClass:"scroll q-pt-none q-pb-none q-pr-none q-pl-none",staticStyle:{"max-height":"60vh"}},[a("div",{staticClass:"q-pa-md"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-6 q-pr-sm"},[a("div",{staticClass:"q-mb-md"},[a("div",{staticClass:"text-subtitle2 q-mb-sm"},[t._v("Item name")]),a("q-input",{attrs:{dense:"",outlined:""},model:{value:t.editedData.item_name,callback:function(e){t.$set(t.editedData,"item_name",e)},expression:"editedData.item_name"}})],1),a("div",{staticClass:"q-mb-md"},[a("div",{staticClass:"text-subtitle2 q-mb-sm"},[t._v("Item description")]),a("q-input",{attrs:{type:"textarea",dense:"",outlined:"",rows:"2"},model:{value:t.editedData.note,callback:function(e){t.$set(t.editedData,"note",e)},expression:"editedData.note"}})],1),a("div",{staticClass:"q-mb-md"},[a("div",{staticClass:"text-subtitle2 q-mb-sm"},[t._v("Campus")]),a("q-select",{attrs:{dense:"",outlined:"","fill-input":"","input-debounce":"0",options:t.optionsCampus},model:{value:t.editedData.campus_uni,callback:function(e){t.$set(t.editedData,"campus_uni",e)},expression:"editedData.campus_uni"}})],1),a("div",{staticClass:"q-mb-md"},[a("div",{staticClass:"text-subtitle2 q-mb-sm"},[t._v("Provider")]),a("q-select",{attrs:{dense:"",outlined:"","use-input":"","hide-selected":"","fill-input":"","input-debounce":"0",options:t.optionsSupplier},on:{filter:t.filterSupplier},scopedSlots:t._u([{key:"no-option",fn:function(){return[a("q-item",[a("q-item-section",{staticClass:"text-grey"},[t._v("\n                                    No results\n                                    ")])],1)]},proxy:!0}]),model:{value:t.editedData.inventory_supplier_uni,callback:function(e){t.$set(t.editedData,"inventory_supplier_uni",e)},expression:"editedData.inventory_supplier_uni"}})],1),a("div",{staticClass:"q-mb-md"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-4 q-pr-sm"},[a("div",{staticClass:"text-subtitle2 q-mb-sm"},[t._v("Qty")]),a("q-input",{attrs:{type:"number",dense:"",outlined:""},model:{value:t.editedData.quantity,callback:function(e){t.$set(t.editedData,"quantity",e)},expression:"editedData.quantity"}})],1),a("div",{staticClass:"col-md-4 q-pr-sm"},[a("div",{staticClass:"text-subtitle2 q-mb-sm"},[t._v("Item Cost")]),a("q-input",{attrs:{type:"number",prefix:"$",dense:"",outlined:""},model:{value:t.editedData.item_cost,callback:function(e){t.$set(t.editedData,"item_cost",e)},expression:"editedData.item_cost"}})],1),a("div",{staticClass:"col-md-4"},[a("div",{staticClass:"text-subtitle2 q-mb-sm"},[t._v("Total")]),a("q-input",{attrs:{prefix:"$",dense:"",outlined:"",disable:"",filled:"",readonly:"",value:t.editedData.item_cost*t.editedData.quantity}})],1)])]),a("div",{staticClass:"q-mb-md"},[a("div",{staticClass:"row"},[t.editedData.status_uni?a("div",{staticClass:"col-md-4 q-pr-sm"},[a("div",{staticClass:"text-subtitle2 q-mb-sm"},[t._v("Removal Date")]),a("q-input",{attrs:{disabled:"On Premise"==t.editedData.status_uni.label,readonly:"On Premise"==t.editedData.status_uni.label,dense:"",outlined:""},model:{value:t.editedData.relocation_date,callback:function(e){t.$set(t.editedData,"relocation_date",e)},expression:"editedData.relocation_date"}}),"On Premise"!=t.editedData.status_uni.label?a("q-popup-proxy",[a("q-date",{attrs:{color:"edx-pagination",disabled:"On Premise"==t.editedData.status_uni.label,mask:"YYYY-MM-DD"},model:{value:t.editedData.relocation_date,callback:function(e){t.$set(t.editedData,"relocation_date",e)},expression:"editedData.relocation_date"}},[a("div",{staticClass:"row items-center justify-end q-gutter-sm"},[a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{label:"Cancel",color:"primary",flat:""}}),a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{label:"OK",color:"primary",flat:""}})],1)])],1):t._e()],1):t._e(),a("div",{staticClass:"col-md-4 q-pr-sm"},[a("div",{staticClass:"text-subtitle2 q-mb-sm"},[t._v("Visibility Date")]),a("q-input",{attrs:{dense:"",outlined:""},model:{value:t.editedData.visibility_date,callback:function(e){t.$set(t.editedData,"visibility_date",e)},expression:"editedData.visibility_date"}}),a("q-popup-proxy",[a("q-date",{attrs:{color:"edx-pagination",mask:"YYYY-MM-DD"},model:{value:t.editedData.visibility_date,callback:function(e){t.$set(t.editedData,"visibility_date",e)},expression:"editedData.visibility_date"}},[a("div",{staticClass:"row items-center justify-end q-gutter-sm"},[a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{label:"Cancel",color:"primary",flat:""}}),a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{label:"OK",color:"primary",flat:""}})],1)])],1)],1)])]),a("div",{staticClass:"q-mb-md"},[a("div",{staticClass:"text-subtitle2 q-mb-sm"},[t._v("Removal Note")]),a("q-input",{attrs:{rows:"3",dense:"",outlined:"",type:"textarea"},model:{value:t.editedData.transition_information_note,callback:function(e){t.$set(t.editedData,"transition_information_note",e)},expression:"editedData.transition_information_note"}})],1)]),a("div",{staticClass:"col-md-6 q-pl-sm"},[a("div",{staticClass:"q-mb-md"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-4"},[a("div",{staticClass:"text-subtitle2 q-mb-sm"},[t._v("Purchase Date")]),a("q-input",{attrs:{dense:"",outlined:""},model:{value:t.editedData.purchase_date,callback:function(e){t.$set(t.editedData,"purchase_date",e)},expression:"editedData.purchase_date"}}),a("q-popup-proxy",[a("q-date",{attrs:{color:"edx-pagination",mask:"YYYY-MM-DD"},model:{value:t.editedData.purchase_date,callback:function(e){t.$set(t.editedData,"purchase_date",e)},expression:"editedData.purchase_date"}},[a("div",{staticClass:"row items-center justify-end q-gutter-sm"},[a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{label:"Cancel",color:"primary",flat:""}}),a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{label:"OK",color:"primary",flat:""}})],1)])],1)],1)])]),a("div",{staticClass:"q-mb-md"},[a("div",{staticClass:"text-subtitle2 q-mb-sm"},[t._v("Inventory Category")]),a("q-select",{attrs:{dense:"",outlined:"","use-input":"","hide-selected":"","fill-input":"","input-debounce":"0",options:t.optionsCategory},on:{filter:t.filterCategory},scopedSlots:t._u([{key:"no-option",fn:function(){return[a("q-item",[a("q-item-section",{staticClass:"text-grey"},[t._v("\n                                    No results\n                                    ")])],1)]},proxy:!0}]),model:{value:t.editedData.inventory_category_uni,callback:function(e){t.$set(t.editedData,"inventory_category_uni",e)},expression:"editedData.inventory_category_uni"}})],1),a("div",{staticClass:"q-mb-md"},[a("div",{staticClass:"row"},[t.editedData.status_uni?a("div",{staticClass:"col-md-4 cursor-pointer"},[a("div",{staticClass:"text-subtitle2 q-mb-sm"},[t._v("Status")]),a("q-popup-edit",{attrs:{title:"Status"},model:{value:t.editedData.status,callback:function(e){t.$set(t.editedData,"status",e)},expression:"editedData.status"}},[a("q-select",{attrs:{dense:"",outlined:"",options:t.optionsStatus},on:{input:function(e){return t.changeStatus(4)}},model:{value:t.editedData.status_uni,callback:function(e){t.$set(t.editedData,"status_uni",e)},expression:"editedData.status_uni"}})],1),"On Premise"==t.editedData.status_uni.label?a("div",[a("q-icon",{staticClass:"edx-icon-onpremise",attrs:{name:"emoji_transportation"}},[a("q-tooltip",{attrs:{"content-class":"edx-tooltip",anchor:"top middle",self:"bottom middle",offset:[10,10],"transition-show":"flip-right","transition-hide":"flip-left"}},[a("strong",[t._v(t._s(t.editedData.status_uni.label))])])],1),a("span",{staticClass:"q-ml-sm"},[t._v(t._s(t.editedData.status_uni.label))])],1):"Checked Out"==t.editedData.status_uni.label?a("div",[a("q-icon",{staticClass:"edx-icon-offpremise",attrs:{name:"shop"}},[a("q-tooltip",{attrs:{"content-class":"edx-tooltip",anchor:"top middle",self:"bottom middle",offset:[10,10],"transition-show":"flip-right","transition-hide":"flip-left"}},[a("strong",[t._v(t._s(t.editedData.status_uni.label))])])],1),a("span",{staticClass:"q-ml-sm"},[t._v(t._s(t.editedData.status_uni.label))])],1):"Disposed"==t.editedData.status_uni.label?a("div",[a("q-icon",{staticClass:"edx-icon-disposed",attrs:{name:"recyclingd"}},[a("q-tooltip",{attrs:{"content-class":"edx-tooltip",anchor:"top middle",self:"bottom middle",offset:[10,10],"transition-show":"flip-right","transition-hide":"flip-left"}},[a("strong",[t._v(t._s(t.editedData.status_uni.label))])])],1),a("span",{staticClass:"q-ml-sm"},[t._v(t._s(t.editedData.status_uni.label))])],1):"Lost"==t.editedData.status_uni.label?a("div",[a("q-icon",{staticClass:"edx-icon-lost",attrs:{name:"wrong_location"}},[a("q-tooltip",{attrs:{"content-class":"edx-tooltip",anchor:"top middle",self:"bottom middle",offset:[10,10],"transition-show":"flip-right","transition-hide":"flip-left"}},[a("strong",[t._v(t._s(t.editedData.status_uni.label))])])],1),a("span",{staticClass:"q-ml-sm"},[t._v(t._s(t.editedData.status_uni.label))])],1):"Stolen"==t.editedData.status_uni.label?a("div",[a("q-icon",{staticClass:"edx-icon-stolen",attrs:{name:"person_search"}},[a("q-tooltip",{attrs:{"content-class":"edx-tooltip",anchor:"top middle",self:"bottom middle",offset:[10,10],"transition-show":"flip-right","transition-hide":"flip-left"}},[a("strong",[t._v(t._s(t.editedData.status_uni.label))])])],1),a("span",{staticClass:"q-ml-sm"},[t._v(t._s(t.editedData.status_uni.label))])],1):"Transfered"==t.editedData.status_uni.label?a("div",[a("q-icon",{staticClass:"edx-icon-transfered",attrs:{name:"local_shipping"}},[a("q-tooltip",{attrs:{"content-class":"edx-tooltip",anchor:"top middle",self:"bottom middle",offset:[10,10],"transition-show":"flip-right","transition-hide":"flip-left"}},[a("strong",[t._v(t._s(t.editedData.status_uni.label))])])],1),a("span",{staticClass:"q-ml-sm"},[t._v(t._s(t.editedData.status_uni.label))])],1):a("div",[a("q-icon",{staticClass:"edx-icon-stored",attrs:{name:"inventory"}},[a("q-tooltip",{attrs:{"content-class":"edx-tooltip",anchor:"top middle",self:"bottom middle",offset:[10,10],"transition-show":"flip-right","transition-hide":"flip-left"}},[a("strong",[t._v(t._s(t.editedData.status_uni.label))])])],1),a("span",{staticClass:"q-ml-sm"},[t._v(t._s(t.editedData.status_uni.label))])],1)],1):t._e(),t.editedData.condition?a("div",{staticClass:"col-md-4 cursor-pointer"},[a("div",{staticClass:"text-subtitle2 q-mb-sm"},[t._v("Condition")]),a("q-popup-edit",{attrs:{title:"Condition",buttons:""},model:{value:t.editedData.condition,callback:function(e){t.$set(t.editedData,"condition",e)},expression:"editedData.condition"}},[a("q-select",{attrs:{dense:"",outlined:"",options:t.optionsCondition},model:{value:t.editedData.condition,callback:function(e){t.$set(t.editedData,"condition",e)},expression:"editedData.condition"}})],1),"Excelent"==t.editedData.condition.label?a("div",[a("q-icon",{staticClass:"edx-icon-excellent",attrs:{name:"sellr"}},[a("q-tooltip",{attrs:{"content-class":"edx-tooltip",anchor:"top middle",self:"bottom middle",offset:[10,10],"transition-show":"flip-right","transition-hide":"flip-left"}},[a("strong",[t._v(t._s(t.editedData.condition.label))])])],1),a("span",{staticClass:"q-ml-sm"},[t._v(t._s(t.editedData.condition.label))])],1):"Very Good"==t.editedData.condition.label?a("div",[a("q-icon",{staticClass:"edx-icon-verygood",attrs:{name:"sellr"}},[a("q-tooltip",{attrs:{"content-class":"edx-tooltip",anchor:"top middle",self:"bottom middle",offset:[10,10],"transition-show":"flip-right","transition-hide":"flip-left"}},[a("strong",[t._v(t._s(t.editedData.condition.label))])])],1),a("span",{staticClass:"q-ml-sm"},[t._v(t._s(t.editedData.condition.label))])],1):"Good"==t.editedData.condition.label?a("div",[a("q-icon",{staticClass:"edx-icon-good",attrs:{name:"sellr"}},[a("q-tooltip",{attrs:{"content-class":"edx-tooltip",anchor:"top middle",self:"bottom middle",offset:[10,10],"transition-show":"flip-right","transition-hide":"flip-left"}},[a("strong",[t._v(t._s(t.editedData.condition.label))])])],1),a("span",{staticClass:"q-ml-sm"},[t._v(t._s(t.editedData.condition.label))])],1):"Fair"==t.editedData.condition.label?a("div",[a("q-icon",{staticClass:"edx-icon-fair",attrs:{name:"sellr"}},[a("q-tooltip",{attrs:{"content-class":"edx-tooltip",anchor:"top middle",self:"bottom middle",offset:[10,10],"transition-show":"flip-right","transition-hide":"flip-left"}},[a("strong",[t._v(t._s(t.editedData.condition.label))])])],1),a("span",{staticClass:"q-ml-sm"},[t._v(t._s(t.editedData.condition.label))])],1):a("div",[a("q-icon",{staticClass:"edx-icon-poor",attrs:{name:"sellr"}},[a("q-tooltip",{attrs:{"content-class":"edx-tooltip",anchor:"top middle",self:"bottom middle",offset:[10,10],"transition-show":"flip-right","transition-hide":"flip-left"}},[a("strong",[t._v(t._s(t.editedData.condition.label))])])],1),a("span",{staticClass:"q-ml-sm"},[t._v(t._s(t.editedData.condition.label))])],1)],1):t._e()])]),a("div",{staticClass:"q-mb-md"},[a("div",{staticClass:"row"},[t.editedData.identification_uni?a("div",{staticClass:"col-md-6 q-pr-sm"},[a("div",{staticClass:"text-subtitle2 q-mb-sm"},[t._v("Identifier")]),a("q-select",{attrs:{dense:"",outlined:"",options:t.optionsIdentifier},model:{value:t.editedData.identification_uni,callback:function(e){t.$set(t.editedData,"identification_uni",e)},expression:"editedData.identification_uni"}})],1):t._e(),t.editedData.identification_uni&&5!=t.editedData.identification_uni.id?a("div",{staticClass:"col-md-6"},[a("div",{staticClass:"text-subtitle2 q-mb-sm"},[t._v("District ID")]),a("q-input",{attrs:{disabled:1!=!t.editedData.identification_uni.id,dense:"",outlined:""},model:{value:t.editedData.district_assigned_id,callback:function(e){t.$set(t.editedData,"district_assigned_id",e)},expression:"editedData.district_assigned_id"}})],1):t._e(),t.editedData.identification_uni&&5==t.editedData.identification_uni.id?a("div",{staticClass:"col-md-3 q-pr-sm"},[a("div",{staticClass:"text-subtitle2 q-mb-sm"},[t._v("Start ID")]),a("q-input",{attrs:{dense:"",outlined:""},model:{value:t.editedData.sticker_range_start,callback:function(e){t.$set(t.editedData,"sticker_range_start",e)},expression:"editedData.sticker_range_start"}})],1):t._e(),t.editedData.identification_uni&&5==t.editedData.identification_uni.id?a("div",{staticClass:"col-md-3"},[a("div",{staticClass:"text-subtitle2 q-mb-sm"},[t._v("End ID")]),a("q-input",{attrs:{dense:"",outlined:""},model:{value:t.editedData.sticker_range_end,callback:function(e){t.$set(t.editedData,"sticker_range_end",e)},expression:"editedData.sticker_range_end"}})],1):t._e()])]),a("div",{staticClass:"q-mb-md"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-4"},[a("div",{staticClass:"text-subtitle2 q-mb-sm"},[t._v("Serial #")]),a("q-input",{attrs:{dense:"",outlined:""},model:{value:t.editedData.serial_number,callback:function(e){t.$set(t.editedData,"serial_number",e)},expression:"editedData.serial_number"}})],1)])]),a("div",{staticClass:"q-mb-md"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-6"},[a("div",{staticClass:"text-subtitle2 q-mb-sm"},[t._v("Location")]),a("q-input",{attrs:{dense:"",outlined:""},model:{value:t.editedData.location,callback:function(e){t.$set(t.editedData,"location",e)},expression:"editedData.location"}})],1)])]),a("div",{staticClass:"q-mb-md"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12"},[a("div",{staticClass:"text-subtitle2 q-mb-sm"},[t._v("Location Note")]),a("q-input",{attrs:{rows:"5",type:"textarea",dense:"",outlined:""},model:{value:t.editedData.location_information_note,callback:function(e){t.$set(t.editedData,"location_information_note",e)},expression:"editedData.location_information_note"}})],1)])])])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12"},[a("div",{staticClass:"text-subtitle2 q-mb-sm"},[t._v("Note")]),a("q-input",{attrs:{cols:"5",type:"textarea",dense:"",outlined:""},model:{value:t.editedData.note,callback:function(e){t.$set(t.editedData,"note",e)},expression:"editedData.note"}})],1)])])]),a("q-card-actions",{staticClass:"row justify-end"},[a("div",[a("q-btn",{attrs:{flat:"",label:"Cancel",color:"primary"},on:{click:t.closePopup}}),t.isEdit?a("q-btn",{attrs:{loading:t.loading,flat:"",label:"Save",color:"primary"},on:{click:t.editInventory}}):a("q-btn",{attrs:{loading:t.loading,flat:"",label:"Add",color:"primary"},on:{click:t.editInventory}})],1)])],1),a("dialog-draggable",{attrs:{width:700,modelDialog:t.onpremise,title:"On Premise"},on:{onHide:function(e){t.onpremise=!1}}},[a("q-card",[a("q-toolbar",[a("q-toolbar-title",{staticClass:"row justify-between"},[t.editedData.quantity>1?a("div",[t._v("\n                "+t._s(t.editedData.quantity-t.statusChangeObject.quantity)+"\n                left\n            ")]):t._e()])],1),a("q-card-section",[a("div",{staticClass:"row"},[a("div",{staticClass:"col-2 q-pr-sm q-pl-sm"},[a("div",{staticClass:"text-subtitle2 q-mb-sm"},[t._v("Qty")]),a("q-input",{attrs:{outlined:"",dense:"",disable:t.editedData.quantity<=1,rules:[function(e){return e<=t.editedData.quantity||"Number cant be more than "+t.editedData.quantity}]},model:{value:t.statusChangeObject.quantity,callback:function(e){t.$set(t.statusChangeObject,"quantity",e)},expression:"statusChangeObject.quantity"}})],1),a("div",{staticClass:"col-5 q-pr-sm q-pl-sm"},[a("div",{staticClass:"text-subtitle2 q-mb-sm"},[t._v("Location")]),a("q-input",{attrs:{outlined:"",dense:""},model:{value:t.statusChangeObject.location,callback:function(e){t.$set(t.statusChangeObject,"location",e)},expression:"statusChangeObject.location"}})],1),a("div",{staticClass:"col-5 q-pr-sm q-pl-sm"},[a("div",{staticClass:"text-subtitle2 q-mb-sm"},[t._v("Location within school")]),a("q-input",{attrs:{outlined:"",dense:""},model:{value:t.statusChangeObject.locationWithinSchool,callback:function(e){t.$set(t.statusChangeObject,"locationWithinSchool",e)},expression:"statusChangeObject.locationWithinSchool"}})],1),a("div",{staticClass:"col-12 q-pr-sm q-pl-sm q-mt-md"},[a("div",{staticClass:"text-subtitle2 q-mb-sm"},[t._v("Note")]),a("q-input",{attrs:{outlined:"",type:"textarea",dense:""},model:{value:t.statusChangeObject.note,callback:function(e){t.$set(t.statusChangeObject,"note",e)},expression:"statusChangeObject.note"}})],1),t.editedData.identification_uni&&5==t.editedData.identification_uni.id?a("div",{staticClass:"full-width"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-3 q-pr-sm q-pl-sm q-mt-md"},[a("div",{staticClass:"text-subtitle2 q-mb-sm"},[t._v("Curent Sticker range")]),a("q-input",{attrs:{outlined:"",dense:""},model:{value:t.editedData.sticker_range_start,callback:function(e){t.$set(t.editedData,"sticker_range_start",e)},expression:"editedData.sticker_range_start"}})],1),a("div",{staticClass:"col-3 q-pr-sm q-pl-sm q-mt-md"},[a("div",{staticClass:"text-subtitle2 q-mb-sm"},[t._v("  ")]),a("q-input",{attrs:{outlined:"",dense:""},model:{value:t.editedData.sticker_range_end,callback:function(e){t.$set(t.editedData,"sticker_range_end",e)},expression:"editedData.sticker_range_end"}})],1)]),t.statusChangeObject.quantity<=1?a("div",{staticClass:"row"},[a("div",{staticClass:"col-3 q-pr-sm q-pl-sm q-mt-md"},[a("div",{staticClass:"text-subtitle2 q-mb-sm"},[t._v("Sticker ID")]),a("q-input",{attrs:{outlined:"",dense:""},model:{value:t.statusChangeObject.stickerRangeStart,callback:function(e){t.$set(t.statusChangeObject,"stickerRangeStart",e)},expression:"statusChangeObject.stickerRangeStart"}})],1)]):t._e(),t.statusChangeObject.quantity>1&&t.statusChangeObject.quantity!=t.editedData.quantity?a("div",{staticClass:"row"},[a("div",{staticClass:"col-3 q-pr-sm q-pl-sm q-mt-md"},[a("div",{staticClass:"text-subtitle2 q-mb-sm"},[t._v("New Sticker range")]),a("q-input",{attrs:{outlined:"",dense:""},model:{value:t.statusChangeObject.stickerRangeStart,callback:function(e){t.$set(t.statusChangeObject,"stickerRangeStart",e)},expression:"statusChangeObject.stickerRangeStart"}})],1),a("div",{staticClass:"col-3 q-pr-sm q-pl-sm q-mt-md"},[a("div",{staticClass:"text-subtitle2 q-mb-sm"},[t._v("  ")]),a("q-input",{attrs:{outlined:"",dense:""},model:{value:t.statusChangeObject.stickerRangeEnd,callback:function(e){t.$set(t.statusChangeObject,"stickerRangeEnd",e)},expression:"statusChangeObject.stickerRangeEnd"}})],1)]):t._e()]):t._e()])]),a("q-card-actions",{attrs:{align:"right"}},[a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"Cancel",color:"primary"},on:{click:t.cancelStatus}}),a("q-btn",{attrs:{flat:"",label:"Confirm",color:"primary"},on:{click:t.confirmStatusChanges}})],1)],1)],1),a("dialog-draggable",{attrs:{width:700,modelDialog:t.offpremise,title:"Checked Out"},on:{onHide:function(e){t.offpremise=!1}}},[a("q-card",[a("q-toolbar",[a("q-toolbar-title",{staticClass:"row justify-between"},[t.editedData.quantity>1?a("div",[t._v("\n                    "+t._s(t.editedData.quantity-t.statusChangeObject.quantity)+"\n                    left\n                ")]):t._e()])],1),a("q-card-section",[a("div",{staticClass:"row"},[a("div",{staticClass:"col-2 q-pr-sm q-pl-sm"},[a("div",{staticClass:"text-subtitle2 q-mb-sm"},[t._v("Qty")]),a("q-input",{attrs:{outlined:"",dense:"",disable:t.editedData.quantity<=1,rules:[function(e){return e<=t.editedData.quantity||"Number cant be more than "+t.editedData.quantity}]},model:{value:t.statusChangeObject.quantity,callback:function(e){t.$set(t.statusChangeObject,"quantity",e)},expression:"statusChangeObject.quantity"}})],1),a("div",{staticClass:"col-5 q-pr-sm q-pl-sm"},[a("div",{staticClass:"text-subtitle2 q-mb-sm"},[t._v("Location")]),a("q-input",{attrs:{disable:"",outlined:"",dense:""},model:{value:t.statusChangeObject.location,callback:function(e){t.$set(t.statusChangeObject,"location",e)},expression:"statusChangeObject.location"}})],1),a("div",{staticClass:"col-5 q-pr-sm q-pl-sm"},[a("div",{staticClass:"text-subtitle2 q-mb-sm"},[t._v("Location within school")]),a("q-input",{attrs:{disable:"",outlined:"",dense:""},model:{value:t.statusChangeObject.locationWithinSchool,callback:function(e){t.$set(t.statusChangeObject,"locationWithinSchool",e)},expression:"statusChangeObject.locationWithinSchool"}})],1),a("div",{staticClass:"col-12 q-pr-sm q-pl-sm q-mt-md"},[a("div",{staticClass:"text-subtitle2 q-mb-sm"},[t._v("Note")]),a("q-input",{attrs:{outlined:"",type:"textarea",dense:""},model:{value:t.statusChangeObject.note,callback:function(e){t.$set(t.statusChangeObject,"note",e)},expression:"statusChangeObject.note"}})],1),t.editedData.identification_uni&&5==t.editedData.identification_uni.id?a("div",{staticClass:"full-width"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-3 q-pr-sm q-pl-sm q-mt-md"},[a("div",{staticClass:"text-subtitle2 q-mb-sm"},[t._v("Curent Sticker range")]),a("q-input",{attrs:{outlined:"",dense:""},model:{value:t.editedData.sticker_range_start,callback:function(e){t.$set(t.editedData,"sticker_range_start",e)},expression:"editedData.sticker_range_start"}})],1),a("div",{staticClass:"col-3 q-pr-sm q-pl-sm q-mt-md"},[a("div",{staticClass:"text-subtitle2 q-mb-sm"},[t._v("  ")]),a("q-input",{attrs:{outlined:"",dense:""},model:{value:t.editedData.sticker_range_end,callback:function(e){t.$set(t.editedData,"sticker_range_end",e)},expression:"editedData.sticker_range_end"}})],1)]),t.statusChangeObject.quantity>1&&t.statusChangeObject.quantity!=t.editedData.quantity?a("div",{staticClass:"row"},[a("div",{staticClass:"col-3 q-pr-sm q-pl-sm q-mt-md"},[a("div",{staticClass:"text-subtitle2 q-mb-sm"},[t._v("Sticker ID")]),a("q-input",{attrs:{outlined:"",dense:""},model:{value:t.statusChangeObject.stickerRangeStart,callback:function(e){t.$set(t.statusChangeObject,"stickerRangeStart",e)},expression:"statusChangeObject.stickerRangeStart"}})],1)]):t._e(),t.statusChangeObject.quantity>1?a("div",{staticClass:"row"},[a("div",{staticClass:"col-3 q-pr-sm q-pl-sm q-mt-md"},[a("div",{staticClass:"text-subtitle2 q-mb-sm"},[t._v("New Sticker range")]),a("q-input",{attrs:{outlined:"",dense:""},model:{value:t.statusChangeObject.stickerRangeStart,callback:function(e){t.$set(t.statusChangeObject,"stickerRangeStart",e)},expression:"statusChangeObject.stickerRangeStart"}})],1),a("div",{staticClass:"col-3 q-pr-sm q-pl-sm q-mt-md"},[a("div",{staticClass:"text-subtitle2 q-mb-sm"},[t._v("  ")]),a("q-input",{attrs:{outlined:"",dense:""},model:{value:t.statusChangeObject.stickerRangeEnd,callback:function(e){t.$set(t.statusChangeObject,"stickerRangeEnd",e)},expression:"statusChangeObject.stickerRangeEnd"}})],1)]):t._e()]):t._e()])]),a("q-card-actions",{attrs:{align:"right"}},[a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"Cancel",color:"primary"},on:{click:t.cancelStatus}}),a("q-btn",{attrs:{flat:"",label:"Confirm",color:"primary"},on:{click:t.confirmStatusChanges}})],1)],1)],1),a("dialog-draggable",{attrs:{width:700,modelDialog:t.disposed,title:"Disposed"},on:{onHide:function(e){t.disposed=!1}}},[a("q-card",[a("q-toolbar",[a("q-toolbar-title",{staticClass:"row justify-between"},[t.editedData.quantity>1?a("div",[t._v("\n                    "+t._s(t.editedData.quantity-t.statusChangeObject.quantity)+"\n                    left\n                ")]):t._e()])],1),a("q-card-section",[a("div",{staticClass:"row"},[a("div",{staticClass:"col-2 q-pr-sm q-pl-sm"},[a("div",{staticClass:"text-subtitle2 q-mb-sm"},[t._v("Qty")]),a("q-input",{attrs:{outlined:"",dense:"",disable:t.editedData.quantity<=1,rules:[function(e){return e<=t.editedData.quantity||"Number cant be more than "+t.editedData.quantity}]},model:{value:t.statusChangeObject.quantity,callback:function(e){t.$set(t.statusChangeObject,"quantity",e)},expression:"statusChangeObject.quantity"}})],1),a("div",{staticClass:"col-5 q-pr-sm q-pl-sm"},[a("div",{staticClass:"text-subtitle2 q-mb-sm"},[t._v("Location")]),a("q-input",{attrs:{disable:"",outlined:"",dense:""},model:{value:t.statusChangeObject.location,callback:function(e){t.$set(t.statusChangeObject,"location",e)},expression:"statusChangeObject.location"}})],1),a("div",{staticClass:"col-5 q-pr-sm q-pl-sm"},[a("div",{staticClass:"text-subtitle2 q-mb-sm"},[t._v("Location within school")]),a("q-input",{attrs:{disable:"",outlined:"",dense:""},model:{value:t.statusChangeObject.locationWithinSchool,callback:function(e){t.$set(t.statusChangeObject,"locationWithinSchool",e)},expression:"statusChangeObject.locationWithinSchool"}})],1),a("div",{staticClass:"col-9 q-pr-sm q-pl-sm q-mt-md"},[a("div",{staticClass:"text-subtitle2 q-mb-sm"},[t._v("Note")]),a("q-input",{attrs:{outlined:"",type:"textarea",dense:""},model:{value:t.statusChangeObject.note,callback:function(e){t.$set(t.statusChangeObject,"note",e)},expression:"statusChangeObject.note"}})],1),a("div",{staticClass:"col-3 q-pr-sm q-pl-sm q-mt-md"},[a("div",{staticClass:"text-subtitle2 q-mb-sm"},[t._v("Show until")]),a("q-input",{attrs:{dense:"",outlined:""},scopedSlots:t._u([{key:"append",fn:function(){return[a("q-icon",{staticClass:"cursor-pointer",attrs:{name:"event"}},[a("q-popup-proxy",{attrs:{"transition-show":"scale","transition-hide":"scale"}},[a("q-date",{attrs:{color:"edx-pagination",mask:"YYYY-MM-DD"},model:{value:t.statusChangeObject.showUntil,callback:function(e){t.$set(t.statusChangeObject,"showUntil",e)},expression:"statusChangeObject.showUntil"}},[a("div",{staticClass:"row items-center justify-end q-gutter-sm"},[a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{label:"Cancel",color:"primary",flat:""}}),a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{label:"OK",color:"primary",flat:""}})],1)])],1)],1)]},proxy:!0}]),model:{value:t.statusChangeObject.showUntil,callback:function(e){t.$set(t.statusChangeObject,"showUntil",e)},expression:"statusChangeObject.showUntil"}})],1),t.editedData.identification_uni&&5==t.editedData.identification_uni.id?a("div",{staticClass:"full-width"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-3 q-pr-sm q-pl-sm q-mt-md"},[a("div",{staticClass:"text-subtitle2 q-mb-sm"},[t._v("Curent Sticker range")]),a("q-input",{attrs:{outlined:"",dense:""},model:{value:t.editedData.sticker_range_start,callback:function(e){t.$set(t.editedData,"sticker_range_start",e)},expression:"editedData.sticker_range_start"}})],1),a("div",{staticClass:"col-3 q-pr-sm q-pl-sm q-mt-md"},[a("div",{staticClass:"text-subtitle2 q-mb-sm"},[t._v("  ")]),a("q-input",{attrs:{outlined:"",dense:""},model:{value:t.editedData.sticker_range_end,callback:function(e){t.$set(t.editedData,"sticker_range_end",e)},expression:"editedData.sticker_range_end"}})],1)]),t.statusChangeObject.quantity>1&&t.statusChangeObject.quantity!=t.editedData.quantity?a("div",{staticClass:"row"},[a("div",{staticClass:"col-3 q-pr-sm q-pl-sm q-mt-md"},[a("div",{staticClass:"text-subtitle2 q-mb-sm"},[t._v("Sticker ID")]),a("q-input",{attrs:{outlined:"",dense:""},model:{value:t.statusChangeObject.stickerRangeStart,callback:function(e){t.$set(t.statusChangeObject,"stickerRangeStart",e)},expression:"statusChangeObject.stickerRangeStart"}})],1)]):t._e(),t.statusChangeObject.quantity>1?a("div",{staticClass:"row"},[a("div",{staticClass:"col-3 q-pr-sm q-pl-sm q-mt-md"},[a("div",{staticClass:"text-subtitle2 q-mb-sm"},[t._v("New Sticker range")]),a("q-input",{attrs:{outlined:"",dense:""},model:{value:t.statusChangeObject.stickerRangeStart,callback:function(e){t.$set(t.statusChangeObject,"stickerRangeStart",e)},expression:"statusChangeObject.stickerRangeStart"}})],1),a("div",{staticClass:"col-3 q-pr-sm q-pl-sm q-mt-md"},[a("div",{staticClass:"text-subtitle2 q-mb-sm"},[t._v("  ")]),a("q-input",{attrs:{outlined:"",dense:""},model:{value:t.statusChangeObject.stickerRangeEnd,callback:function(e){t.$set(t.statusChangeObject,"stickerRangeEnd",e)},expression:"statusChangeObject.stickerRangeEnd"}})],1)]):t._e()]):t._e()])]),a("q-card-actions",{attrs:{align:"right"}},[a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"Cancel",color:"primary"},on:{click:t.cancelStatus}}),a("q-btn",{attrs:{flat:"",label:"Confirm",color:"primary"},on:{click:t.confirmStatusChanges}})],1)],1)],1),a("dialog-draggable",{attrs:{width:700,modelDialog:t.lost,title:"Lost"},on:{onHide:function(e){t.lost=!1}}},[a("q-card",[a("q-toolbar",[a("q-toolbar-title",{staticClass:"row justify-between"},[t.editedData.quantity>1?a("div",[t._v("\n                    "+t._s(t.editedData.quantity-t.statusChangeObject.quantity)+"\n                    left\n                ")]):t._e()])],1),a("q-card-section",[a("div",{staticClass:"row"},[a("div",{staticClass:"col-2 q-pr-sm q-pl-sm"},[a("div",{staticClass:"text-subtitle2 q-mb-sm"},[t._v("Qty")]),a("q-input",{attrs:{outlined:"",dense:"",disable:t.editedData.quantity<=1,rules:[function(e){return e<=t.editedData.quantity||"Number cant be more than "+t.editedData.quantity}]},model:{value:t.statusChangeObject.quantity,callback:function(e){t.$set(t.statusChangeObject,"quantity",e)},expression:"statusChangeObject.quantity"}})],1),a("div",{staticClass:"col-5 q-pr-sm q-pl-sm"},[a("div",{staticClass:"text-subtitle2 q-mb-sm"},[t._v("Location")]),a("q-input",{attrs:{disable:"",outlined:"",dense:""},model:{value:t.statusChangeObject.location,callback:function(e){t.$set(t.statusChangeObject,"location",e)},expression:"statusChangeObject.location"}})],1),a("div",{staticClass:"col-5 q-pr-sm q-pl-sm"},[a("div",{staticClass:"text-subtitle2 q-mb-sm"},[t._v("Location within school")]),a("q-input",{attrs:{disable:"",outlined:"",dense:""},model:{value:t.statusChangeObject.locationWithinSchool,callback:function(e){t.$set(t.statusChangeObject,"locationWithinSchool",e)},expression:"statusChangeObject.locationWithinSchool"}})],1),a("div",{staticClass:"col-9 q-pr-sm q-pl-sm q-mt-md"},[a("div",{staticClass:"text-subtitle2 q-mb-sm"},[t._v("Note")]),a("q-input",{attrs:{outlined:"",type:"textarea",dense:""},model:{value:t.statusChangeObject.note,callback:function(e){t.$set(t.statusChangeObject,"note",e)},expression:"statusChangeObject.note"}})],1),a("div",{staticClass:"col-3 q-pr-sm q-pl-sm q-mt-md"},[a("div",{staticClass:"text-subtitle2 q-mb-sm"},[t._v("Show until")]),a("q-input",{attrs:{dense:"",outlined:""},scopedSlots:t._u([{key:"append",fn:function(){return[a("q-icon",{staticClass:"cursor-pointer",attrs:{name:"event"}},[a("q-popup-proxy",{attrs:{"transition-show":"scale","transition-hide":"scale"}},[a("q-date",{attrs:{color:"edx-pagination",mask:"YYYY-MM-DD"},model:{value:t.statusChangeObject.showUntil,callback:function(e){t.$set(t.statusChangeObject,"showUntil",e)},expression:"statusChangeObject.showUntil"}},[a("div",{staticClass:"row items-center justify-end q-gutter-sm"},[a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{label:"Cancel",color:"primary",flat:""}}),a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{label:"OK",color:"primary",flat:""}})],1)])],1)],1)]},proxy:!0}]),model:{value:t.statusChangeObject.showUntil,callback:function(e){t.$set(t.statusChangeObject,"showUntil",e)},expression:"statusChangeObject.showUntil"}})],1),t.editedData.identification_uni&&5==t.editedData.identification_uni.id?a("div",{staticClass:"full-width"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-3 q-pr-sm q-pl-sm q-mt-md"},[a("div",{staticClass:"text-subtitle2 q-mb-sm"},[t._v("Curent Sticker range")]),a("q-input",{attrs:{outlined:"",dense:""},model:{value:t.editedData.sticker_range_start,callback:function(e){t.$set(t.editedData,"sticker_range_start",e)},expression:"editedData.sticker_range_start"}})],1),a("div",{staticClass:"col-3 q-pr-sm q-pl-sm q-mt-md"},[a("div",{staticClass:"text-subtitle2 q-mb-sm"},[t._v("  ")]),a("q-input",{attrs:{outlined:"",dense:""},model:{value:t.editedData.sticker_range_end,callback:function(e){t.$set(t.editedData,"sticker_range_end",e)},expression:"editedData.sticker_range_end"}})],1)]),t.statusChangeObject.quantity<=1?a("div",{staticClass:"row"},[a("div",{staticClass:"col-3 q-pr-sm q-pl-sm q-mt-md"},[a("div",{staticClass:"text-subtitle2 q-mb-sm"},[t._v("Sticker ID")]),a("q-input",{attrs:{outlined:"",dense:""},model:{value:t.statusChangeObject.stickerRangeStart,callback:function(e){t.$set(t.statusChangeObject,"stickerRangeStart",e)},expression:"statusChangeObject.stickerRangeStart"}})],1)]):t._e(),t.statusChangeObject.quantity>1&&t.statusChangeObject.quantity!=t.editedData.quantity?a("div",{staticClass:"row"},[a("div",{staticClass:"col-3 q-pr-sm q-pl-sm q-mt-md"},[a("div",{staticClass:"text-subtitle2 q-mb-sm"},[t._v("New Sticker range")]),a("q-input",{attrs:{outlined:"",dense:""},model:{value:t.statusChangeObject.stickerRangeStart,callback:function(e){t.$set(t.statusChangeObject,"stickerRangeStart",e)},expression:"statusChangeObject.stickerRangeStart"}})],1),a("div",{staticClass:"col-3 q-pr-sm q-pl-sm q-mt-md"},[a("div",{staticClass:"text-subtitle2 q-mb-sm"},[t._v("  ")]),a("q-input",{attrs:{outlined:"",dense:""},model:{value:t.statusChangeObject.stickerRangeEnd,callback:function(e){t.$set(t.statusChangeObject,"stickerRangeEnd",e)},expression:"statusChangeObject.stickerRangeEnd"}})],1)]):t._e()]):t._e()])]),a("q-card-actions",{attrs:{align:"right"}},[a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"Cancel",color:"primary"},on:{click:t.cancelStatus}}),a("q-btn",{attrs:{flat:"",label:"Confirm",color:"primary"},on:{click:t.confirmStatusChanges}})],1)],1)],1),a("dialog-draggable",{attrs:{width:700,modelDialog:t.stolen,title:"Stolen"},on:{onHide:function(e){t.stolen=!1}}},[a("q-card",[a("q-toolbar",[a("q-toolbar-title",{staticClass:"row justify-between"},[t.editedData.quantity>1?a("div",[t._v("\n                    "+t._s(t.editedData.quantity-t.statusChangeObject.quantity)+"\n                    left\n                ")]):t._e()])],1),a("q-card-section",[a("div",{staticClass:"row"},[a("div",{staticClass:"col-2 q-pr-sm q-pl-sm"},[a("div",{staticClass:"text-subtitle2 q-mb-sm"},[t._v("Qty")]),a("q-input",{attrs:{outlined:"",dense:"",disable:t.editedData.quantity<=1,rules:[function(e){return e<=t.editedData.quantity||"Number cant be more than "+t.editedData.quantity}]},model:{value:t.statusChangeObject.quantity,callback:function(e){t.$set(t.statusChangeObject,"quantity",e)},expression:"statusChangeObject.quantity"}})],1),a("div",{staticClass:"col-5 q-pr-sm q-pl-sm"},[a("div",{staticClass:"text-subtitle2 q-mb-sm"},[t._v("Location")]),a("q-input",{attrs:{disable:"",outlined:"",dense:""},model:{value:t.statusChangeObject.location,callback:function(e){t.$set(t.statusChangeObject,"location",e)},expression:"statusChangeObject.location"}})],1),a("div",{staticClass:"col-5 q-pr-sm q-pl-sm"},[a("div",{staticClass:"text-subtitle2 q-mb-sm"},[t._v("Location within school")]),a("q-input",{attrs:{disable:"",outlined:"",dense:""},model:{value:t.statusChangeObject.locationWithinSchool,callback:function(e){t.$set(t.statusChangeObject,"locationWithinSchool",e)},expression:"statusChangeObject.locationWithinSchool"}})],1),a("div",{staticClass:"col-9 q-pr-sm q-pl-sm q-mt-md"},[a("div",{staticClass:"text-subtitle2 q-mb-sm"},[t._v("Note")]),a("q-input",{attrs:{outlined:"",type:"textarea",dense:""},model:{value:t.statusChangeObject.note,callback:function(e){t.$set(t.statusChangeObject,"note",e)},expression:"statusChangeObject.note"}})],1),a("div",{staticClass:"col-3 q-pr-sm q-pl-sm q-mt-md"},[a("div",{staticClass:"text-subtitle2 q-mb-sm"},[t._v("Show until")]),a("q-input",{attrs:{dense:"",outlined:""},scopedSlots:t._u([{key:"append",fn:function(){return[a("q-icon",{staticClass:"cursor-pointer",attrs:{name:"event"}},[a("q-popup-proxy",{attrs:{"transition-show":"scale","transition-hide":"scale"}},[a("q-date",{attrs:{color:"edx-pagination",mask:"YYYY-MM-DD"},model:{value:t.statusChangeObject.showUntil,callback:function(e){t.$set(t.statusChangeObject,"showUntil",e)},expression:"statusChangeObject.showUntil"}},[a("div",{staticClass:"row items-center justify-end q-gutter-sm"},[a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{label:"Cancel",color:"primary",flat:""}}),a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{label:"OK",color:"primary",flat:""}})],1)])],1)],1)]},proxy:!0}]),model:{value:t.statusChangeObject.showUntil,callback:function(e){t.$set(t.statusChangeObject,"showUntil",e)},expression:"statusChangeObject.showUntil"}})],1),t.editedData.identification_uni&&5==t.editedData.identification_uni.id?a("div",{staticClass:"full-width"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-3 q-pr-sm q-pl-sm q-mt-md"},[a("div",{staticClass:"text-subtitle2 q-mb-sm"},[t._v("Curent Sticker range")]),a("q-input",{attrs:{outlined:"",dense:""},model:{value:t.editedData.sticker_range_start,callback:function(e){t.$set(t.editedData,"sticker_range_start",e)},expression:"editedData.sticker_range_start"}})],1),a("div",{staticClass:"col-3 q-pr-sm q-pl-sm q-mt-md"},[a("div",{staticClass:"text-subtitle2 q-mb-sm"},[t._v("  ")]),a("q-input",{attrs:{outlined:"",dense:""},model:{value:t.editedData.sticker_range_end,callback:function(e){t.$set(t.editedData,"sticker_range_end",e)},expression:"editedData.sticker_range_end"}})],1)]),t.statusChangeObject.quantity<=1?a("div",{staticClass:"row"},[a("div",{staticClass:"col-3 q-pr-sm q-pl-sm q-mt-md"},[a("div",{staticClass:"text-subtitle2 q-mb-sm"},[t._v("Sticker ID")]),a("q-input",{attrs:{outlined:"",dense:""},model:{value:t.statusChangeObject.stickerRangeStart,callback:function(e){t.$set(t.statusChangeObject,"stickerRangeStart",e)},expression:"statusChangeObject.stickerRangeStart"}})],1)]):t._e(),t.statusChangeObject.quantity>1&&t.statusChangeObject.quantity!=t.editedData.quantity?a("div",{staticClass:"row"},[a("div",{staticClass:"col-3 q-pr-sm q-pl-sm q-mt-md"},[a("div",{staticClass:"text-subtitle2 q-mb-sm"},[t._v("New Sticker range")]),a("q-input",{attrs:{outlined:"",dense:""},model:{value:t.statusChangeObject.stickerRangeStart,callback:function(e){t.$set(t.statusChangeObject,"stickerRangeStart",e)},expression:"statusChangeObject.stickerRangeStart"}})],1),a("div",{staticClass:"col-3 q-pr-sm q-pl-sm q-mt-md"},[a("div",{staticClass:"text-subtitle2 q-mb-sm"},[t._v("  ")]),a("q-input",{attrs:{outlined:"",dense:""},model:{value:t.statusChangeObject.stickerRangeEnd,callback:function(e){t.$set(t.statusChangeObject,"stickerRangeEnd",e)},expression:"statusChangeObject.stickerRangeEnd"}})],1)]):t._e()]):t._e()])]),a("q-card-actions",{attrs:{align:"right"}},[a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"Cancel",color:"primary"},on:{click:t.cancelStatus}}),a("q-btn",{attrs:{flat:"",label:"Confirm",color:"primary"},on:{click:t.confirmStatusChanges}})],1)],1)],1),a("dialog-draggable",{attrs:{width:700,modelDialog:t.transfered,title:"Transfered"},on:{onHide:function(e){t.transfered=!1}}},[a("q-card",[a("q-toolbar",[a("q-toolbar-title",{staticClass:"row justify-between"},[t.editedData.quantity>1?a("div",[t._v("\n                "+t._s(t.editedData.quantity-t.statusChangeObject.quantity)+"\n                left\n                ")]):t._e()])],1),a("q-card-section",[a("div",{staticClass:"row"},[a("div",{staticClass:"col-2 q-pr-sm q-pl-sm"},[a("div",{staticClass:"text-subtitle2 q-mb-sm"},[t._v("Qty")]),a("q-input",{attrs:{outlined:"",dense:"",disable:t.editedData.quantity<=1,rules:[function(e){return e<=t.editedData.quantity||"Number cant be more than "+t.editedData.quantity}]},model:{value:t.statusChangeObject.quantity,callback:function(e){t.$set(t.statusChangeObject,"quantity",e)},expression:"statusChangeObject.quantity"}})],1),a("div",{staticClass:"col-4 q-pr-sm q-pl-sm"},[a("div",{staticClass:"text-subtitle2 q-mb-sm"},[t._v("School to transfer to")]),a("q-select",{attrs:{dense:"",outlined:"","use-input":"","hide-selected":"","fill-input":"","input-debounce":"0",options:t.optionsSchool},on:{filter:t.filterSchool},scopedSlots:t._u([{key:"no-option",fn:function(){return[a("q-item",[a("q-item-section",{staticClass:"text-grey"},[t._v("\n                        No results\n                        ")])],1)]},proxy:!0}]),model:{value:t.statusChangeObject.schoolToTransfer,callback:function(e){t.$set(t.statusChangeObject,"schoolToTransfer",e)},expression:"statusChangeObject.schoolToTransfer"}})],1),a("div",{staticClass:"col-2 q-pr-sm q-pl-sm"},[a("div",{staticClass:"text-subtitle2 q-mb-sm"},[t._v("Allocation")]),a("q-select",{attrs:{outlined:"",dense:"",options:t.optionsAllocation},model:{value:t.allocationSelected,callback:function(e){t.allocationSelected=e},expression:"allocationSelected"}})],1),a("div",{staticClass:"col-4 q-pr-sm q-pl-sm"},[a("div",{staticClass:"text-subtitle2 q-mb-sm"},[t._v("Location within school")]),a("q-input",{attrs:{outlined:"",dense:""},model:{value:t.statusChangeObject.locationWithinSchool,callback:function(e){t.$set(t.statusChangeObject,"locationWithinSchool",e)},expression:"statusChangeObject.locationWithinSchool"}})],1),a("div",{staticClass:"col-9 q-pr-sm q-pl-sm q-mt-md"},[a("div",{staticClass:"text-subtitle2 q-mb-sm"},[t._v("Transfer Note")]),a("q-input",{attrs:{outlined:"",type:"textarea",dense:""},model:{value:t.statusChangeObject.note,callback:function(e){t.$set(t.statusChangeObject,"note",e)},expression:"statusChangeObject.note"}})],1),a("div",{staticClass:"col-3 q-pr-sm q-pl-sm q-mt-md"},[a("div",{staticClass:"text-subtitle2 q-mb-sm"},[t._v("Show until")]),a("q-input",{attrs:{dense:"",outlined:""},scopedSlots:t._u([{key:"append",fn:function(){return[a("q-icon",{staticClass:"cursor-pointer",attrs:{name:"event"}},[a("q-popup-proxy",{attrs:{"transition-show":"scale","transition-hide":"scale"}},[a("q-date",{attrs:{color:"edx-pagination",mask:"YYYY-MM-DD"},model:{value:t.statusChangeObject.showUntil,callback:function(e){t.$set(t.statusChangeObject,"showUntil",e)},expression:"statusChangeObject.showUntil"}},[a("div",{staticClass:"row items-center justify-end q-gutter-sm"},[a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{label:"Cancel",color:"primary",flat:""}}),a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{label:"OK",color:"primary",flat:""}})],1)])],1)],1)]},proxy:!0}]),model:{value:t.statusChangeObject.showUntil,callback:function(e){t.$set(t.statusChangeObject,"showUntil",e)},expression:"statusChangeObject.showUntil"}})],1),t.editedData.identification_uni&&5==t.editedData.identification_uni.id?a("div",{staticClass:"full-width"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-3 q-pr-sm q-pl-sm q-mt-md"},[a("div",{staticClass:"text-subtitle2 q-mb-sm"},[t._v("Curent Sticker range")]),a("q-input",{attrs:{outlined:"",dense:""},model:{value:t.editedData.sticker_range_start,callback:function(e){t.$set(t.editedData,"sticker_range_start",e)},expression:"editedData.sticker_range_start"}})],1),a("div",{staticClass:"col-3 q-pr-sm q-pl-sm q-mt-md"},[a("div",{staticClass:"text-subtitle2 q-mb-sm"},[t._v("  ")]),a("q-input",{attrs:{outlined:"",dense:""},model:{value:t.editedData.sticker_range_end,callback:function(e){t.$set(t.editedData,"sticker_range_end",e)},expression:"editedData.sticker_range_end"}})],1)]),t.statusChangeObject.quantity<=1?a("div",{staticClass:"row"},[a("div",{staticClass:"col-3 q-pr-sm q-pl-sm q-mt-md"},[a("div",{staticClass:"text-subtitle2 q-mb-sm"},[t._v("Sticker ID")]),a("q-input",{attrs:{outlined:"",dense:""},model:{value:t.statusChangeObject.stickerRangeStart,callback:function(e){t.$set(t.statusChangeObject,"stickerRangeStart",e)},expression:"statusChangeObject.stickerRangeStart"}})],1)]):t._e(),t.statusChangeObject.quantity>1&&t.statusChangeObject.quantity!=t.editedData.quantity?a("div",{staticClass:"row"},[a("div",{staticClass:"col-3 q-pr-sm q-pl-sm q-mt-md"},[a("div",{staticClass:"text-subtitle2 q-mb-sm"},[t._v("New Sticker range")]),a("q-input",{attrs:{outlined:"",dense:""},model:{value:t.statusChangeObject.stickerRangeStart,callback:function(e){t.$set(t.statusChangeObject,"stickerRangeStart",e)},expression:"statusChangeObject.stickerRangeStart"}})],1),a("div",{staticClass:"col-3 q-pr-sm q-pl-sm q-mt-md"},[a("div",{staticClass:"text-subtitle2 q-mb-sm"},[t._v("  ")]),a("q-input",{attrs:{outlined:"",dense:""},model:{value:t.statusChangeObject.stickerRangeEnd,callback:function(e){t.$set(t.statusChangeObject,"stickerRangeEnd",e)},expression:"statusChangeObject.stickerRangeEnd"}})],1)]):t._e()]):t._e()])]),a("q-card-actions",{attrs:{align:"right"}},[a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"Cancel",color:"primary"},on:{click:t.cancelStatus}}),a("q-btn",{attrs:{flat:"",label:"Confirm",color:"primary"},on:{click:t.confirmStatusChanges}})],1)],1)],1),a("dialog-draggable",{attrs:{width:700,modelDialog:t.stored,title:"Stored"},on:{onHide:function(e){t.stored=!1}}},[a("q-card",[a("q-toolbar",[a("q-toolbar-title",{staticClass:"row justify-between"},[t.editedData.quantity>1?a("div",[t._v("\n                    "+t._s(t.editedData.quantity-t.statusChangeObject.quantity)+"\n                    left\n                ")]):t._e()])],1),a("q-card-section",[a("div",{staticClass:"row"},[a("div",{staticClass:"col-2 q-pr-sm q-pl-sm"},[a("div",{staticClass:"text-subtitle2 q-mb-sm"},[t._v("Qty")]),a("q-input",{attrs:{outlined:"",dense:"",disable:t.editedData.quantity<=1,rules:[function(e){return e<=t.editedData.quantity||"Number cant be more than "+t.editedData.quantity}]},model:{value:t.statusChangeObject.quantity,callback:function(e){t.$set(t.statusChangeObject,"quantity",e)},expression:"statusChangeObject.quantity"}})],1),a("div",{staticClass:"col-5 q-pr-sm q-pl-sm"},[a("div",{staticClass:"text-subtitle2 q-mb-sm"},[t._v("Location")]),a("q-input",{attrs:{disable:"",outlined:"",dense:""},model:{value:t.statusChangeObject.location,callback:function(e){t.$set(t.statusChangeObject,"location",e)},expression:"statusChangeObject.location"}})],1),a("div",{staticClass:"col-5 q-pr-sm q-pl-sm"},[a("div",{staticClass:"text-subtitle2 q-mb-sm"},[t._v("Location within school")]),a("q-input",{attrs:{disable:"",outlined:"",dense:""},model:{value:t.statusChangeObject.locationWithinSchool,callback:function(e){t.$set(t.statusChangeObject,"locationWithinSchool",e)},expression:"statusChangeObject.locationWithinSchool"}})],1),a("div",{staticClass:"col-9 q-pr-sm q-pl-sm q-mt-md"},[a("div",{staticClass:"text-subtitle2 q-mb-sm"},[t._v("Note")]),a("q-input",{attrs:{outlined:"",type:"textarea",dense:""},model:{value:t.statusChangeObject.note,callback:function(e){t.$set(t.statusChangeObject,"note",e)},expression:"statusChangeObject.note"}})],1),a("div",{staticClass:"col-3 q-pr-sm q-pl-sm q-mt-md"},[a("div",{staticClass:"text-subtitle2 q-mb-sm"},[t._v("Show until")]),a("q-input",{attrs:{dense:"",outlined:""},scopedSlots:t._u([{key:"append",fn:function(){return[a("q-icon",{staticClass:"cursor-pointer",attrs:{name:"event"}},[a("q-popup-proxy",{attrs:{"transition-show":"scale","transition-hide":"scale"}},[a("q-date",{attrs:{color:"edx-pagination",mask:"YYYY-MM-DD"},model:{value:t.statusChangeObject.showUntil,callback:function(e){t.$set(t.statusChangeObject,"showUntil",e)},expression:"statusChangeObject.showUntil"}},[a("div",{staticClass:"row items-center justify-end q-gutter-sm"},[a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{label:"Cancel",color:"primary",flat:""}}),a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{label:"OK",color:"primary",flat:""}})],1)])],1)],1)]},proxy:!0}]),model:{value:t.statusChangeObject.showUntil,callback:function(e){t.$set(t.statusChangeObject,"showUntil",e)},expression:"statusChangeObject.showUntil"}})],1),t.editedData.identification_uni&&5==t.editedData.identification_uni.id?a("div",{staticClass:"full-width"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-3 q-pr-sm q-pl-sm q-mt-md"},[a("div",{staticClass:"text-subtitle2 q-mb-sm"},[t._v("Curent Sticker range")]),a("q-input",{attrs:{outlined:"",dense:""},model:{value:t.editedData.sticker_range_start,callback:function(e){t.$set(t.editedData,"sticker_range_start",e)},expression:"editedData.sticker_range_start"}})],1),a("div",{staticClass:"col-3 q-pr-sm q-pl-sm q-mt-md"},[a("div",{staticClass:"text-subtitle2 q-mb-sm"},[t._v("  ")]),a("q-input",{attrs:{outlined:"",dense:""},model:{value:t.editedData.sticker_range_end,callback:function(e){t.$set(t.editedData,"sticker_range_end",e)},expression:"editedData.sticker_range_end"}})],1)]),t.statusChangeObject.quantity<=1?a("div",{staticClass:"row"},[a("div",{staticClass:"col-3 q-pr-sm q-pl-sm q-mt-md"},[a("div",{staticClass:"text-subtitle2 q-mb-sm"},[t._v("Sticker ID")]),a("q-input",{attrs:{outlined:"",dense:""},model:{value:t.statusChangeObject.stickerRangeStart,callback:function(e){t.$set(t.statusChangeObject,"stickerRangeStart",e)},expression:"statusChangeObject.stickerRangeStart"}})],1)]):t._e(),t.statusChangeObject.quantity>1&&t.statusChangeObject.quantity!=t.editedData.quantity?a("div",{staticClass:"row"},[a("div",{staticClass:"col-3 q-pr-sm q-pl-sm q-mt-md"},[a("div",{staticClass:"text-subtitle2 q-mb-sm"},[t._v("New Sticker range")]),a("q-input",{attrs:{outlined:"",dense:""},model:{value:t.statusChangeObject.stickerRangeStart,callback:function(e){t.$set(t.statusChangeObject,"stickerRangeStart",e)},expression:"statusChangeObject.stickerRangeStart"}})],1),a("div",{staticClass:"col-3 q-pr-sm q-pl-sm q-mt-md"},[a("div",{staticClass:"text-subtitle2 q-mb-sm"},[t._v("  ")]),a("q-input",{attrs:{outlined:"",dense:""},model:{value:t.statusChangeObject.stickerRangeEnd,callback:function(e){t.$set(t.statusChangeObject,"stickerRangeEnd",e)},expression:"statusChangeObject.stickerRangeEnd"}})],1)]):t._e()]):t._e()])]),a("q-card-actions",{attrs:{align:"right"}},[a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"Cancel",color:"primary"},on:{click:t.cancelStatus}}),a("q-btn",{attrs:{flat:"",label:"Confirm",color:"primary"},on:{click:t.confirmStatusChanges}})],1)],1)],1)],1)},f=[],q={},g={props:{show:{required:!0},isEdit:{required:!0},data:{required:!0},tab:{required:!0}},components:{dialogDraggable:b["a"]},data:function(){return{loading:!1,editedData:{},optionsCategory:[],optionsCategoryForFilter:[],optionsCondition:[],optionsStatus:[],optionsSupplier:[],optionsSupplierForFilter:[],optionsIdentifier:[],optionsCampus:[],optionsSchool:[],optionsSchoolForFilter:[],optionsAllocation:[{id:1,label:"Title I"},{id:2,label:"Title II"},{id:3,label:"Title III"},{id:4,label:"Title IV"},{id:5,label:"ESSER"},{id:6,label:"GEEP"}],allocationSelected:"1"==this.tab&&{id:1,label:"Title I"},statusChangeObject:{},statusChanged:!1,date:"2020-06-06",onpremise:!1,offpremise:!1,disposed:!1,lost:!1,stolen:!1,transfered:!1,stored:!1}},methods:{closePopup:function(){this.$emit("togglePopup",!1)},getAdditionalInfo:function(t){var e=this,a={method:"GET",url:c["a"].getAdditionalInfoForInventory+"/"+t,headers:{Accept:"application/json"}};d()(a).then((function(t){for(var a=[],s=0;s<t.data.conditions.length;s++){var i={id:t.data.conditions[s].id,label:t.data.conditions[s].condition_name};a.push(i)}e.optionsCondition=a,console.log("CONDITION ARR =",e.optionsCondition);for(var n=[],o=0;o<t.data.status.length;o++){var l={id:t.data.status[o].id,label:t.data.status[o].status_name};n.push(l)}e.optionsStatus=n;for(var d=[],c=0;c<t.data.categories.length;c++){t.data.categories[c].category.name&&t.data.categories[c].category.name;var r,u,p,m={id:null===(r=t.data.categories[c].category)||void 0===r?void 0:r.id,label:null===(u=t.data.categories[c].category)||void 0===u?void 0:u.name,value:null===(p=t.data.categories[c].category)||void 0===p?void 0:p.id};d.push(m)}e.optionsCategory=d,e.optionsCategoryForFilter=d;for(var h=[],b=0;b<t.data.suppliers.length;b++){var v,f,q=t.data.suppliers[b].short_name?t.data.suppliers[b].short_name:"",g={id:null===(v=t.data.suppliers[b])||void 0===v?void 0:v.id,label:q,value:null===(f=t.data.suppliers[b])||void 0===f?void 0:f.id};h.push(g)}e.optionsSupplier=h,e.optionsSupplierForFilter=h;for(var C=[],_=0;_<t.data.identifications.length;_++){var y={id:t.data.identifications[_].id,label:t.data.identifications[_].identifcation_name};C.push(y)}e.optionsIdentifier=C}))},getCampueses:function(){var t=this,e={method:"GET",url:c["a"].getCampuses+this.$route.params.id,headers:{Accept:"application/json"}};d()(e).then((function(e){for(var a=e.data[0].campus,s=[{id:null,label:"N/A"}],i=0;i<a.length;i++)s.push({id:a[i].id,label:a[i].name});t.optionsCampus=s}))},getSchools:function(){var t=this,e={method:"GET",url:c["a"].getSchools,headers:{Accept:"application/json"}};d()(e).then((function(e){for(var a=[],s=0;s<e.data.schools.length;s++){var i={id:e.data.schools[s].id,name:e.data.schools[s].school_name,label:e.data.schools[s].school_name,value:e.data.schools[s].id};a.push(i)}t.optionsSchool=a,t.optionsSchoolForFilter=a}))},changeStatus:function(){if(this.statusChangeObject={quantity:this.editedData.quantity,schoolToTransfer:null,location:"",locationWithinSchool:"",note:"",serial:"",showUntil:"",stickerRangeStart:"",stickerRangeEnd:"",newSerial:""},this.statusChangeObject.serial=this.editedData.serial_number,"On Premise"==this.editedData.status_uni.label)this.onpremise=!0,this.statusChangeObject.location=this.$route.query.name,this.editedData.quantity<=1&&(this.statusChangeObject.locationWithinSchool="");else if("Checked Out"==this.editedData.status_uni.label)this.offpremise=!0,this.statusChangeObject.location="Checked Out",this.editedData.quantity<=1&&(this.statusChangeObject.locationWithinSchool="");else if("Disposed"==this.editedData.status_uni.label)this.disposed=!0,this.statusChangeObject.location="Disposed",this.editedData.quantity<=1&&(this.statusChangeObject.locationWithinSchool="");else if("Lost"==this.editedData.status_uni.label)this.lost=!0,this.statusChangeObject.location="Lost",this.editedData.quantity<=1&&(this.statusChangeObject.locationWithinSchool="");else if("Stolen"==this.editedData.status_uni.label)this.stolen=!0,this.statusChangeObject.location="Stolen",this.editedData.quantity<=1&&(this.statusChangeObject.locationWithinSchool="");else if("Transfered"==this.editedData.status_uni.label){switch(this.transfered=!0,this.statusChangeObject.location="Transfered",this.tab){case"1":this.allocationSelected=this.optionsAllocation[0];break;case"2":this.allocationSelected=this.optionsAllocation[1];break;case"3":this.allocationSelected=this.optionsAllocation[2];break;case"4":this.allocationSelected=this.optionsAllocation[3];break;case"5":this.allocationSelected=this.optionsAllocation[4];break;case"6":this.allocationSelected=this.optionsAllocation[5];break}this.editedData.quantity<=1&&(this.statusChangeObject.locationWithinSchool="")}else this.stored=!0,this.statusChangeObject.location="Stored",this.editedData.quantity<=1&&(this.statusChangeObject.locationWithinSchool="")},cancelStatus:function(){var t=JSON.parse(q);this.editedData.status_uni=t.status_uni,this.statusChanged=!1},confirmStatusChanges:function(){this.onpremise=!1,this.offpremise=!1,this.disposed=!1,this.lost=!1,this.stolen=!1,this.transfered=!1,this.stored=!1,this.statusChanged=!0},filterCategory:function(t,e,a){var s=this;e((function(){if(t){var e=t.toLowerCase();s.optionsCategory=s.optionsCategoryForFilter.filter((function(t){return t.label.toLowerCase().indexOf(e)>-1}))}}))},filterSupplier:function(t,e,a){var s=this;e((function(){if(t){var e=t.toLowerCase();s.optionsSupplier=s.optionsSupplierForFilter.filter((function(t){return t.label.toLowerCase().indexOf(e)>-1}))}}))},filterSchool:function(t,e,a){var s=this;e((function(){if(t){var e=t.toLowerCase();s.optionsSchool=s.optionsSchoolForFilter.filter((function(t){return t.label.toLowerCase().indexOf(e)>-1}))}}))},editInventory:function(){var t=this,e={school_id:this.editedData.school_id,allocation_type_id:parseInt(this.editedData.allocation_type_id),quantity:this.editedData.quantity,inventory_category_type_id:this.editedData.inventory_category_uni.id,item_name:this.editedData.item_name,supplier_id:this.editedData.inventory_supplier_uni.id,item_cost:this.editedData.item_cost,inventory_condition_type_id:this.editedData.condition.id,status_id:this.editedData.status_uni.id,inventory_identification_type_id:this.editedData.identification_uni.id,district_assigned_id:this.editedData.district_assigned_id,serial_number:this.editedData.serial_number,location:this.editedData.location,location_information_note:this.editedData.location_information_note,note:this.editedData.note,purchase_date:this.editedData.purchase_date,visibility_date:this.editedData.visibility_date,transition_date:this.editedData.relocation_date,transition_information_note:this.editedData.transition_information_note},a={status_id:this.editedData.status_uni.id,quantity:parseInt(this.statusChangeObject.quantity),sticker_range_start:this.editedData.sticker_range_start,sticker_range_end:this.editedData.sticker_range_end,location:this.statusChangeObject.location,location_information_note:this.statusChangeObject.locationWithinSchool,note:this.statusChangeObject.note,visibility_date:this.statusChangeObject.showUntil,new_sticker_range_start:this.statusChangeObject.stickerRangeStart,new_sticker_range_end:this.statusChangeObject.stickerRangeEnd,allocation_type_id:this.allocationSelected.id,school_id:this.statusChangeObject.schoolToTransfer&&this.statusChangeObject.schoolToTransfer.id,purchase_date:this.editedData.purchase_date},s={};if(this.isEdit){s.updateData=e,this.statusChanged?s.modifyData=a:s.modifyData={};var i=this.editedData.id,n={method:"PUT",url:c["a"].modifyInventoryStatus+i,headers:{Accept:"application/json"},data:s};d()(n).then((function(e){t.$q.notify({message:"Inventory updated successfully!",type:"positive"}),t.$emit("updateTableList",{}),t.statusChanged=!1,t.closePopup()}))}else{e.schoolYearId=21;var o={method:"POST",url:c["a"].addInventory,headers:{Accept:"application/json"},data:e};d()(o).then((function(e){t.$q.notify({message:"Inventory Added successfully!",type:"positive"}),t.$emit("updateTableList",{}),t.isEdit=!1,t.statusChanged=!1,t.closePopup()}))}}},computed:{showPopup:function(){return this.show}},watch:{show:function(t){this.$emit("togglePopup",t),t&&(this.editedData=this.data,q=JSON.stringify(this.data),this.getAdditionalInfo(this.tab),this.getCampueses(),this.getSchools())}}},C=g,_=a("2877"),y=Object(_["a"])(C,v,f,!1,null,null,null),x=y.exports,k=500,D={name:"InventoryTitle1",components:{dialogDraggable:b["a"],InventoryPopup:x},props:{type:{required:!0}},data:function(){var t;return t={optionsCategory:[],optionsCategoryForFilter:[],optionsCondition:[],optionsStatus:[],optionsSupplier:[],optionsSupplierForFilter:[],optionsIdentifier:[],showPopup:!1,isEdit:!1,mode:"list",tab:"1",pages:1,pagination:{rowsPerPage:10},current:1,count:10,data:[],tempDataX:[],columns:[{name:"toggle",style:"width: 30px"},{name:"qty",align:"left",label:"Qty",field:"qty",sortable:!0},{name:"category",align:"left",label:"Category",field:"category",sortable:!0},{name:"itemName",align:"left",label:"Item Name",field:"itemName",sortable:!0},{name:"vendor",align:"left",label:"Vendor",field:"vendor",sortable:!0},{name:"costPerItem",align:"left",label:"Cost Per Item",field:"costPerItem",sortable:!0},{name:"totalCost",align:"left",label:"Total Cost",field:"totalCost",sortable:!0},{name:"dateOfPurchase",align:"left",label:"Date Of Purchase",field:"dateOfPurchase",sortable:!0},{name:"condition",align:"left",label:"Condition",field:"condition",sortable:!0},{name:"status",align:"left",label:"Status",field:"status",sortable:!0},{name:"actions",align:"left",label:"Actions",field:"actions",sortable:!0}],editedItem:{},filter:"",filterCategoryValue:"",filterVendor:"",filterCondition:"",filterStatus:"",loading:!0,confirm:!1,typeModel:"",optionsSchool:[],optionsSchoolForFilter:[],optionsAllocation:[{id:1,label:"Title I"},{id:2,label:"Title II"},{id:3,label:"Title III"},{id:4,label:"Title IV"},{id:5,label:"ESSER"},{id:6,label:"GEEP"}],allocationSelected:"1"==this.tab&&{id:1,label:"Title I"}},m()(t,"typeModel",null),m()(t,"addNew",!1),m()(t,"barInfo",{}),m()(t,"rowsPerPageArr",["5","10","25","50","75","100"]),m()(t,"onpremise",!1),m()(t,"offpremise",!1),m()(t,"disposed",!1),m()(t,"lost",!1),m()(t,"stolen",!1),m()(t,"transfered",!1),m()(t,"stored",!1),m()(t,"date","2020-06-06"),m()(t,"statusChangeObject",{}),m()(t,"statusChanged",!1),t},methods:{togglePopup:function(t){this.showPopup=t},updateTableList:function(t){this.getInventoryByType(parseInt(this.tab),this.$route.params.id,this.count,this.current)},openDuplicatePopup:function(t){this.showPopup=!0,this.isEdit=!1,this.editedItem=t},openAddPopup:function(){this.showPopup=!0,this.isEdit=!1,this.editedItem={}},openEditPopup:function(t){this.showPopup=!0,this.isEdit=!0,this.editedItem=t},openDeleteModal:function(t){this.item=t,this.confirm=!0},deleteItem:function(){var t=this,e=this.item,a={method:"DELETE",url:c["a"].getInventory+e.id,headers:{Accept:"application/json"}};d()(a).then((function(a){console.log("DELETE RES :",a);var s=t.data.indexOf(e);t.data.splice(s,1),t.$q.notify({message:a.data,type:"positive"})}))},filterType:function(){this.typeModel?"Professional Development"==this.typeModel?this.data=this.tempDataX.filter((function(t){return"PD"==t.type})):this.data=this.tempDataX.filter((function(t){return"FE"==t.type})):this.data=this.tempDataX},exportTable:function(){var t=this,e=[this.columns.map((function(t){return wrapCsvValue(t.label)}))].concat(this.data.map((function(e){return t.columns.map((function(t){return wrapCsvValue("function"===typeof t.field?t.field(e):e[void 0===t.field?t.name:t.field],t.format)})).join(",")}))).join("\r\n"),a=Object(o["d"])("table-export.csv",e,"text/csv");!0!==a&&this.$q.notify({message:"Browser denied file download...",color:"negative",icon:"warning"})},keyUpFilter:function(){console.log("Key up"),clearTimeout(s),s=setTimeout(this.doneTyping,k)},keyDownFilter:function(){console.log("Key down"),clearTimeout(s)},doneTyping:function(){console.log("Typing done!"),(this.filter.length>1||0==this.filter.length)&&(console.log("Send Request..."),this.filterInventory())},changePagination:function(t){console.log("change pagination"),this.current=t,this.getInventoryByType(parseInt(this.tab),this.$route.params.id,this.count,t)},changeRowsPerPage:function(){console.log("changeRowsPerPage"),this.count=this.pagination.rowsPerPage,this.current=1,this.getInventoryByType(parseInt(this.tab),this.$route.params.id,this.count,this.current)},identifierCheckQuantity:function(t){this.editedItem=this.tempDataX[t];var e=this.optionsIdentifier.findIndex((function(t){return 5==t.id})),a=this.optionsIdentifier.findIndex((function(t){return 2==t.id}));this.editedItem.quantity<=1?(this.optionsIdentifier[e].disable=!0,this.optionsIdentifier[a].disable=!1):(this.optionsIdentifier[e].disable=!1,this.optionsIdentifier[a].disable=!0)},filterCategory:function(t,e,a){var s=this;e((function(){if(t){var e=t.toLowerCase();s.optionsCategory=s.optionsCategoryForFilter.filter((function(t){return t.label.toLowerCase().indexOf(e)>-1}))}}))},filterSupplier:function(t,e,a){var s=this;e((function(){if(t){var e=t.toLowerCase();s.optionsSupplier=s.optionsSupplierForFilter.filter((function(t){return t.label.toLowerCase().indexOf(e)>-1}))}}))},filterSchool:function(t,e,a){var s=this;e((function(){if(t){var e=t.toLowerCase();s.optionsSchool=s.optionsSchoolForFilter.filter((function(t){return t.label.toLowerCase().indexOf(e)>-1}))}}))},getToday:function(){var t=new Date,e=t.getUTCMonth()+1,a=t.getUTCDate(),s=t.getUTCFullYear();return s+"-"+e+"-"+a},checkQuantity:function(t,e){if(t<1){var a=this.optionsIdentifier.findIndex((function(t){return 5==t.id}));this.editedItem.quantity<=1?this.optionsIdentifier[a].disable=!0:this.optionsIdentifier[a].disable=!1,this.data[e].identification_uni=this.optionsIdentifier[0]}5==this.data[e].identification_uni.id&&this.editedItem.quantity<=1&&(this.$q.notify({message:"When Identifier status equals Sticker Range you can not change quality 1! /t asdasd",type:"negative",color:"yellow",textColor:"black"}),this.data[e].identification_uni=this.optionsIdentifier[0])},allocationParsing:function(t){console.log("DDDAAAATTTTAAAAA",t);for(var e=0;e<t.length;e++){var a,s,i;if("0"==t[e].needs_review?t[e].needs_review=!0:t[e].needs_review=!1,null!=t[e].inventory_category)t[e].inventory_category_uni={id:null===(a=t[e].inventory_category)||void 0===a?void 0:a.id,label:null===(s=t[e].inventory_category)||void 0===s?void 0:s.name,value:null===(i=t[e].inventory_category)||void 0===i?void 0:i.id};else t[e].inventory_category_uni={id:0,label:"N/A",value:0};if(null!=t[e].inventory_supplier){var n={id:t[e].inventory_supplier.id,label:t[e].inventory_supplier.short_name,value:t[e].inventory_supplier.id};t[e].inventory_supplier_uni=n}else t[e].inventory_supplier_uni={id:0,label:"N/A"};var o={id:t[e].condition_id,label:t[e].condition};t[e].condition=o;var l=t[e].status,d="";switch(l){case 1:d="On Premise";break;case 2:d="Checked Out";break;case 3:d="Disposed";break;case 4:d="Lost";break;case 5:d="Stolen";break;case 6:d="Transfered";break;case 7:d="Stored";break;default:break}var c={id:t[e].status_id,label:d};t[e].status_uni=c,t[e].campus_uni={id:t[e].campus?t[e].campus.id:null,label:t[e].campus?t[e].campus.name:"N/A"};var r={id:t[e].identification_id,label:t[e].identification};t[e].identification_uni=r,t[e].changed=!1,t[e].showEditButton=!0}return t},getAllocationBar:function(t,e){var a=this,s={method:"GET",url:c["a"].getInventoryTotalCost+t+"/"+e,headers:{Accept:"application/json"}};d()(s).then((function(t){a.barInfo=t.data,console.log("Bar info",a.barInfo)}))},getInventoryByType:function(t,e,a,s){var i=this;this.loading=!0;var n={method:"GET",url:c["a"].getInventory+t+"/"+e+"?limit="+a+"&page="+s,headers:{Accept:"application/json"}};d()(n).then((function(t){console.log("grigor ghazaryan",t.data);var e=t.data.inventory;i.pages=t.data.pagesCount;var a=i.allocationParsing(e);i.data=a,i.tempDataX=a,i.loading=!1,console.log("this.datathis.data",i.data)}))},editInventory:function(t){var e=this,a={school_id:this.editedItem.school_id,allocation_type_id:parseInt(this.editedItem.allocation_type_id),quantity:this.editedItem.quantity,inventory_category_type_id:this.editedItem.inventory_category_uni.id,item_name:this.editedItem.item_name,supplier_id:this.editedItem.inventory_supplier_uni.id,item_cost:this.editedItem.item_cost,inventory_condition_type_id:this.editedItem.condition.id,status_id:this.editedItem.status_uni.id,inventory_identification_type_id:this.editedItem.identification_uni.id,district_assigned_id:this.editedItem.district_assigned_id,serial_number:this.editedItem.serial_number,location:this.editedItem.location,location_information_note:this.editedItem.location_information_note,note:this.editedItem.note,purchase_date:this.editedItem.purchase_date},s={status_id:this.editedItem.status_uni.id,quantity:parseInt(this.statusChangeObject.quantity),sticker_range_start:this.editedItem.sticker_range_start,sticker_range_end:this.editedItem.sticker_range_end,location:this.statusChangeObject.location,location_information_note:this.statusChangeObject.locationWithinSchool,note:this.statusChangeObject.note,visibility_date:this.statusChangeObject.showUntil,new_sticker_range_start:this.statusChangeObject.stickerRangeStart,new_sticker_range_end:this.statusChangeObject.stickerRangeEnd,allocation_type_id:this.allocationSelected.id,school_id:this.statusChangeObject.schoolToTransfer&&this.statusChangeObject.schoolToTransfer.id,purchase_date:this.editedItem.purchase_date},i={};if(this.addNew){a.schoolYearId=21;var n={method:"POST",url:c["a"].addInventory,headers:{Accept:"application/json"},data:a};d()(n).then((function(a){e.$q.notify({message:"Inventory Added successfully!",type:"positive"}),e.data[t].changed=!1,e.data[t].showEditButton=!0,e.data[t].id=a.data.inventory[0].id,e.data[t].add=!1,e.addNew=!1,e.statusChanged=!1}))}else{console.log("status changed",this.statusChanged),i.updateData=a,this.statusChanged?i.modifyData=s:i.modifyData={};var o=this.editedItem.id,l={method:"PUT",url:c["a"].modifyInventoryStatus+o,headers:{Accept:"application/json"},data:i};d()(l).then((function(t){e.$q.notify({message:"Inventory updated successfully!",type:"positive"});var a,s=e.allocationParsing(t.data.currentInventory);t.data.newInventory.length&&(a=e.allocationParsing(t.data.newInventory),e.data.unshift(a[0]));var i=e.data.findIndex((function(t){return t.id===s[0].id}));e.data=Object.assign([],e.data,m()({},i,s[0])),e.statusChanged=!1}))}},getSchools:function(){var t=this,e={method:"GET",url:c["a"].getSchools,headers:{Accept:"application/json"}};d()(e).then((function(e){for(var a=[],s=0;s<e.data.length;s++){var i={id:e.data[s].id,name:e.data[s].school_name,label:e.data[s].school_name,value:e.data[s].id};a.push(i)}t.optionsSchool=a,t.optionsSchoolForFilter=a,console.log(a)}))},editInventoryRequest:function(t,e){var a=this;this.data[t].changed=!1,e.school_year_id=this.editedItem.school_year_id,e.purchase_date=this.editedItem.purchase_date;var s={method:"PUT",url:c["a"].getInventory+this.editedItem.id,headers:{Accept:"application/json"},data:e};d()(s).then((function(t){a.$q.notify({message:"Inventory updated successfully!",type:"positive"})}))},filterInventory:function(){var t=this;this.loading=!0,console.log("filterInventory");var e="";""!=this.filter&&(e+="&search="+this.filter),""!=this.filterCategoryValue&&(e+="&category="+this.filterCategoryValue.id),""!=this.filterVendor&&(e+="&supplier="+this.filterVendor.id),""!=this.filterCondition&&(e+="&condition="+this.filterCondition.id),""!=this.filterStatus&&(e+="&status="+this.filterStatus.id),console.log("URI",e);var a={method:"GET",url:c["a"].filterInventory+"1/"+this.$route.params.id+"?"+e,headers:{Accept:"application/json"}};d()(a).then((function(e){console.log("res",e),t.pages=e.data.pagesCount;var a=e.data.inventory,s=t.allocationParsing(a);t.data=s,t.tempDataX=s,t.loading=!1}))}},created:function(){this.tab=this.type,this.getInventoryByType(parseInt(this.tab),this.$route.params.id,this.count,this.current)},computed:{qFab:function(){return h["a"].qFab},qFavOpen:function(){return h["a"].qFabOpen},duplicateIcon:function(){return h["a"].duplicate},deleteIcon:function(){return h["a"].delete}}},w=D,O=Object(_["a"])(w,r,u,!1,null,null,null),j=O.exports,S={name:"Inventory",components:{InventoryTable:j},data:function(){return{schoolName:"",barInfo:{},tab:"1"}},methods:{getAllocationBar:function(t,e){var a=this,s={method:"GET",url:c["a"].getInventoryTotalCost+t+"/"+e,headers:{Accept:"application/json"}};d()(s).then((function(t){a.barInfo=t.data,console.log("Bar info",a.barInfo)}))}},watch:{tab:function(t){this.getAllocationBar(parseInt(t),this.$route.params.id)}},created:function(){this.schoolName=this.$route.query.name,this.getAllocationBar(parseInt(this.tab),this.$route.params.id)},computed:{routeTab:function(){if(this.$route.query.name)return"".concat(this.$route.query.name);var t=this.$route.path.substring(1);return t}}},I=S,$=(a("71fb"),Object(_["a"])(I,i,n,!1,null,null,null));e["default"]=$.exports},c739:function(t,e,a){}}]);